<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Build: EditorMercs.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="classes.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="dir_3179ea33d55a76dc38212d9eab798728.html">export</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_e5664b4b56927c8728eb3192fa60e338.html">hdc2</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_1eb12a41a47efb9efcd82fa98f4f4dbd.html">FTP</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_80cc1f21a78ab7941088ea567f236150.html">ja2src</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_994ab287602efefceafe55287a3657d6.html">Build</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_33ea1c43094532be6a81f120546fc3d7.html">Editor</a></div>
<h1>EditorMercs.cpp</h1><a href="EditorMercs_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifdef PRECOMPILEDHEADERS</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">      #include "<a class="code" href="Editor_01All_8h.html">Editor All.h</a>"</span>
<a name="l00003"></a>00003 <span class="preprocessor">#else</span>
<a name="l00004"></a>00004 <span class="preprocessor"></span><span class="preprocessor">      #include "<a class="code" href="builddefines_8h.html">builddefines.h</a>"</span>
<a name="l00005"></a>00005 <span class="preprocessor">#endif</span>
<a name="l00006"></a>00006 <span class="preprocessor"></span>
<a name="l00007"></a>00007 <span class="preprocessor">#ifdef JA2EDITOR</span>
<a name="l00008"></a>00008 <span class="preprocessor"></span>
<a name="l00009"></a>00009 <span class="preprocessor">#ifndef PRECOMPILEDHEADERS</span>
<a name="l00010"></a>00010 <span class="preprocessor"></span><span class="preprocessor">      #include &lt;windows.h&gt;</span>
<a name="l00011"></a>00011 <span class="preprocessor">      #include "<a class="code" href="tiledef_8h.html">tiledef.h</a>"</span>
<a name="l00012"></a>00012 <span class="preprocessor">      #include "<a class="code" href="edit__sys_8h.html">edit_sys.h</a>"</span>
<a name="l00013"></a>00013 <span class="preprocessor">      #include "<a class="code" href="vsurface_8h.html">vsurface.h</a>"</span>
<a name="l00014"></a>00014 <span class="preprocessor">      #include "<a class="code" href="vobject_8h.html">vobject.h</a>"</span>
<a name="l00015"></a>00015 <span class="preprocessor">      #include "<a class="code" href="mousesystem_8h.html">mousesystem.h</a>"</span>
<a name="l00016"></a>00016 <span class="preprocessor">      #include "<a class="code" href="Button_01System_8h.html">Button System.h</a>"</span>
<a name="l00017"></a>00017 <span class="preprocessor">      #include "wcheck.h"</span>
<a name="l00018"></a>00018 <span class="preprocessor">      #include "<a class="code" href="vsurface_8h.html">vsurface.h</a>"</span>
<a name="l00019"></a>00019 <span class="preprocessor">      #include "<a class="code" href="line_8h.html">line.h</a>"</span>
<a name="l00020"></a>00020 <span class="preprocessor">      #include "<a class="code" href="input_8h.html">input.h</a>"</span>
<a name="l00021"></a>00021 <span class="preprocessor">      #include "<a class="code" href="sysutil_8h.html">sysutil.h</a>"</span>
<a name="l00022"></a>00022 <span class="preprocessor">      #include "font.h"</span>
<a name="l00023"></a>00023 <span class="preprocessor">      #include "<a class="code" href="Font_01Control_8h.html">Font Control.h</a>"</span>
<a name="l00024"></a>00024 <span class="preprocessor">      #include "<a class="code" href="editscreen_8h.html">editscreen.h</a>"</span>
<a name="l00025"></a>00025 <span class="preprocessor">      #include "<a class="code" href="selectwin_8h.html">selectwin.h</a>"</span>
<a name="l00026"></a>00026 <span class="preprocessor">      #include "<a class="code" href="video_8h.html">video.h</a>"</span>
<a name="l00027"></a>00027 <span class="preprocessor">      #include "<a class="code" href="vobject__blitters_8h.html">vobject_blitters.h</a>"</span>
<a name="l00028"></a>00028 <span class="preprocessor">      #include "interface panels.h"</span>
<a name="l00029"></a>00029 <span class="preprocessor">      #include "interface items.h"</span>
<a name="l00030"></a>00030 <span class="preprocessor">      #include "text.h"</span>
<a name="l00031"></a>00031 <span class="preprocessor">      #include "utilities.h"</span>
<a name="l00032"></a>00032 <span class="preprocessor">      #include "<a class="code" href="World_01Items_8h.html">World Items.h</a>"</span>
<a name="l00033"></a>00033 <span class="preprocessor">      #include "<a class="code" href="worldman_8h.html">worldman.h</a>"</span>
<a name="l00034"></a>00034 <span class="preprocessor">      #include "overhead.h"</span>   <span class="comment">//GetSoldier</span>
<a name="l00035"></a>00035 <span class="preprocessor">      #include "<a class="code" href="renderworld_8h.html">renderworld.h</a>"</span>
<a name="l00036"></a>00036 <span class="preprocessor">      #include "<a class="code" href="Animation_01Data_8h.html">Animation Data.h</a>"</span>
<a name="l00037"></a>00037 <span class="preprocessor">      #include "<a class="code" href="Animation_01Control_8h.html">Animation Control.h</a>"</span>
<a name="l00038"></a>00038 <span class="preprocessor">      #include "<a class="code" href="EditorDefines_8h.html">EditorDefines.h</a>"</span>
<a name="l00039"></a>00039 <span class="preprocessor">      #include "<a class="code" href="EditorMercs_8h.html">EditorMercs.h</a>"</span>
<a name="l00040"></a>00040 <span class="preprocessor">      #include "<a class="code" href="EditorTerrain_8h.html">EditorTerrain.h</a>"</span> <span class="comment">//for access to TerrainTileDrawMode</span>
<a name="l00041"></a>00041 <span class="preprocessor">      #include "<a class="code" href="Soldier_01Create_8h.html">Soldier Create.h</a>"</span> <span class="comment">//The stuff that connects the editor generated information</span>
<a name="l00042"></a>00042                                                                                           <span class="comment">//to the saved map and the game itself.</span>
<a name="l00043"></a>00043 <span class="preprocessor">      #include "<a class="code" href="Inventory_01Choosing_8h.html">Inventory Choosing.h</a>"</span>
<a name="l00044"></a>00044 <span class="preprocessor">      #include "<a class="code" href="Soldier_01Init_01List_8h.html">Soldier Init List.h</a>"</span>
<a name="l00045"></a>00045 <span class="preprocessor">      #include "<a class="code" href="strategicmap_8h.html">strategicmap.h</a>"</span>
<a name="l00046"></a>00046 <span class="preprocessor">      #include "<a class="code" href="Soldier_01Add_8h.html">Soldier Add.h</a>"</span>
<a name="l00047"></a>00047 <span class="preprocessor">      #include "<a class="code" href="Soldier_01Control_8h.html">Soldier Control.h</a>"</span>
<a name="l00048"></a>00048 <span class="preprocessor">      #include "Soldier Profile Type.h"</span>
<a name="l00049"></a>00049 <span class="preprocessor">      #include "<a class="code" href="Soldier_01Profile_8h.html">Soldier Profile.h</a>"</span>
<a name="l00050"></a>00050 <span class="preprocessor">      #include "<a class="code" href="Text_01Input_8h.html">Text Input.h</a>"</span>
<a name="l00051"></a>00051 <span class="preprocessor">      #include "Random.h"</span>
<a name="l00052"></a>00052 <span class="preprocessor">      #include "wordwrap.h"</span>
<a name="l00053"></a>00053 <span class="preprocessor">      #include "<a class="code" href="EditorItems_8h.html">EditorItems.h</a>"</span>
<a name="l00054"></a>00054 <span class="preprocessor">      #include "<a class="code" href="Editor_01Taskbar_01Utils_8h.html">Editor Taskbar Utils.h</a>"</span>
<a name="l00055"></a>00055 <span class="preprocessor">      #include "<a class="code" href="Exit_01Grids_8h.html">Exit Grids.h</a>"</span>
<a name="l00056"></a>00056 <span class="preprocessor">      #include "<a class="code" href="Editor_01Undo_8h.html">Editor Undo.h</a>"</span>
<a name="l00057"></a>00057 <span class="preprocessor">      #include "<a class="code" href="Item_01Statistics_8h.html">Item Statistics.h</a>"</span>
<a name="l00058"></a>00058 <span class="preprocessor">      #include "<a class="code" href="Simple_01Render_01Utils_8h.html">Simple Render Utils.h</a>"</span>
<a name="l00059"></a>00059 <span class="preprocessor">      #include "<a class="code" href="Map_01Information_8h.html">Map Information.h</a>"</span>
<a name="l00060"></a>00060 <span class="preprocessor">      #include "<a class="code" href="Isometric_01Utils_8h.html">Isometric Utils.h</a>"</span>
<a name="l00061"></a>00061 <span class="preprocessor">      #include "<a class="code" href="Render_01Dirty_8h.html">Render Dirty.h</a>"</span>
<a name="l00062"></a>00062 <span class="preprocessor">      #include "<a class="code" href="popupmenu_8h.html">popupmenu.h</a>"</span>
<a name="l00063"></a>00063 <span class="preprocessor">      #include "<a class="code" href="Scheduling_8h.html">Scheduling.h</a>"</span>
<a name="l00064"></a>00064 <span class="preprocessor">      #include "<a class="code" href="Timer_01Control_8h.html">Timer Control.h</a>"</span>
<a name="l00065"></a>00065 <span class="preprocessor">#endif</span>
<a name="l00066"></a>00066 <span class="preprocessor"></span>
<a name="l00067"></a>00067 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#d755e45c524d7ae88713e840e1c2aee3">GetSoldierAboveGuyPositions</a>( <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a> *<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>, <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> *psX, <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> *psY, <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> fRadio );
<a name="l00068"></a>00068 
<a name="l00069"></a>00069 <span class="comment">//--------------------------------------------------</span>
<a name="l00070"></a>00070 <span class="comment">//    NON_CIV_GROUP,</span>
<a name="l00071"></a>00071 <span class="comment">//    REBEL_CIV_GROUP,</span>
<a name="l00072"></a>00072 <span class="comment">//    KINGPIN_CIV_GROUP,</span>
<a name="l00073"></a>00073 <span class="comment">//    SANMONA_ARMS_GROUP,</span>
<a name="l00074"></a>00074 <span class="comment">//    ANGELS_GROUP,</span>
<a name="l00075"></a>00075 <span class="comment">//    NUM_CIV_GROUPS</span>
<a name="l00076"></a><a class="code" href="Overhead_01Types_8h.html#f66d3aaa0318dca6feaac3a43266e42e">00076</a> <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> <a class="code" href="EditorMercs_8cpp.html#f66d3aaa0318dca6feaac3a43266e42e">gszCivGroupNames</a>[ <a class="code" href="Overhead_01Types_8h.html#e6cdb622357fec6e889e47579a0785243f6e24328cb224b93d72e04eb3a34e76">NUM_CIV_GROUPS</a> ][ 20 ] = 
<a name="l00077"></a>00077 {
<a name="l00078"></a>00078       L<span class="stringliteral">"NONE"</span>,
<a name="l00079"></a>00079       L<span class="stringliteral">"REBEL"</span>,
<a name="l00080"></a>00080       L<span class="stringliteral">"KINGPIN"</span>,
<a name="l00081"></a>00081       L<span class="stringliteral">"SANMONA ARMS"</span>,
<a name="l00082"></a>00082       L<span class="stringliteral">"ANGELS"</span>,
<a name="l00083"></a>00083 
<a name="l00084"></a>00084       L<span class="stringliteral">"BEGGARS"</span>,
<a name="l00085"></a>00085       L<span class="stringliteral">"TOURISTS"</span>,
<a name="l00086"></a>00086       L<span class="stringliteral">"ALMA MIL"</span>,
<a name="l00087"></a>00087       L<span class="stringliteral">"DOCTORS"</span>,
<a name="l00088"></a>00088       L<span class="stringliteral">"COUPLE1"</span>,
<a name="l00089"></a>00089 
<a name="l00090"></a>00090       L<span class="stringliteral">"HICKS"</span>,
<a name="l00091"></a>00091       L<span class="stringliteral">"WARDEN"</span>,
<a name="l00092"></a>00092       L<span class="stringliteral">"JUNKYARD"</span>,
<a name="l00093"></a>00093       L<span class="stringliteral">"FACTORY KIDS"</span>,
<a name="l00094"></a>00094       L<span class="stringliteral">"QUEENS"</span>,
<a name="l00095"></a>00095       L<span class="stringliteral">"UNUSED15"</span>,
<a name="l00096"></a>00096       L<span class="stringliteral">"UNUSED16"</span>,
<a name="l00097"></a>00097       L<span class="stringliteral">"UNUSED17"</span>,
<a name="l00098"></a>00098       L<span class="stringliteral">"UNUSED18"</span>,
<a name="l00099"></a>00099       L<span class="stringliteral">"UNUSED19"</span>,
<a name="l00100"></a>00100 };
<a name="l00101"></a>00101 
<a name="l00102"></a>00102 <span class="comment">//--------------------------------------------------</span>
<a name="l00103"></a>00103 
<a name="l00104"></a>00104 <span class="comment">//    SCHEDULE_ACTION_NONE,</span>
<a name="l00105"></a>00105 <span class="comment">//    SCHEDULE_ACTION_LOCKDOOR,</span>
<a name="l00106"></a>00106 <span class="comment">//    SCHEDULE_ACTION_UNLOCKDOOR,</span>
<a name="l00107"></a>00107 <span class="comment">//    SCHEDULE_ACTION_OPENDOOR,</span>
<a name="l00108"></a>00108 <span class="comment">//    SCHEDULE_ACTION_CLOSEDOOR,</span>
<a name="l00109"></a>00109 <span class="comment">//    SCHEDULE_ACTION_GRIDNO,</span>
<a name="l00110"></a>00110 <span class="comment">//    SCHEDULE_ACTION_LEAVESECTOR,</span>
<a name="l00111"></a>00111 <span class="comment">//    SCHEDULE_ACTION_ENTERSECTOR,</span>
<a name="l00112"></a>00112 <span class="comment">//    SCHEDULE_ACTION_STAYINSECTOR,</span>
<a name="l00113"></a>00113 <span class="comment">//  SCHEDULE_ACTION_SLEEP,</span>
<a name="l00114"></a><a class="code" href="Scheduling_8cpp.html#91651ad3ee5934403424f95b71e1607c">00114</a> <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> <a class="code" href="EditorMercs_8cpp.html#91651ad3ee5934403424f95b71e1607c">gszScheduleActions</a>[ <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e4144a57a94163da39a3070169847c6a42">NUM_SCHEDULE_ACTIONS</a> ][20] = 
<a name="l00115"></a>00115 {
<a name="l00116"></a>00116       L<span class="stringliteral">"No action"</span>,
<a name="l00117"></a>00117       L<span class="stringliteral">"Lock door"</span>,
<a name="l00118"></a>00118       L<span class="stringliteral">"Unlock door"</span>,
<a name="l00119"></a>00119       L<span class="stringliteral">"Open door"</span>,
<a name="l00120"></a>00120       L<span class="stringliteral">"Close door"</span>,
<a name="l00121"></a>00121       L<span class="stringliteral">"Move to gridno"</span>,
<a name="l00122"></a>00122       L<span class="stringliteral">"Leave sector"</span>,
<a name="l00123"></a>00123       L<span class="stringliteral">"Enter sector"</span>,
<a name="l00124"></a>00124       L<span class="stringliteral">"Stay in sector"</span>,
<a name="l00125"></a>00125       L<span class="stringliteral">"Sleep"</span>,
<a name="l00126"></a>00126       L<span class="stringliteral">"Ignore this!"</span>
<a name="l00127"></a>00127 };
<a name="l00128"></a>00128 
<a name="l00129"></a>00129 
<a name="l00130"></a>00130 <span class="keyword">enum</span>
<a name="l00131"></a>00131 {
<a name="l00132"></a>00132       <a class="code" href="EditorMercs_8cpp.html#c36f475ca5b446f4fde4c9b90bec77c8082c469685ccc189e35e923300c42df0">SCHEDULE_INSTRUCTIONS_NONE</a>,
<a name="l00133"></a>00133       <a class="code" href="EditorMercs_8cpp.html#c36f475ca5b446f4fde4c9b90bec77c8637f75597c2cc43738a5ea3317b9936a">SCHEDULE_INSTRUCTIONS_DOOR1</a>,
<a name="l00134"></a>00134       <a class="code" href="EditorMercs_8cpp.html#c36f475ca5b446f4fde4c9b90bec77c8926e41b8ddb37b1dff7cc84bccc6e5c7">SCHEDULE_INSTRUCTIONS_DOOR2</a>,
<a name="l00135"></a>00135       <a class="code" href="EditorMercs_8cpp.html#c36f475ca5b446f4fde4c9b90bec77c881a68e90424ca40e2e0a515f7b18b7bf">SCHEDULE_INSTRUCTIONS_GRIDNO</a>,
<a name="l00136"></a>00136       <a class="code" href="EditorMercs_8cpp.html#c36f475ca5b446f4fde4c9b90bec77c840c8c8571f411e6d4801795685655c16">SCHEDULE_INSTRUCTIONS_SLEEP</a>,
<a name="l00137"></a>00137       <a class="code" href="EditorMercs_8cpp.html#c36f475ca5b446f4fde4c9b90bec77c85c33e53f5ba0733272c2f7e5ecb00b1d">NUM_SCHEDULE_INSTRUCTIONS</a>
<a name="l00138"></a>00138 };
<a name="l00139"></a>00139 
<a name="l00140"></a>00140 <span class="keyword">extern</span> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> <a class="code" href="EditorMercs_8cpp.html#b5407a76f0d6bdcb0ff38bd46dd32d39">gfSingleAction</a> = FALSE;
<a name="l00141"></a><a class="code" href="EditorMercs_8h.html#82403e13546a0bec793226fbd0bcb471">00141</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> <a class="code" href="EditorMercs_8cpp.html#82403e13546a0bec793226fbd0bcb471">gfUseScheduleData2</a> = FALSE;
<a name="l00142"></a><a class="code" href="EditorMercs_8h.html#5af8e495c28c76340ef0301509722b12">00142</a> <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> <a class="code" href="EditorMercs_8cpp.html#5af8e495c28c76340ef0301509722b12">gubCurrentScheduleActionIndex</a> = 0;
<a name="l00143"></a><a class="code" href="EditorMercs_8cpp.html#df565e837813894d38c4f47e323d7e18">00143</a> <a class="code" href="structSCHEDULENODE.html">SCHEDULENODE</a> <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>;
<a name="l00144"></a><a class="code" href="EditorMercs_8cpp.html#933ff7513fdbec27dc7f83237622aa89">00144</a> <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> <a class="code" href="EditorMercs_8cpp.html#933ff7513fdbec27dc7f83237622aa89">gubScheduleInstructions</a> = <a class="code" href="EditorMercs_8cpp.html#c36f475ca5b446f4fde4c9b90bec77c8082c469685ccc189e35e923300c42df0">SCHEDULE_INSTRUCTIONS_NONE</a>;
<a name="l00145"></a>00145 <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#7d38aec01f8c3081f9c77fd48f784151">DetermineScheduleEditability</a>();
<a name="l00146"></a>00146 <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#9b5f58a38022156898d06642c353e67b">RenderCurrentSchedule</a>();
<a name="l00147"></a>00147 <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#89a8b2c7b7d5fe4360c8549d61088175">UpdateScheduleInfo</a>();
<a name="l00148"></a>00148 
<a name="l00149"></a>00149 <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#bebfc4cbeb436e8bd34b9d316460a0cf">ShowEditMercPalettes</a>( <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a> *<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> );
<a name="l00150"></a>00150 <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#2bf5df1388bd29ecb815efe7b4986bd6">ShowEditMercColorSet</a>( <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubPaletteRep, <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sSet );
<a name="l00151"></a>00151 
<a name="l00152"></a>00152 <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#f1650b996fe2a94deec825cfe59fa429">ChangeBaseSoldierStats</a>( <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a> *<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> );
<a name="l00153"></a>00153 <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#5032964d792757fa6fd4445807c16ee5">AskDefaultDifficulty</a>( <span class="keywordtype">void</span> );
<a name="l00154"></a>00154 
<a name="l00155"></a>00155 <span class="comment">//internal merc inventory functions</span>
<a name="l00156"></a>00156 <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#29a0f30cc20ae3da81c1929eeb261141">AddNewItemToSelectedMercsInventory</a>( <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> fCreate );
<a name="l00157"></a>00157 <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#68a12fb1e8ef3cf9605cca34e4a9f1d2">RenderMercInventoryPanel</a>();
<a name="l00158"></a>00158 <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#b488e306f2fca040798a76c9a2ba9107">SetDroppableCheckboxesBasedOnMercsInventory</a>();
<a name="l00159"></a>00159 
<a name="l00160"></a>00160 <span class="keyword">extern</span> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> <a class="code" href="EditorMercs_8cpp.html#e6a3e994b768d1d9cd739a69c2970723">InternalAddSoldierToSector</a>( <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubID, <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> fCalculateDirection, <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> fUseAnimation, <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usAnimState, <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usAnimCode );
<a name="l00161"></a>00161 
<a name="l00162"></a>00162 <span class="comment">//array which keeps track of which item is in which slot.  This is dependant on the selected merc, so</span>
<a name="l00163"></a>00163 <span class="comment">//these temp values must be updated when different mercs are selected, and reset when a merc detailed </span>
<a name="l00164"></a>00164 <span class="comment">//placement is created.  </span>
<a name="l00165"></a><a class="code" href="EditorMercs_8cpp.html#997f0a46700fb2fcb6fb0e31e4b09059">00165</a> <a class="code" href="structOBJECTTYPE.html">OBJECTTYPE</a> *<a class="code" href="EditorMercs_8cpp.html#997f0a46700fb2fcb6fb0e31e4b09059">gpMercSlotItem</a>[9] = { NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL };
<a name="l00166"></a>00166 <span class="comment">//Because we only support these nine slots, they aren't continuous values, so this array helps</span>
<a name="l00167"></a>00167 <span class="comment">//processing functions by referring to this array to get the appropriate slot.</span>
<a name="l00168"></a><a class="code" href="Sector_01Summary_8cpp.html#20a3a478089d3e7ef31904fa69dc934f">00168</a> <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a> <a class="code" href="EditorMercs_8cpp.html#20a3a478089d3e7ef31904fa69dc934f">gbMercSlotTypes</a>[9] = { <a class="code" href="Soldier_01Control_8h.html#2a5937706f1724c8f06a0396bdc878551e1de377a2d80cf67fd63934f134956d">HELMETPOS</a>, <a class="code" href="Soldier_01Control_8h.html#2a5937706f1724c8f06a0396bdc87855afc78e6fc0aaffa92d59c2fe506f5c6a">VESTPOS</a>, <a class="code" href="Soldier_01Control_8h.html#2a5937706f1724c8f06a0396bdc87855c1f8517c3795dd56e0c2450e625753dc">LEGPOS</a>, <a class="code" href="Soldier_01Control_8h.html#2a5937706f1724c8f06a0396bdc87855408e678e638d95e18d5e9a2a64a96e2e">HANDPOS</a>, <a class="code" href="Soldier_01Control_8h.html#2a5937706f1724c8f06a0396bdc87855009684dc553cebead620fa082b29cb86">SECONDHANDPOS</a>, 
<a name="l00169"></a>00169                                                                                     <a class="code" href="Soldier_01Control_8h.html#2a5937706f1724c8f06a0396bdc8785521434ace88498823088a193622a0ab42">BIGPOCK1POS</a>, <a class="code" href="Soldier_01Control_8h.html#2a5937706f1724c8f06a0396bdc8785587b4fd997e9021e5ac9368ce323b57bc">BIGPOCK2POS</a>, <a class="code" href="Soldier_01Control_8h.html#2a5937706f1724c8f06a0396bdc87855eda6a2f9d1c54da91d76989eb4ab3569">BIGPOCK3POS</a>, <a class="code" href="Soldier_01Control_8h.html#2a5937706f1724c8f06a0396bdc8785571ec5bde48a89e74cbbb81af98298a4f">BIGPOCK4POS</a> };
<a name="l00170"></a>00170 <span class="comment">//returns the usItem index of specified slot in the currently selected merc.</span>
<a name="l00171"></a>00171 <span class="preprocessor">#define GetSelectedMercSlotItemIndex( x )  (gpSelected-&gt;pDetailedPlacement-&gt;Inv[gbMercSlotTypes[x]].usItem)</span>
<a name="l00172"></a>00172 <span class="preprocessor"></span><span class="preprocessor">#define GetSelectedMercSlot( x )  (&amp;gpSelected-&gt;pDetailedPlacement-&gt;Inv[gbMercSlotTypes[x]])</span>
<a name="l00173"></a>00173 <span class="preprocessor"></span><span class="comment">//values indicating which merc inventory slot is hilited and which slot is selected.</span>
<a name="l00174"></a><a class="code" href="EditorMercs_8cpp.html#7b43ee2651872b41410c6d56bbf9ae79">00174</a> <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a> <a class="code" href="EditorMercs_8cpp.html#7b43ee2651872b41410c6d56bbf9ae79">gbCurrHilite</a> = -1;
<a name="l00175"></a><a class="code" href="editscreen_8cpp.html#544bd12f560740d96e8c6fb33f308ea3">00175</a> <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a> <a class="code" href="EditorMercs_8cpp.html#544bd12f560740d96e8c6fb33f308ea3">gbCurrSelect</a> = -1;
<a name="l00176"></a>00176 <span class="comment">//when a new merc is selected, this function sets up all of the information for the slots, </span>
<a name="l00177"></a>00177 <span class="comment">//selections, and hilites.</span>
<a name="l00178"></a>00178 <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#da0ed6affc294644a7cd5a0a0578fa9f">UpdateMercItemSlots</a>();
<a name="l00179"></a>00179 
<a name="l00180"></a>00180 <span class="comment">//internal merc utility functions</span>
<a name="l00181"></a>00181 <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#419513a60a3e23c5ff454cc15b8c57e6">SetupTextInputForMercAttributes</a>();
<a name="l00182"></a>00182 <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#c8aa6c56654c23e9777c7dc99f34329e">SetupTextInputForMercProfile</a>();
<a name="l00183"></a>00183 <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#273566d96232de5c5a0024922b76cdaa">SetupTextInputForMercSchedule</a>();
<a name="l00184"></a>00184 <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#d944e9b7a815c67a2978df713d254a25">ExtractAndUpdateMercAttributes</a>();
<a name="l00185"></a>00185 <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#30bd6644688b34c945f815d612208f4e">ExtractAndUpdateMercProfile</a>();
<a name="l00186"></a>00186 <span class="keywordtype">void</span> <a class="code" href="Editor_01Callbacks_8cpp.html#ff93c87d84967186c71dbd80bcdf2dd1">ExtractAndUpdateMercSchedule</a>();
<a name="l00187"></a>00187 <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#2136f374c851b05fcf27907296da77be">CalcStringForValue</a>( <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> *<a class="code" href="Button_01System_8cpp.html#ac22642f3052cc77a6991a262ce4ad23">str</a>, <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iValue, <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a> uiMax );
<a name="l00188"></a>00188 <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#3031161409b30d3d2f2ec0a193a58dfd">ChangeBodyType</a>( <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a> bOffset );  <span class="comment">//+1 or -1 only</span>
<a name="l00189"></a>00189 
<a name="l00190"></a>00190 <span class="comment">//internal merc variables</span>
<a name="l00191"></a><a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">00191</a> <a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html">BASIC_SOLDIERCREATE_STRUCT</a> <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>;
<a name="l00192"></a><a class="code" href="EditorMercs_8cpp.html#574dc818771788ccc93b7a7eeb0ca79e">00192</a> <a class="code" href="structSOLDIERCREATE__STRUCT.html">SOLDIERCREATE_STRUCT</a> <a class="code" href="EditorMercs_8cpp.html#574dc818771788ccc93b7a7eeb0ca79e">gTempDetailedPlacement</a>;
<a name="l00193"></a>00193 
<a name="l00194"></a><a class="code" href="EditorMercs_8h.html#97092775cdf98eec280dbb127c7f8523">00194</a> <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>                               <a class="code" href="EditorMercs_8cpp.html#97092775cdf98eec280dbb127c7f8523">gsSelectedMercID</a>;
<a name="l00195"></a><a class="code" href="EditorMercs_8h.html#0d22864bdf4782d66e2c3ad2b985053d">00195</a> <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>                               <a class="code" href="EditorMercs_8cpp.html#0d22864bdf4782d66e2c3ad2b985053d">gsSelectedMercGridNo</a>;
<a name="l00196"></a><a class="code" href="overhead_01map_8cpp.html#1c874725158c013059b9c607153eef0f">00196</a> <a class="code" href="structSOLDIERINITNODE.html">SOLDIERINITNODE</a> *<a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>;
<a name="l00197"></a>00197 
<a name="l00198"></a><a class="code" href="EditorMercs_8h.html#60bc6cddda8166a782f69d3899ae0803">00198</a> <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>                               <a class="code" href="EditorMercs_8cpp.html#60bc6cddda8166a782f69d3899ae0803">gubCurrMercMode</a>                                                   = <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4ded05397cb5e55ba364040c8409051427">MERC_TEAMMODE</a>;
<a name="l00199"></a><a class="code" href="EditorMercs_8h.html#a21bd683566f910835c788ce1e742338">00199</a> <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>                               <a class="code" href="EditorMercs_8cpp.html#a21bd683566f910835c788ce1e742338">gubPrevMercMode</a>                                                   = <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4da0f22b9326112543b6e624e369ed466f">MERC_NOMODE</a>;
<a name="l00200"></a><a class="code" href="EditorMercs_8cpp.html#9f111865b1097d9afcc2ca25cf3d9bce">00200</a> <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>                               <a class="code" href="EditorMercs_8cpp.html#9f111865b1097d9afcc2ca25cf3d9bce">gubLastDetailedMercMode</a>                         = <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4df6a1f80107b74c70ab558b4d41e5a269">MERC_GENERALMODE</a>;
<a name="l00201"></a><a class="code" href="EditorMercs_8cpp.html#f3268572aa1fb5a21b4028b1030eaf05">00201</a> <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>                                <a class="code" href="EditorMercs_8cpp.html#f3268572aa1fb5a21b4028b1030eaf05">gbDefaultOrders</a>                                                   = <a class="code" href="Overhead_01Types_8h.html#5e7fba63eebd783231b18f414e8a138fc84bd0ee013c388bd7cc8139be7206a2">STATIONARY</a>;
<a name="l00202"></a><a class="code" href="EditorMercs_8cpp.html#1e367a9e00aa1e48e539dff3af04eb4b">00202</a> <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>                                <a class="code" href="EditorMercs_8cpp.html#1e367a9e00aa1e48e539dff3af04eb4b">gbDefaultAttitude</a>                                           = <a class="code" href="Overhead_01Types_8h.html#731c15105066cc17fd55a258db2879d33e48d9347e4b619a68607635dd6b57d8">DEFENSIVE</a>;
<a name="l00203"></a><a class="code" href="EditorMercs_8cpp.html#8460ea2dab8437651be3485e215570d3">00203</a> <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>                                <a class="code" href="EditorMercs_8cpp.html#8460ea2dab8437651be3485e215570d3">gbDefaultRelativeEquipmentLevel</a> = 2;
<a name="l00204"></a><a class="code" href="EditorMercs_8cpp.html#1698c2da5f45a3189c12ebd7f8be27dd">00204</a> <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>                                <a class="code" href="EditorMercs_8cpp.html#1698c2da5f45a3189c12ebd7f8be27dd">gbDefaultRelativeAttributeLevel</a> = 2;
<a name="l00205"></a><a class="code" href="EditorMercs_8cpp.html#390e5c696ac0bc59f0e309be40fe3b8e">00205</a> <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>                                <a class="code" href="EditorMercs_8cpp.html#390e5c696ac0bc59f0e309be40fe3b8e">gbDefaultDirection</a>                                          = <a class="code" href="Overhead_01Types_8h.html#df5bf54a26a76adf253f57d88ade82b7c8aee466c121a3c3c942f58e1d8864d4">NORTHWEST</a>;
<a name="l00206"></a><a class="code" href="EditorMercs_8cpp.html#f724bce39c86756cf49adebc2bc120bf">00206</a> <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>                                <a class="code" href="EditorMercs_8cpp.html#f724bce39c86756cf49adebc2bc120bf">gubSoldierClass</a>                                       = <a class="code" href="Soldier_01Control_8h.html#d559b3ed307be626eacea8b56942de61e155251ca19fc71034c52119253642b8">SOLDIER_CLASS_ARMY</a>;
<a name="l00207"></a><a class="code" href="EditorMercs_8cpp.html#730825eabcaa2a47486695078d8a55e6">00207</a> <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>                               <a class="code" href="EditorMercs_8cpp.html#730825eabcaa2a47486695078d8a55e6">gubCivGroup</a>                                                             = <a class="code" href="Overhead_01Types_8h.html#e6cdb622357fec6e889e47579a078524cb5f7573455bdacd2b87a051da610c97">NON_CIV_GROUP</a>;
<a name="l00208"></a>00208 
<a name="l00209"></a><a class="code" href="EditorMercs_8cpp.html#93f0d7aeeac23b3a7528643fca0d2012">00209</a> <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a>             *<a class="code" href="EditorMercs_8cpp.html#93f0d7aeeac23b3a7528643fca0d2012">pTempSoldier</a>;
<a name="l00210"></a><a class="code" href="EditorMercs_8h.html#63f73c0a419cfcefad6eae7fea060d9e">00210</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>                             <a class="code" href="EditorMercs_8cpp.html#63f73c0a419cfcefad6eae7fea060d9e">gfRoofPlacement</a>;
<a name="l00211"></a>00211 
<a name="l00212"></a>00212 <span class="comment">//Below are all flags that have to do with editing detailed placement mercs:</span>
<a name="l00213"></a>00213 
<a name="l00214"></a>00214 <span class="comment">//Determines if the user is allowed to edit merc colors.  User must specifically</span>
<a name="l00215"></a>00215 <span class="comment">//click on the checkbox by the colors to confirm that colors will be specified.  If</span>
<a name="l00216"></a>00216 <span class="comment">//not, the colors will be randomly generated upon creation in the game.</span>
<a name="l00217"></a><a class="code" href="EditorMercs_8cpp.html#7005ca9c1dc1f9eae1dc8c485f72c410">00217</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>                             <a class="code" href="EditorMercs_8cpp.html#7005ca9c1dc1f9eae1dc8c485f72c410">gfCanEditMercColors</a>                                         = FALSE;
<a name="l00218"></a>00218 <span class="comment">//A rendering flag that is set whenever a full update of the merc editing information</span>
<a name="l00219"></a>00219 <span class="comment">//needs to be done.</span>
<a name="l00220"></a><a class="code" href="EditorMercs_8h.html#2411d22b871f9aaa6b8596afc913c909">00220</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>                             <a class="code" href="EditorMercs_8cpp.html#2411d22b871f9aaa6b8596afc913c909">gfRenderMercInfo</a>                                            = FALSE;
<a name="l00221"></a>00221 <span class="comment">//When the user specifies a profile index for the merc, all editing is disabled.  This is</span>
<a name="l00222"></a>00222 <span class="comment">//because the profile contains all of the information.  When this happens, all of the editing</span>
<a name="l00223"></a>00223 <span class="comment">//buttons are disabled, but you are allowed to view stats, inventory, etc., as well as specify</span>
<a name="l00224"></a>00224 <span class="comment">//orders, attitude, and direction.</span>
<a name="l00225"></a><a class="code" href="EditorMercs_8cpp.html#2f7af5c422377e3f1100cc761a5805f0">00225</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>                             <a class="code" href="EditorMercs_8cpp.html#2f7af5c422377e3f1100cc761a5805f0">gfCanEditMercs</a>                                                    = TRUE;
<a name="l00226"></a>00226 <span class="comment">//When in inventory mode, this flag is set when the user wishes to get an item, which requires hooking</span>
<a name="l00227"></a>00227 <span class="comment">//into the item editing features.  This is processed during the editor update, which in turn, sets the</span>
<a name="l00228"></a>00228 <span class="comment">//new mode.</span>
<a name="l00229"></a><a class="code" href="EditorMercs_8cpp.html#3d74c085ebd782d09e8f164f467620af">00229</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>                             <a class="code" href="EditorDefines_8h.html#3d74c085ebd782d09e8f164f467620af">gfMercGetItem</a>                                                           = FALSE;
<a name="l00230"></a>00230 <span class="comment">//As soon as an item is selected, the items index is stored here, so the item can be copied into the</span>
<a name="l00231"></a>00231 <span class="comment">//slot for editing and rendering purposes.  This is a temp store value only when leaving the editor items</span>
<a name="l00232"></a>00232 <span class="comment">//mode.</span>
<a name="l00233"></a><a class="code" href="EditorMercs_8h.html#54a1eba5cf567ba5c1e123a83dcb38af">00233</a> <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> <a class="code" href="EditorMercs_8cpp.html#54a1eba5cf567ba5c1e123a83dcb38af">gusMercsNewItemIndex</a>                                                                     = 0xffff;
<a name="l00234"></a>00234 
<a name="l00235"></a>00235 <span class="comment">//old and probably obsolete</span>
<a name="l00236"></a>00236 <span class="comment">//BOOLEAN   fMercEdUseLeftSide = FALSE;</span>
<a name="l00237"></a>00237 <span class="comment">//BOOLEAN fEditingMerc = FALSE;</span>
<a name="l00238"></a>00238 <span class="comment">//BOOLEAN fKeepWindowHidden = FALSE;</span>
<a name="l00239"></a><a class="code" href="EditorMercs_8cpp.html#079e98eb4e2f2bd2ea7cd50e877fdd49">00239</a> <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> <a class="code" href="EditorMercs_8cpp.html#079e98eb4e2f2bd2ea7cd50e877fdd49">iEditMercPage</a> = 1;
<a name="l00240"></a><a class="code" href="EditorMercs_8cpp.html#31591171df2dfb4f8df4bde4ae93a4c6">00240</a> <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> <a class="code" href="EditorMercs_8cpp.html#31591171df2dfb4f8df4bde4ae93a4c6">iEditMercEnd</a> = -1;
<a name="l00241"></a><a class="code" href="EditorMercs_8cpp.html#58f68b520cdf1012fee051caa8e31fd9">00241</a> <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> <a class="code" href="EditorMercs_8cpp.html#58f68b520cdf1012fee051caa8e31fd9">iEditMercBkgrndArea</a> = -1;
<a name="l00242"></a><a class="code" href="EditorMercs_8cpp.html#995790e027e08b067ee4f0b875289ab4">00242</a> <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> <a class="code" href="EditorMercs_8cpp.html#995790e027e08b067ee4f0b875289ab4">iEditMercLocation</a>;
<a name="l00243"></a><a class="code" href="EditorMercs_8cpp.html#c334c7ef62730dd02106a440868897e7">00243</a> <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> <a class="code" href="EditorMercs_8cpp.html#c334c7ef62730dd02106a440868897e7">iEditStatTimer</a> = 0;
<a name="l00244"></a><a class="code" href="EditorMercs_8cpp.html#3c10cbfdb437cfc91e71b32a0f842907">00244</a> <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> <a class="code" href="EditorMercs_8cpp.html#3c10cbfdb437cfc91e71b32a0f842907">iEditWhichStat</a> = -1;
<a name="l00245"></a><a class="code" href="EditorMercs_8cpp.html#c536433585b5b9594626ed0a9046b964">00245</a> <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> <a class="code" href="EditorMercs_8cpp.html#c536433585b5b9594626ed0a9046b964">iEditMercMode</a> = EDIT_MERC_NONE;
<a name="l00246"></a><a class="code" href="EditorMercs_8cpp.html#04aaaa2725250663b2324a2a408f11fc">00246</a> <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> <a class="code" href="EditorMercs_8cpp.html#04aaaa2725250663b2324a2a408f11fc">iEditMercColorPage</a> = -1;
<a name="l00247"></a><a class="code" href="EditorMercs_8cpp.html#e82018130c1f737280ee437631583322">00247</a> <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> <a class="code" href="EditorMercs_8cpp.html#e82018130c1f737280ee437631583322">iEditMercStatPage</a> = -1;
<a name="l00248"></a><a class="code" href="EditorMercs_8cpp.html#d3229825180c9c44cda8e36f929e4d57">00248</a> <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> <a class="code" href="EditorMercs_8cpp.html#d3229825180c9c44cda8e36f929e4d57">iEditMercFindButton</a> = -1;
<a name="l00249"></a><a class="code" href="EditorMercs_8cpp.html#9c7616642bacb4edac8e8fda821cfd23">00249</a> <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> <a class="code" href="EditorMercs_8cpp.html#9c7616642bacb4edac8e8fda821cfd23">iEditMercSlotNumber</a>;
<a name="l00250"></a><a class="code" href="EditorMercs_8cpp.html#cd0962064c655b122c2303c730b87c2f">00250</a> <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> <a class="code" href="EditorMercs_8cpp.html#cd0962064c655b122c2303c730b87c2f">iEditColorStart</a>[EDIT_NUM_COLORS];
<a name="l00251"></a>00251 
<a name="l00252"></a><a class="code" href="EditorMercs_8h.html#6bf44fa2f4b994e3bdc0753ee7854388">00252</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> <a class="code" href="EditorMercs_8cpp.html#6bf44fa2f4b994e3bdc0753ee7854388">gfShowPlayers</a> = TRUE;
<a name="l00253"></a><a class="code" href="EditorMercs_8h.html#b2d6a71d0180403ec1cce077e3881d59">00253</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> <a class="code" href="EditorMercs_8cpp.html#b2d6a71d0180403ec1cce077e3881d59">gfShowEnemies</a> = TRUE;
<a name="l00254"></a><a class="code" href="EditorMercs_8h.html#a29d6d9f9f9f3d726cf8cf0918a36f7d">00254</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> <a class="code" href="EditorMercs_8cpp.html#a29d6d9f9f9f3d726cf8cf0918a36f7d">gfShowCreatures</a> = TRUE;
<a name="l00255"></a><a class="code" href="EditorMercs_8h.html#278168e603e283152d32c91d39fa8289">00255</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> <a class="code" href="EditorMercs_8cpp.html#278168e603e283152d32c91d39fa8289">gfShowRebels</a> = TRUE;
<a name="l00256"></a><a class="code" href="EditorMercs_8h.html#8fbc575bc97ecdc72849f9a45faa0910">00256</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> <a class="code" href="EditorMercs_8cpp.html#8fbc575bc97ecdc72849f9a45faa0910">gfShowCivilians</a> = TRUE;
<a name="l00257"></a>00257 
<a name="l00258"></a>00258 <span class="preprocessor">#define BASE_STAT_DEVIATION               7</span>
<a name="l00259"></a>00259 <span class="preprocessor"></span><span class="preprocessor">#define BASE_EXPLVL_DEVIATION       1</span>
<a name="l00260"></a>00260 <span class="preprocessor"></span><span class="preprocessor">#define BASE_PROTLVL_DEVIATION      0</span>
<a name="l00261"></a>00261 <span class="preprocessor"></span><span class="preprocessor">#define BASE_GUNTYPE_DEVIATION      4</span>
<a name="l00262"></a>00262 <span class="preprocessor"></span><span class="preprocessor">#define DEFAULT_DIFF                                  2</span>
<a name="l00263"></a>00263 <span class="preprocessor"></span>
<a name="l00264"></a><a class="code" href="EditorMercs_8h.html#6c75056367de68c8e75e29d281290623">00264</a> <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> <a class="code" href="EditorMercs_8cpp.html#6c75056367de68c8e75e29d281290623">sCurBaseDiff</a> = DEFAULT_DIFF;
<a name="l00265"></a><a class="code" href="EditorMercs_8cpp.html#e567e979d8b5b624beb0e47a603a8388">00265</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> <a class="code" href="EditorMercs_8cpp.html#e567e979d8b5b624beb0e47a603a8388">fAskForBaseDifficulty</a> = TRUE;
<a name="l00266"></a><a class="code" href="EditorMercs_8h.html#3b9a0dca581557f13a360473bb7d93c2">00266</a> <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> *<a class="code" href="EditorMercs_8cpp.html#3b9a0dca581557f13a360473bb7d93c2">zDiffNames</a>[NUM_DIFF_LVLS] = { L<span class="stringliteral">"Wimp"</span>, L<span class="stringliteral">"Easy"</span>, L<span class="stringliteral">"Average"</span>, L<span class="stringliteral">"Tough"</span>, L<span class="stringliteral">"Steroid Users Only"</span> };
<a name="l00267"></a><a class="code" href="EditorMercs_8cpp.html#dbdd3c17ddaf2de22fd526061af336df">00267</a> <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> <a class="code" href="EditorMercs_8cpp.html#dbdd3c17ddaf2de22fd526061af336df">sBaseStat</a>[NUM_DIFF_LVLS] = { 50, 60, 70, 80, 90 };
<a name="l00268"></a><a class="code" href="EditorMercs_8cpp.html#d8dcecf8bbb8b51f32ab9dee2321688d">00268</a> <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> <a class="code" href="EditorMercs_8cpp.html#d8dcecf8bbb8b51f32ab9dee2321688d">sBaseExpLvl</a>[NUM_DIFF_LVLS] = { 1, 3, 5, 7, 9 };
<a name="l00269"></a>00269 
<a name="l00270"></a><a class="code" href="EditorMercs_8cpp.html#b894fb1a45f6b476a83c7ebe4b78176a">00270</a> <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> *<a class="code" href="EditorMercs_8cpp.html#b894fb1a45f6b476a83c7ebe4b78176a">EditMercStat</a>[12] = { L<span class="stringliteral">"Max Health"</span>,L<span class="stringliteral">"Cur Health"</span>,L<span class="stringliteral">"Strength"</span>,
<a name="l00271"></a>00271                                                                                      L<span class="stringliteral">"Agility"</span>,L<span class="stringliteral">"Dexterity"</span>,L<span class="stringliteral">"Charisma"</span>,
<a name="l00272"></a>00272                                                                                      L<span class="stringliteral">"Wisdom"</span>,L<span class="stringliteral">"Marksmanship"</span>,L<span class="stringliteral">"Explosives"</span>,
<a name="l00273"></a>00273                                                                                      L<span class="stringliteral">"Medical"</span>,L<span class="stringliteral">"Scientific"</span>,L<span class="stringliteral">"Exp Level"</span> };
<a name="l00274"></a>00274 
<a name="l00275"></a>00275 <span class="preprocessor">#define NUM_MERC_ORDERS 8</span>
<a name="l00276"></a><a class="code" href="EditorMercs_8cpp.html#0869c1a66ee987ab042dd90b70a9ab34">00276</a> <span class="preprocessor"></span><a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> *<a class="code" href="EditorMercs_8cpp.html#0869c1a66ee987ab042dd90b70a9ab34">EditMercOrders</a>[8] = { L<span class="stringliteral">"Stationary"</span>,L<span class="stringliteral">"On Guard"</span>,L<span class="stringliteral">"Close Patrol"</span>,
<a name="l00277"></a>00277                                                                                           L<span class="stringliteral">"Far Patrol"</span>,L<span class="stringliteral">"Point Patrol"</span>,L<span class="stringliteral">"On Call"</span>,
<a name="l00278"></a>00278                                                                                           L<span class="stringliteral">"Seek Enemy"</span>, L<span class="stringliteral">"Random Point Patrol"</span>};
<a name="l00279"></a>00279 
<a name="l00280"></a><a class="code" href="EditorMercs_8cpp.html#3bffe52fe5d2dec0ff40ebc22e3afb82">00280</a> <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> *<a class="code" href="EditorMercs_8cpp.html#3bffe52fe5d2dec0ff40ebc22e3afb82">EditMercAttitudes</a>[6] = { L<span class="stringliteral">"Defensive"</span>,L<span class="stringliteral">"Brave Loner"</span>,L<span class="stringliteral">"Brave Buddy"</span>,
<a name="l00281"></a>00281                                                                                                       L<span class="stringliteral">"Cunning Loner"</span>,L<span class="stringliteral">"Cunning Buddy"</span>,
<a name="l00282"></a>00282                                                                                                       L<span class="stringliteral">"Aggressive"</span> };
<a name="l00283"></a>00283 
<a name="l00284"></a>00284 <span class="comment">//information for bodytypes.</span>
<a name="l00285"></a>00285 <span class="preprocessor">#ifdef RANDOM</span>
<a name="l00286"></a>00286 <span class="preprocessor"></span><span class="preprocessor">  #undef RANDOM</span>
<a name="l00287"></a>00287 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00288"></a>00288 <span class="preprocessor"></span><span class="preprocessor">#define RANDOM    -1</span>
<a name="l00289"></a>00289 <span class="preprocessor"></span><span class="preprocessor">#define MAX_ENEMYTYPES                    7</span>
<a name="l00290"></a>00290 <span class="preprocessor"></span><span class="comment">//#define MAX_ENEMYRANDOMTYPES      5</span>
<a name="l00291"></a>00291 <span class="preprocessor">#define MAX_CREATURETYPES                 8</span>
<a name="l00292"></a>00292 <span class="preprocessor"></span><span class="preprocessor">#define MAX_REBELTYPES                    7</span>
<a name="l00293"></a>00293 <span class="preprocessor"></span><span class="preprocessor">#define MAX_CIVTYPES                            18</span>
<a name="l00294"></a>00294 <span class="preprocessor"></span><span class="comment">//#define MAX_CIVRANDOMTYPES        11</span>
<a name="l00295"></a><a class="code" href="EditorMercs_8cpp.html#34c009f84168d9b8dcf2f183e1a8d909">00295</a> <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a> <a class="code" href="EditorMercs_8cpp.html#34c009f84168d9b8dcf2f183e1a8d909">bEnemyArray</a>[MAX_ENEMYTYPES]={ RANDOM, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a788083a907978249a0160b5b1dd9ee4a4">REGMALE</a>, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a7e6eac15857ce481c9ed507f7459a3507">BIGMALE</a>, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a73a7e8d65cd007e97390c6a3ae18062ce">STOCKYMALE</a>, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a7040d5c40e76c4103ced101507f96e2f6">REGFEMALE</a>, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a708ba6f8fd9cf7e71998af76cccab9209">TANK_NW</a>, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a774887c6043843fcb84d7e6b341257354">TANK_NE</a> };
<a name="l00296"></a><a class="code" href="EditorMercs_8cpp.html#d427983b3a807996992e45fe10d3642a">00296</a> <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a> <a class="code" href="EditorMercs_8cpp.html#d427983b3a807996992e45fe10d3642a">bCreatureArray</a>[MAX_CREATURETYPES]={ <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a7fa470b7d78ba43f21bfd04c49f02a70b">BLOODCAT</a>, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a7c6b7363ef12dbe5ad2377613a3d33db9">LARVAE_MONSTER</a>, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a7e687bcc336b8be3ac4aac1346046d095">INFANT_MONSTER</a>, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a75f60be3c60e156d8cec34802d7f3607b">YAF_MONSTER</a>, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a725460f03079c143c4456f779763fa23b">YAM_MONSTER</a>, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a78e8f2de8ab141e991ee2b34ebb1dfda1">ADULTFEMALEMONSTER</a>, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a79dec21a470d88f8b8a8704cb9b5ac827">AM_MONSTER</a>, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a75f327a7c32f4f979f42e8d6f6adbf587">QUEENMONSTER</a> };
<a name="l00297"></a><a class="code" href="EditorMercs_8cpp.html#054459411af3d3e6e77eb9e11286cae6">00297</a> <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a> <a class="code" href="EditorMercs_8cpp.html#054459411af3d3e6e77eb9e11286cae6">bRebelArray</a>[MAX_REBELTYPES]={ RANDOM, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a72254b6f06629056dd86be50df5347676">FATCIV</a>, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a7f084d9af5cfa408362f35095268783f6">MANCIV</a>, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a788083a907978249a0160b5b1dd9ee4a4">REGMALE</a>, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a7e6eac15857ce481c9ed507f7459a3507">BIGMALE</a>, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a73a7e8d65cd007e97390c6a3ae18062ce">STOCKYMALE</a>, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a7040d5c40e76c4103ced101507f96e2f6">REGFEMALE</a> };
<a name="l00298"></a><a class="code" href="EditorMercs_8cpp.html#f1d8ff4852ffc5f8c7fcc512e26a8fd3">00298</a> <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a> <a class="code" href="EditorMercs_8cpp.html#f1d8ff4852ffc5f8c7fcc512e26a8fd3">bCivArray</a>[MAX_CIVTYPES]={ RANDOM, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a72254b6f06629056dd86be50df5347676">FATCIV</a>, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a7f084d9af5cfa408362f35095268783f6">MANCIV</a>, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a7af422ea2d015cab1eb7d0cf653186a05">MINICIV</a>, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a734700b4c6e766408a86e53420c62163c">DRESSCIV</a>, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a7d280093211f32a309c7e52bc1e4570c8">HATKIDCIV</a>, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a7572e26862c1a3864663d8fe55b2f7f4d">KIDCIV</a>, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a788083a907978249a0160b5b1dd9ee4a4">REGMALE</a>, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a7e6eac15857ce481c9ed507f7459a3507">BIGMALE</a>, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a73a7e8d65cd007e97390c6a3ae18062ce">STOCKYMALE</a>, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a7040d5c40e76c4103ced101507f96e2f6">REGFEMALE</a>, 
<a name="l00299"></a>00299                                                                                            <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a76af8c23138db907d1a486cd724a86f5b">HUMVEE</a>, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a75f90b299525bc0859c82cf015baba03a">ELDORADO</a>, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a754252ec441c8e71f72eb60e34320e0c7">ICECREAMTRUCK</a>, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a795ca3a8c0c3270bc4d68f7b04553eaef">JEEP</a>, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a75db4e8d299d195df30798a12cd332f5a">CRIPPLECIV</a>, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a7ecd13f015271b5b87d3e53037a5011bb">ROBOTNOWEAPON</a>, <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a748505ba252c1ec37e34d882e6f4a3ecf">COW</a> };
<a name="l00300"></a><a class="code" href="EditorMercs_8cpp.html#d11c1bf8e2d6cd2aebd500ea2978de21">00300</a> <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a> <a class="code" href="EditorMercs_8cpp.html#d11c1bf8e2d6cd2aebd500ea2978de21">gbCurrCreature</a> = <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a7fa470b7d78ba43f21bfd04c49f02a70b">BLOODCAT</a>;
<a name="l00301"></a>00301 
<a name="l00302"></a>00302 
<a name="l00303"></a>00303 
<a name="l00304"></a><a class="code" href="EditorMercs_8cpp.html#4eaae66eeba853c25f63d9e2af08676f">00304</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> <a class="code" href="EditorMercs_8cpp.html#4eaae66eeba853c25f63d9e2af08676f">gfSaveBuffer</a> = FALSE;
<a name="l00305"></a>00305 <span class="keyword">extern</span> <a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html">BASIC_SOLDIERCREATE_STRUCT</a> <a class="code" href="EditorMercs_8cpp.html#b28243851255649b7d99dd8ba61cd58b">gSaveBufferBasicPlacement</a>;
<a name="l00306"></a>00306 <span class="keyword">extern</span> <a class="code" href="structSOLDIERCREATE__STRUCT.html">SOLDIERCREATE_STRUCT</a> <a class="code" href="EditorMercs_8cpp.html#a76751678bcb56c6e7ef0cb499216348">gSaveBufferDetailedPlacement</a>;
<a name="l00307"></a>00307 <span class="comment">//void CopyMercPlacement(); // moved to header (jonathanl)</span>
<a name="l00308"></a>00308 <span class="comment">//void PasteMercPlacement(); // moved to header (jonathanl)</span>
<a name="l00309"></a>00309 
<a name="l00310"></a><a class="code" href="EditorMercs_8h.html#897a0dd98bfc2ff07ff3998a7690c37d">00310</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#897a0dd98bfc2ff07ff3998a7690c37d">GameInitEditorMercsInfo</a>()
<a name="l00311"></a>00311 {
<a name="l00312"></a>00312       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> i;
<a name="l00313"></a>00313       <span class="comment">//Initialize the placement list</span>
<a name="l00314"></a>00314       <a class="code" href="Soldier_01Init_01List_8cpp.html#8631fe6ee66c33abd429bb192ff333c5">InitSoldierInitList</a>();
<a name="l00315"></a>00315       <a class="code" href="Map_01Information_8cpp.html#9092e81f9a27bc1c300962e835ee7f22">gMapInformation</a>.<a class="code" href="structMAPCREATE__STRUCT.html#74ea2022333b7e2e64249c8bacb8fe0d">ubNumIndividuals</a> = 0;
<a name="l00316"></a>00316       memset( &amp;<a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>, 0, <span class="keyword">sizeof</span>( <a class="code" href="structSCHEDULENODE.html">SCHEDULENODE</a> ) );
<a name="l00317"></a>00317       <span class="keywordflow">for</span>( i = 0; i &lt; 4; i++ )
<a name="l00318"></a>00318       {
<a name="l00319"></a>00319             <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#3f66611504ece97ffd37fa37e787fad5">usTime</a>[i] = 0xffff;
<a name="l00320"></a>00320             <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#475c9bc0353131ecaceb1b9f31b3ff31">usData1</a>[i] = 0xffff;
<a name="l00321"></a>00321             <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#6606765a168cbb9f8d84094f6726d960">usData2</a>[i] = 0xffff;
<a name="l00322"></a>00322       }
<a name="l00323"></a>00323 }
<a name="l00324"></a>00324 
<a name="l00325"></a><a class="code" href="EditorMercs_8h.html#196519c26d91c3aa45ec111239433fad">00325</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#196519c26d91c3aa45ec111239433fad">GameShutdownEditorMercsInfo</a>()
<a name="l00326"></a>00326 {
<a name="l00327"></a>00327       <a class="code" href="Soldier_01Init_01List_8cpp.html#2bac9cbad599d4ae5de3675de412c07e">UseEditorAlternateList</a>();
<a name="l00328"></a>00328       <a class="code" href="Soldier_01Init_01List_8cpp.html#dffb24da8f26acbb9d646526cffa369b">KillSoldierInitList</a>();
<a name="l00329"></a>00329       <a class="code" href="Soldier_01Init_01List_8cpp.html#90f0aa2f38ee0f76937712135eb31898">UseEditorOriginalList</a>();
<a name="l00330"></a>00330       <a class="code" href="Soldier_01Init_01List_8cpp.html#dffb24da8f26acbb9d646526cffa369b">KillSoldierInitList</a>();
<a name="l00331"></a>00331 }
<a name="l00332"></a>00332 
<a name="l00333"></a><a class="code" href="EditorMercs_8h.html#ace974cfb867666edb3f32c0520c51b0">00333</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#ace974cfb867666edb3f32c0520c51b0">EntryInitEditorMercsInfo</a>()
<a name="l00334"></a>00334 {
<a name="l00335"></a>00335       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> <a class="code" href="Sound_01Control_8cpp.html#6150e0515f7202e2fb518f7206ed97dc">x</a>, iCurStart = 0;
<a name="l00336"></a>00336       <a class="code" href="EditorMercs_8cpp.html#cd0962064c655b122c2303c730b87c2f">iEditColorStart</a>[0] = 0;
<a name="l00337"></a>00337       <span class="keywordflow">for</span> ( x = 1; x &lt; EDIT_NUM_COLORS; x++ )
<a name="l00338"></a>00338       {
<a name="l00339"></a>00339             iCurStart += <a class="code" href="Soldier_01Control_8cpp.html#39e8c94e49cdfdffd8fce8412d4a596f">gubpNumReplacementsPerRange</a>[ x - 1 ];
<a name="l00340"></a>00340             <a class="code" href="EditorMercs_8cpp.html#cd0962064c655b122c2303c730b87c2f">iEditColorStart</a>[x] = iCurStart;
<a name="l00341"></a>00341       }
<a name="l00342"></a>00342       <a class="code" href="EditorMercs_8cpp.html#97092775cdf98eec280dbb127c7f8523">gsSelectedMercID</a> = -1; 
<a name="l00343"></a>00343       <a class="code" href="EditorMercs_8cpp.html#0d22864bdf4782d66e2c3ad2b985053d">gsSelectedMercGridNo</a> = 0;
<a name="l00344"></a>00344       
<a name="l00345"></a>00345       <a class="code" href="EditorMercs_8cpp.html#2f7af5c422377e3f1100cc761a5805f0">gfCanEditMercs</a> = TRUE;
<a name="l00346"></a>00346 }
<a name="l00347"></a>00347 
<a name="l00348"></a>00348 <span class="keyword">enum</span>
<a name="l00349"></a>00349 {
<a name="l00350"></a>00350       <a class="code" href="EditorMercs_8cpp.html#05589fbab0657f08285ebdfe93f5ec9e79074c0dc0996b4cd75346ccdeeb1118">HAIR_PAL</a>,
<a name="l00351"></a>00351       <a class="code" href="EditorMercs_8cpp.html#05589fbab0657f08285ebdfe93f5ec9e057bd48916518f3fa9a483aea5c975f7">SKIN_PAL</a>,
<a name="l00352"></a>00352       <a class="code" href="EditorMercs_8cpp.html#05589fbab0657f08285ebdfe93f5ec9e8533beb491b994ef18f2107feab41c73">VEST_PAL</a>,
<a name="l00353"></a>00353       <a class="code" href="EditorMercs_8cpp.html#05589fbab0657f08285ebdfe93f5ec9e82f3451aad3fa5e67f80da4df030921b">PANTS_PAL</a>
<a name="l00354"></a>00354 };
<a name="l00355"></a>00355 
<a name="l00356"></a><a class="code" href="EditorMercs_8h.html#563b99be9bdf7ed86cbba9812d5b7383">00356</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#563b99be9bdf7ed86cbba9812d5b7383">ProcessMercEditing</a>()
<a name="l00357"></a>00357 {
<a name="l00358"></a>00358       <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubType, ubPaletteRep;
<a name="l00359"></a>00359       <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a> *<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>;
<a name="l00360"></a>00360       <span class="keywordflow">if</span> ( <a class="code" href="EditorMercs_8cpp.html#c536433585b5b9594626ed0a9046b964">iEditMercMode</a> == EDIT_MERC_NONE )
<a name="l00361"></a>00361       {
<a name="l00362"></a>00362             <span class="keywordflow">return</span>;
<a name="l00363"></a>00363       }
<a name="l00364"></a>00364       <a class="code" href="Overhead_8cpp.html#f0ada03378d5018e6f225bf25ab20b24">GetSoldier</a>( &amp;<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>, <a class="code" href="EditorMercs_8cpp.html#97092775cdf98eec280dbb127c7f8523">gsSelectedMercID</a> );
<a name="l00365"></a>00365 
<a name="l00366"></a>00366       <span class="keywordflow">switch</span> ( <a class="code" href="EditorMercs_8cpp.html#c536433585b5b9594626ed0a9046b964">iEditMercMode</a> )
<a name="l00367"></a>00367       {
<a name="l00368"></a>00368             <span class="keywordflow">case</span> EDIT_MERC_PREV_COLOR:
<a name="l00369"></a>00369             <span class="keywordflow">case</span> EDIT_MERC_NEXT_COLOR:
<a name="l00370"></a>00370                   <span class="comment">// Handle changes to the merc colors</span>
<a name="l00371"></a>00371                   <span class="keywordflow">switch</span> ( <a class="code" href="EditorMercs_8cpp.html#3c10cbfdb437cfc91e71b32a0f842907">iEditWhichStat</a> )
<a name="l00372"></a>00372                   {
<a name="l00373"></a>00373                         <span class="keywordflow">case</span> 0:
<a name="l00374"></a>00374                               ubType = EDIT_COLOR_HEAD;
<a name="l00375"></a>00375                               <a class="code" href="Soldier_01Control_8cpp.html#f3fe028921d7680328d939d6429bb8f3">GetPaletteRepIndexFromID</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#7eac56265178b4c6b14b3c4e57b0cf59">HeadPal</a>, &amp;ubPaletteRep );
<a name="l00376"></a>00376 
<a name="l00377"></a>00377                               ubPaletteRep--;
<a name="l00378"></a>00378                               <span class="keywordflow">if</span> ( (ubPaletteRep &lt; (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)<a class="code" href="EditorMercs_8cpp.html#cd0962064c655b122c2303c730b87c2f">iEditColorStart</a>[ubType]) || (ubPaletteRep &gt; ((<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)<a class="code" href="EditorMercs_8cpp.html#cd0962064c655b122c2303c730b87c2f">iEditColorStart</a>[ubType] + <a class="code" href="Soldier_01Control_8cpp.html#39e8c94e49cdfdffd8fce8412d4a596f">gubpNumReplacementsPerRange</a>[ubType])) )
<a name="l00379"></a>00379                                     ubPaletteRep = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)<a class="code" href="EditorMercs_8cpp.html#cd0962064c655b122c2303c730b87c2f">iEditColorStart</a>[ubType] + <a class="code" href="Soldier_01Control_8cpp.html#39e8c94e49cdfdffd8fce8412d4a596f">gubpNumReplacementsPerRange</a>[ubType] - 1;
<a name="l00380"></a>00380 
<a name="l00381"></a>00381                               SET_PALETTEREP_ID( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#7eac56265178b4c6b14b3c4e57b0cf59">HeadPal</a>, <a class="code" href="Soldier_01Control_8cpp.html#1a5d8e8abe84014e7e291d7fbf454bea">gpPalRep</a>[ ubPaletteRep ].<a class="code" href="structPaletteReplacementType.html#cbcae8fc98789d838448de8ac76daf99">ID</a> );
<a name="l00382"></a>00382                               sprintf( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#11ce98982166c21bcd644f1a2e8bb45f">HeadPal</a>, <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#7eac56265178b4c6b14b3c4e57b0cf59">HeadPal</a> );
<a name="l00383"></a>00383                               <a class="code" href="Soldier_01Control_8cpp.html#11353b21428c34b57d2cfb3ed2963588">CreateSoldierPalettes</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> );
<a name="l00384"></a>00384                               <span class="keywordflow">break</span>;
<a name="l00385"></a>00385                         <span class="keywordflow">case</span> 1:
<a name="l00386"></a>00386                               ubType = EDIT_COLOR_HEAD;
<a name="l00387"></a>00387                               <a class="code" href="Soldier_01Control_8cpp.html#f3fe028921d7680328d939d6429bb8f3">GetPaletteRepIndexFromID</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#7eac56265178b4c6b14b3c4e57b0cf59">HeadPal</a>, &amp;ubPaletteRep );
<a name="l00388"></a>00388 
<a name="l00389"></a>00389                               ubPaletteRep++;
<a name="l00390"></a>00390                               <span class="keywordflow">if</span> ( ubPaletteRep &gt;= ((<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)<a class="code" href="EditorMercs_8cpp.html#cd0962064c655b122c2303c730b87c2f">iEditColorStart</a>[ubType] + <a class="code" href="Soldier_01Control_8cpp.html#39e8c94e49cdfdffd8fce8412d4a596f">gubpNumReplacementsPerRange</a>[ubType]) )
<a name="l00391"></a>00391                                     ubPaletteRep = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)<a class="code" href="EditorMercs_8cpp.html#cd0962064c655b122c2303c730b87c2f">iEditColorStart</a>[ubType];
<a name="l00392"></a>00392 
<a name="l00393"></a>00393                               SET_PALETTEREP_ID( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#7eac56265178b4c6b14b3c4e57b0cf59">HeadPal</a>, <a class="code" href="Soldier_01Control_8cpp.html#1a5d8e8abe84014e7e291d7fbf454bea">gpPalRep</a>[ ubPaletteRep ].<a class="code" href="structPaletteReplacementType.html#cbcae8fc98789d838448de8ac76daf99">ID</a> );
<a name="l00394"></a>00394                               sprintf( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#11ce98982166c21bcd644f1a2e8bb45f">HeadPal</a>, <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#7eac56265178b4c6b14b3c4e57b0cf59">HeadPal</a> );
<a name="l00395"></a>00395                               <a class="code" href="Soldier_01Control_8cpp.html#11353b21428c34b57d2cfb3ed2963588">CreateSoldierPalettes</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> );
<a name="l00396"></a>00396                               <span class="keywordflow">break</span>;
<a name="l00397"></a>00397 
<a name="l00398"></a>00398                         <span class="keywordflow">case</span> 2:
<a name="l00399"></a>00399                               ubType = EDIT_COLOR_SKIN;
<a name="l00400"></a>00400                               <a class="code" href="Soldier_01Control_8cpp.html#f3fe028921d7680328d939d6429bb8f3">GetPaletteRepIndexFromID</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#c138d8e83ecb9e6afc7fbe505f756775">SkinPal</a>, &amp;ubPaletteRep );
<a name="l00401"></a>00401 
<a name="l00402"></a>00402                               ubPaletteRep--;
<a name="l00403"></a>00403                               <span class="keywordflow">if</span> ( ubPaletteRep &lt; (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)<a class="code" href="EditorMercs_8cpp.html#cd0962064c655b122c2303c730b87c2f">iEditColorStart</a>[ubType] )
<a name="l00404"></a>00404                                     ubPaletteRep = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)<a class="code" href="EditorMercs_8cpp.html#cd0962064c655b122c2303c730b87c2f">iEditColorStart</a>[ubType] + <a class="code" href="Soldier_01Control_8cpp.html#39e8c94e49cdfdffd8fce8412d4a596f">gubpNumReplacementsPerRange</a>[ubType] - 1;
<a name="l00405"></a>00405 
<a name="l00406"></a>00406                               SET_PALETTEREP_ID( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#c138d8e83ecb9e6afc7fbe505f756775">SkinPal</a>, <a class="code" href="Soldier_01Control_8cpp.html#1a5d8e8abe84014e7e291d7fbf454bea">gpPalRep</a>[ ubPaletteRep ].<a class="code" href="structPaletteReplacementType.html#cbcae8fc98789d838448de8ac76daf99">ID</a> );
<a name="l00407"></a>00407                               sprintf( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#e8ab217f813460200f9541afcba6c4c4">SkinPal</a>, <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#c138d8e83ecb9e6afc7fbe505f756775">SkinPal</a> );
<a name="l00408"></a>00408                               <a class="code" href="Soldier_01Control_8cpp.html#11353b21428c34b57d2cfb3ed2963588">CreateSoldierPalettes</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> );
<a name="l00409"></a>00409                               <span class="keywordflow">break</span>;
<a name="l00410"></a>00410                         <span class="keywordflow">case</span> 3:
<a name="l00411"></a>00411                               ubType = EDIT_COLOR_SKIN;
<a name="l00412"></a>00412                               <a class="code" href="Soldier_01Control_8cpp.html#f3fe028921d7680328d939d6429bb8f3">GetPaletteRepIndexFromID</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#c138d8e83ecb9e6afc7fbe505f756775">SkinPal</a>, &amp;ubPaletteRep );
<a name="l00413"></a>00413 
<a name="l00414"></a>00414                               ubPaletteRep++;
<a name="l00415"></a>00415                               <span class="keywordflow">if</span> ( ubPaletteRep &gt;= ((<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)<a class="code" href="EditorMercs_8cpp.html#cd0962064c655b122c2303c730b87c2f">iEditColorStart</a>[ubType] + <a class="code" href="Soldier_01Control_8cpp.html#39e8c94e49cdfdffd8fce8412d4a596f">gubpNumReplacementsPerRange</a>[ubType]) )
<a name="l00416"></a>00416                                     ubPaletteRep = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)<a class="code" href="EditorMercs_8cpp.html#cd0962064c655b122c2303c730b87c2f">iEditColorStart</a>[ubType];
<a name="l00417"></a>00417 
<a name="l00418"></a>00418                               SET_PALETTEREP_ID( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#c138d8e83ecb9e6afc7fbe505f756775">SkinPal</a>, <a class="code" href="Soldier_01Control_8cpp.html#1a5d8e8abe84014e7e291d7fbf454bea">gpPalRep</a>[ ubPaletteRep ].<a class="code" href="structPaletteReplacementType.html#cbcae8fc98789d838448de8ac76daf99">ID</a> );
<a name="l00419"></a>00419                               sprintf( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#e8ab217f813460200f9541afcba6c4c4">SkinPal</a>, <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#c138d8e83ecb9e6afc7fbe505f756775">SkinPal</a> );
<a name="l00420"></a>00420                               <a class="code" href="Soldier_01Control_8cpp.html#11353b21428c34b57d2cfb3ed2963588">CreateSoldierPalettes</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> );
<a name="l00421"></a>00421                               <span class="keywordflow">break</span>;
<a name="l00422"></a>00422 
<a name="l00423"></a>00423                         <span class="keywordflow">case</span> 4:
<a name="l00424"></a>00424                               ubType = EDIT_COLOR_VEST;
<a name="l00425"></a>00425                               <a class="code" href="Soldier_01Control_8cpp.html#f3fe028921d7680328d939d6429bb8f3">GetPaletteRepIndexFromID</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#0234867384fe2f03608cf551edf81506">VestPal</a>, &amp;ubPaletteRep );
<a name="l00426"></a>00426 
<a name="l00427"></a>00427                               ubPaletteRep--;
<a name="l00428"></a>00428                               <span class="keywordflow">if</span> ( ubPaletteRep &lt; (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)<a class="code" href="EditorMercs_8cpp.html#cd0962064c655b122c2303c730b87c2f">iEditColorStart</a>[ubType] )
<a name="l00429"></a>00429                                     ubPaletteRep = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)<a class="code" href="EditorMercs_8cpp.html#cd0962064c655b122c2303c730b87c2f">iEditColorStart</a>[ubType] + <a class="code" href="Soldier_01Control_8cpp.html#39e8c94e49cdfdffd8fce8412d4a596f">gubpNumReplacementsPerRange</a>[ubType] - 1;
<a name="l00430"></a>00430 
<a name="l00431"></a>00431                               SET_PALETTEREP_ID( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#0234867384fe2f03608cf551edf81506">VestPal</a>, <a class="code" href="Soldier_01Control_8cpp.html#1a5d8e8abe84014e7e291d7fbf454bea">gpPalRep</a>[ ubPaletteRep ].<a class="code" href="structPaletteReplacementType.html#cbcae8fc98789d838448de8ac76daf99">ID</a> );
<a name="l00432"></a>00432                               sprintf( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#aea74efcf2f672bd7c398c360e5edc55">VestPal</a>, <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#0234867384fe2f03608cf551edf81506">VestPal</a> );
<a name="l00433"></a>00433                               <a class="code" href="Soldier_01Control_8cpp.html#11353b21428c34b57d2cfb3ed2963588">CreateSoldierPalettes</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> );
<a name="l00434"></a>00434                               <span class="keywordflow">break</span>;
<a name="l00435"></a>00435                         <span class="keywordflow">case</span> 5:
<a name="l00436"></a>00436                               ubType = EDIT_COLOR_VEST;
<a name="l00437"></a>00437                               <a class="code" href="Soldier_01Control_8cpp.html#f3fe028921d7680328d939d6429bb8f3">GetPaletteRepIndexFromID</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#0234867384fe2f03608cf551edf81506">VestPal</a>, &amp;ubPaletteRep );
<a name="l00438"></a>00438 
<a name="l00439"></a>00439                               ubPaletteRep++;
<a name="l00440"></a>00440                               <span class="keywordflow">if</span> ( ubPaletteRep &gt;= ((<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)<a class="code" href="EditorMercs_8cpp.html#cd0962064c655b122c2303c730b87c2f">iEditColorStart</a>[ubType] + <a class="code" href="Soldier_01Control_8cpp.html#39e8c94e49cdfdffd8fce8412d4a596f">gubpNumReplacementsPerRange</a>[ubType]) )
<a name="l00441"></a>00441                                     ubPaletteRep = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)<a class="code" href="EditorMercs_8cpp.html#cd0962064c655b122c2303c730b87c2f">iEditColorStart</a>[ubType];
<a name="l00442"></a>00442 
<a name="l00443"></a>00443                               SET_PALETTEREP_ID( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#0234867384fe2f03608cf551edf81506">VestPal</a>, <a class="code" href="Soldier_01Control_8cpp.html#1a5d8e8abe84014e7e291d7fbf454bea">gpPalRep</a>[ ubPaletteRep ].<a class="code" href="structPaletteReplacementType.html#cbcae8fc98789d838448de8ac76daf99">ID</a> );
<a name="l00444"></a>00444                               sprintf( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#aea74efcf2f672bd7c398c360e5edc55">VestPal</a>, <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#0234867384fe2f03608cf551edf81506">VestPal</a> );
<a name="l00445"></a>00445                               <a class="code" href="Soldier_01Control_8cpp.html#11353b21428c34b57d2cfb3ed2963588">CreateSoldierPalettes</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> );
<a name="l00446"></a>00446                               <span class="keywordflow">break</span>;
<a name="l00447"></a>00447 
<a name="l00448"></a>00448                         <span class="keywordflow">case</span> 6:
<a name="l00449"></a>00449                               ubType = EDIT_COLOR_PANTS;
<a name="l00450"></a>00450                               <a class="code" href="Soldier_01Control_8cpp.html#f3fe028921d7680328d939d6429bb8f3">GetPaletteRepIndexFromID</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#2466fb9ff2f6d03d77f3d34eb6d2dba6">PantsPal</a>, &amp;ubPaletteRep );
<a name="l00451"></a>00451 
<a name="l00452"></a>00452                               ubPaletteRep--;
<a name="l00453"></a>00453                               <span class="keywordflow">if</span> ( ubPaletteRep &lt; (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)<a class="code" href="EditorMercs_8cpp.html#cd0962064c655b122c2303c730b87c2f">iEditColorStart</a>[ubType] )
<a name="l00454"></a>00454                                     ubPaletteRep = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)<a class="code" href="EditorMercs_8cpp.html#cd0962064c655b122c2303c730b87c2f">iEditColorStart</a>[ubType] + <a class="code" href="Soldier_01Control_8cpp.html#39e8c94e49cdfdffd8fce8412d4a596f">gubpNumReplacementsPerRange</a>[ubType] - 1;
<a name="l00455"></a>00455 
<a name="l00456"></a>00456                               SET_PALETTEREP_ID( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#2466fb9ff2f6d03d77f3d34eb6d2dba6">PantsPal</a>, <a class="code" href="Soldier_01Control_8cpp.html#1a5d8e8abe84014e7e291d7fbf454bea">gpPalRep</a>[ ubPaletteRep ].<a class="code" href="structPaletteReplacementType.html#cbcae8fc98789d838448de8ac76daf99">ID</a> );
<a name="l00457"></a>00457                               sprintf( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#097969cce346702b9fd06ba5208a3276">PantsPal</a>, <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#2466fb9ff2f6d03d77f3d34eb6d2dba6">PantsPal</a> );
<a name="l00458"></a>00458                               <a class="code" href="Soldier_01Control_8cpp.html#11353b21428c34b57d2cfb3ed2963588">CreateSoldierPalettes</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> );
<a name="l00459"></a>00459                               <span class="keywordflow">break</span>;
<a name="l00460"></a>00460                         <span class="keywordflow">case</span> 7:
<a name="l00461"></a>00461                               ubType = EDIT_COLOR_PANTS;
<a name="l00462"></a>00462                               <a class="code" href="Soldier_01Control_8cpp.html#f3fe028921d7680328d939d6429bb8f3">GetPaletteRepIndexFromID</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#2466fb9ff2f6d03d77f3d34eb6d2dba6">PantsPal</a>, &amp;ubPaletteRep );
<a name="l00463"></a>00463 
<a name="l00464"></a>00464                               ubPaletteRep++;
<a name="l00465"></a>00465                               <span class="keywordflow">if</span> ( ubPaletteRep &gt;= ((<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)<a class="code" href="EditorMercs_8cpp.html#cd0962064c655b122c2303c730b87c2f">iEditColorStart</a>[ubType] + <a class="code" href="Soldier_01Control_8cpp.html#39e8c94e49cdfdffd8fce8412d4a596f">gubpNumReplacementsPerRange</a>[ubType]) )
<a name="l00466"></a>00466                                     ubPaletteRep = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)<a class="code" href="EditorMercs_8cpp.html#cd0962064c655b122c2303c730b87c2f">iEditColorStart</a>[ubType];
<a name="l00467"></a>00467 
<a name="l00468"></a>00468                               SET_PALETTEREP_ID( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#2466fb9ff2f6d03d77f3d34eb6d2dba6">PantsPal</a>, <a class="code" href="Soldier_01Control_8cpp.html#1a5d8e8abe84014e7e291d7fbf454bea">gpPalRep</a>[ ubPaletteRep ].<a class="code" href="structPaletteReplacementType.html#cbcae8fc98789d838448de8ac76daf99">ID</a> );
<a name="l00469"></a>00469                               sprintf( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#097969cce346702b9fd06ba5208a3276">PantsPal</a>, <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#2466fb9ff2f6d03d77f3d34eb6d2dba6">PantsPal</a> );
<a name="l00470"></a>00470                               <a class="code" href="Soldier_01Control_8cpp.html#11353b21428c34b57d2cfb3ed2963588">CreateSoldierPalettes</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> );
<a name="l00471"></a>00471                               <span class="keywordflow">break</span>;
<a name="l00472"></a>00472                   }
<a name="l00473"></a>00473                   <a class="code" href="EditorMercs_8cpp.html#c536433585b5b9594626ed0a9046b964">iEditMercMode</a> = EDIT_MERC_NONE;
<a name="l00474"></a>00474                   <span class="keywordflow">break</span>;
<a name="l00475"></a>00475       }
<a name="l00476"></a>00476 }
<a name="l00477"></a>00477 
<a name="l00478"></a><a class="code" href="EditorMercs_8h.html#e2d733c3f4ceb5f1891b4566adfa7d4a">00478</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#e2d733c3f4ceb5f1891b4566adfa7d4a">AddMercToWorld</a>( <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> <a class="code" href="editscreen_8cpp.html#48f31659f64cd18c814b1612166c50b5">iMapIndex</a> )
<a name="l00479"></a>00479 {
<a name="l00480"></a>00480       <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a> *<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>;
<a name="l00481"></a>00481       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> i;
<a name="l00482"></a>00482 
<a name="l00483"></a>00483       memset( &amp;<a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>, 0, <span class="keyword">sizeof</span>( <a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html">BASIC_SOLDIERCREATE_STRUCT</a> ) );
<a name="l00484"></a>00484 
<a name="l00485"></a>00485       <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#e2ee468828615ecf563e7a5e799ef59b">bBodyType</a> = -1;
<a name="l00486"></a>00486 
<a name="l00487"></a>00487       <span class="comment">//calculate specific information based on the team.</span>
<a name="l00488"></a>00488       <span class="keywordflow">switch</span>( <a class="code" href="EditorDefines_8h.html#afbeb36e0996e51d4002709ddf9b3155">iDrawMode</a> )
<a name="l00489"></a>00489       {
<a name="l00490"></a>00490             <span class="keywordflow">case</span> <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b9403881f99fcda5f7ceb6101a94be4c21bd098">DRAW_MODE_ENEMY</a>:
<a name="l00491"></a>00491                   <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#bd255e877f2966dbbd17ffbaa254a025">bTeam</a> = ENEMY_TEAM;
<a name="l00492"></a>00492                   <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#e2ee468828615ecf563e7a5e799ef59b">bBodyType</a> = RANDOM;
<a name="l00493"></a>00493                   <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#6f8b4186867f69e234b40ed1c87730c6">ubSoldierClass</a> = <a class="code" href="EditorMercs_8cpp.html#f724bce39c86756cf49adebc2bc120bf">gubSoldierClass</a>;
<a name="l00494"></a>00494                   <span class="keywordflow">break</span>;
<a name="l00495"></a>00495             <span class="keywordflow">case</span> <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b9403887047a6a6c1216b138a0953302334abaa">DRAW_MODE_CREATURE</a>:
<a name="l00496"></a>00496                   <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#bd255e877f2966dbbd17ffbaa254a025">bTeam</a> = CREATURE_TEAM;
<a name="l00497"></a>00497                   <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#e2ee468828615ecf563e7a5e799ef59b">bBodyType</a> = <a class="code" href="EditorMercs_8cpp.html#d11c1bf8e2d6cd2aebd500ea2978de21">gbCurrCreature</a>;
<a name="l00498"></a>00498                   <span class="keywordflow">break</span>;
<a name="l00499"></a>00499             <span class="keywordflow">case</span> <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b940388be3b49d2eabfea3723718b8b57715097">DRAW_MODE_REBEL</a>:
<a name="l00500"></a>00500                   <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#bd255e877f2966dbbd17ffbaa254a025">bTeam</a> = MILITIA_TEAM; 
<a name="l00501"></a>00501                   <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#e2ee468828615ecf563e7a5e799ef59b">bBodyType</a> = RANDOM;
<a name="l00502"></a>00502                   <span class="keywordflow">break</span>;  
<a name="l00503"></a>00503             <span class="keywordflow">case</span> <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b940388dcfb5a1e1ac625bfe0ebeeeed6f9dbb9">DRAW_MODE_CIVILIAN</a>:
<a name="l00504"></a>00504                   <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#bd255e877f2966dbbd17ffbaa254a025">bTeam</a> = CIV_TEAM;
<a name="l00505"></a>00505                   <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#e2ee468828615ecf563e7a5e799ef59b">bBodyType</a> = RANDOM;
<a name="l00506"></a>00506                   <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#c32e19edfc3eae79e96bbdc11819aa90">ubCivilianGroup</a> = <a class="code" href="EditorMercs_8cpp.html#730825eabcaa2a47486695078d8a55e6">gubCivGroup</a>;
<a name="l00507"></a>00507                   <span class="keywordflow">if</span>( <a class="code" href="worlddef_8cpp.html#b6f7ce95ca7fca875bbed5982d5483db">giCurrentTilesetID</a> == 1 ) <span class="comment">//caves</span>
<a name="l00508"></a>00508                   {
<a name="l00509"></a>00509                         <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#6f8b4186867f69e234b40ed1c87730c6">ubSoldierClass</a> = <a class="code" href="Soldier_01Control_8h.html#d559b3ed307be626eacea8b56942de618d13f000b4b5195727feae9b48454950">SOLDIER_CLASS_MINER</a>;
<a name="l00510"></a>00510                   }
<a name="l00511"></a>00511                   <span class="keywordflow">break</span>;
<a name="l00512"></a>00512       }
<a name="l00513"></a>00513 
<a name="l00514"></a>00514       <span class="keywordflow">if</span>( <a class="code" href="Overhead_8cpp.html#fa4284ec14cef4222f1479c45b29fac2">IsLocationSittable</a>( iMapIndex, <a class="code" href="EditorMercs_8cpp.html#63f73c0a419cfcefad6eae7fea060d9e">gfRoofPlacement</a> ) )
<a name="l00515"></a>00515       {
<a name="l00516"></a>00516             <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubID;
<a name="l00517"></a>00517             <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sSectorX, sSectorY;
<a name="l00518"></a>00518             <a class="code" href="structSOLDIERINITNODE.html">SOLDIERINITNODE</a> *pNode;
<a name="l00519"></a>00519             
<a name="l00520"></a>00520             <a class="code" href="strategicmap_8cpp.html#5e03b70aced19759d9729edaad51cc50">GetCurrentWorldSector</a>( &amp;sSectorX, &amp;sSectorY );
<a name="l00521"></a>00521 
<a name="l00522"></a>00522             <span class="comment">//Set up some general information.</span>
<a name="l00523"></a>00523             <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#3ef9d6dc68fb22fec84a9fce13f806c1">fDetailedPlacement</a> = FALSE;
<a name="l00524"></a>00524             <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#f825abfe3d1d0bb179d5881e619e7bd6">fPriorityExistance</a> = FALSE;
<a name="l00525"></a>00525             <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#dc6870abf500e5744df91b39c09d51e2">usStartingGridNo</a> = (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)iMapIndex;
<a name="l00526"></a>00526             <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#88e4f58ca15daeb28ee87c47c5eb2306">bOrders</a> = <a class="code" href="EditorMercs_8cpp.html#f3268572aa1fb5a21b4028b1030eaf05">gbDefaultOrders</a>;  
<a name="l00527"></a>00527             <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#def23ae50e065204f4a927d38deb16e2">bAttitude</a> = <a class="code" href="EditorMercs_8cpp.html#1e367a9e00aa1e48e539dff3af04eb4b">gbDefaultAttitude</a>;
<a name="l00528"></a>00528             <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#16f4ceaac5122b9a0ebb09c46a73e74a">bRelativeAttributeLevel</a> = <a class="code" href="EditorMercs_8cpp.html#1698c2da5f45a3189c12ebd7f8be27dd">gbDefaultRelativeAttributeLevel</a>; 
<a name="l00529"></a>00529             <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#49c2fe6937f004d00ba00c008fa33a30">bRelativeEquipmentLevel</a> = <a class="code" href="EditorMercs_8cpp.html#8460ea2dab8437651be3485e215570d3">gbDefaultRelativeEquipmentLevel</a>; 
<a name="l00530"></a>00530             <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#621418b9dd4585aa282c8c436ae870da">bDirection</a> = <a class="code" href="EditorMercs_8cpp.html#390e5c696ac0bc59f0e309be40fe3b8e">gbDefaultDirection</a>;
<a name="l00531"></a>00531 
<a name="l00532"></a>00532             <span class="comment">//Generate detailed placement information given the temp placement information.</span>
<a name="l00533"></a>00533             <a class="code" href="Soldier_01Create_8cpp.html#5e825bdba54a929a345b50c232fa9f6f">CreateDetailedPlacementGivenBasicPlacementInfo</a>( &amp;<a class="code" href="EditorMercs_8cpp.html#574dc818771788ccc93b7a7eeb0ca79e">gTempDetailedPlacement</a>, &amp;<a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a> );
<a name="l00534"></a>00534 
<a name="l00535"></a>00535             <span class="comment">//Set the sector information -- probably unnecessary.</span>
<a name="l00536"></a>00536             <a class="code" href="EditorMercs_8cpp.html#574dc818771788ccc93b7a7eeb0ca79e">gTempDetailedPlacement</a>.<a class="code" href="structSOLDIERCREATE__STRUCT.html#c6e38a1f49325bbb2282acee728cc261">sSectorX</a> = sSectorX;
<a name="l00537"></a>00537             <a class="code" href="EditorMercs_8cpp.html#574dc818771788ccc93b7a7eeb0ca79e">gTempDetailedPlacement</a>.<a class="code" href="structSOLDIERCREATE__STRUCT.html#49d1d58f8839fa7312382ccd9bc01814">sSectorY</a> = sSectorY;
<a name="l00538"></a>00538 
<a name="l00539"></a>00539             <span class="comment">//Create the soldier, but don't place it yet.</span>
<a name="l00540"></a>00540             <span class="keywordflow">if</span> ( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> = <a class="code" href="Soldier_01Create_8cpp.html#9012dd4ad15957a14b023ae9fee7c862">TacticalCreateSoldier</a>( &amp;<a class="code" href="EditorMercs_8cpp.html#574dc818771788ccc93b7a7eeb0ca79e">gTempDetailedPlacement</a>, &amp;ubID ) )
<a name="l00541"></a>00541             {
<a name="l00542"></a>00542                   <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#73246323764393ce2a5ece7fcb7b7cf8">bVisible</a> = 1;
<a name="l00543"></a>00543                   <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#a241a93ffddc42954bb878f9bcf4392c">bLastRenderVisibleValue</a> = 1;
<a name="l00544"></a>00544                   <span class="comment">//Set up the soldier in the list, so we can track the soldier in the </span>
<a name="l00545"></a>00545                   <span class="comment">//future (saving, loading, strategic AI)</span>
<a name="l00546"></a>00546                   pNode = <a class="code" href="Soldier_01Init_01List_8cpp.html#48618d7c2a89ab82534ed81092ce7346">AddBasicPlacementToSoldierInitList</a>( &amp;<a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a> );
<a name="l00547"></a>00547                   Assert( pNode );
<a name="l00548"></a>00548                   pNode-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a> = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>;
<a name="l00549"></a>00549                   
<a name="l00550"></a>00550                   <span class="comment">//Add the soldier to physically appear on the map now.</span>
<a name="l00551"></a>00551                   <a class="code" href="EditorMercs_8cpp.html#e6a3e994b768d1d9cd739a69c2970723">InternalAddSoldierToSector</a>( ubID, FALSE, FALSE, 0, 0 );
<a name="l00552"></a>00552                   <a class="code" href="EditorMercs_8cpp.html#f298a8dfcc8c9b0580cc56c7cbd3b27d">IndicateSelectedMerc</a>( ubID );
<a name="l00553"></a>00553 
<a name="l00554"></a>00554                   <span class="comment">//Move him to the roof if intended and possible.</span>
<a name="l00555"></a>00555                   <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#63f73c0a419cfcefad6eae7fea060d9e">gfRoofPlacement</a> &amp;&amp; <a class="code" href="Overhead_8cpp.html#16380e271fdc03604152be2d9cca8867">FlatRoofAboveGridNo</a>( iMapIndex ) )
<a name="l00556"></a>00556                   {
<a name="l00557"></a>00557                         <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#3dc23d15d608737c3b4db52b0cf65815">fOnRoof</a> = TRUE;
<a name="l00558"></a>00558                         <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> )
<a name="l00559"></a>00559                               <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#f9ba8f37aaf31e16d44ecb6fee567479">fOnRoof</a> = TRUE;
<a name="l00560"></a>00560                         <a class="code" href="Soldier_01Control_8cpp.html#85356885ab89da0e5fdb7a225f7db225">SetSoldierHeight</a>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>, 58.0 );
<a name="l00561"></a>00561                   }
<a name="l00562"></a>00562                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#70560150a621778b61a3b7e2819e623c">UnclickEditorButtons</a>( FIRST_MERCS_INVENTORY_BUTTON, LAST_MERCS_INVENTORY_BUTTON );
<a name="l00563"></a>00563                   <span class="keywordflow">for</span>( i = FIRST_MERCS_INVENTORY_BUTTON; i &lt;= LAST_MERCS_INVENTORY_BUTTON; i++ )
<a name="l00564"></a>00564                   {
<a name="l00565"></a>00565                         <a class="code" href="EditorMercs_8cpp.html#678c62a8e907d60fd216df4252842296">SetEnemyDroppableStatus</a>( <a class="code" href="EditorMercs_8cpp.html#20a3a478089d3e7ef31904fa69dc934f">gbMercSlotTypes</a>[i-FIRST_MERCS_INVENTORY_BUTTON], FALSE );
<a name="l00566"></a>00566                   }
<a name="l00567"></a>00567             }
<a name="l00568"></a>00568       }
<a name="l00569"></a>00569 }
<a name="l00570"></a>00570 
<a name="l00571"></a><a class="code" href="EditorMercs_8h.html#3752db3682133a262893153d1defbf8d">00571</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#3752db3682133a262893153d1defbf8d">HandleRightClickOnMerc</a>( <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> <a class="code" href="editscreen_8cpp.html#48f31659f64cd18c814b1612166c50b5">iMapIndex</a> )
<a name="l00572"></a>00572 {
<a name="l00573"></a>00573       <a class="code" href="structSOLDIERINITNODE.html">SOLDIERINITNODE</a> *pNode;
<a name="l00574"></a>00574       <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sThisMercID;
<a name="l00575"></a>00575       <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sCellX, sCellY;
<a name="l00576"></a>00576 
<a name="l00577"></a>00577       <a class="code" href="Isometric_01Utils_8cpp.html#f363981ed05c5cac8cafa633edaebc7c">ConvertGridNoToCellXY</a>( (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)iMapIndex, &amp;sCellX, &amp;sCellY );
<a name="l00578"></a>00578 
<a name="l00579"></a>00579       sThisMercID = (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)<a class="code" href="EditorMercs_8cpp.html#7eacea88632aba5d79d1bb6db00abb39">IsMercHere</a>( iMapIndex );
<a name="l00580"></a>00580 
<a name="l00581"></a>00581       <span class="keywordflow">if</span> ( sThisMercID != -1) 
<a name="l00582"></a>00582       { 
<a name="l00583"></a>00583             <span class="keywordflow">if</span> ( <a class="code" href="EditorMercs_8cpp.html#97092775cdf98eec280dbb127c7f8523">gsSelectedMercID</a> != sThisMercID )
<a name="l00584"></a>00584             { <span class="comment">// We want to edit a new merc (or different merc)</span>
<a name="l00585"></a>00585                   <span class="comment">//We need to avoid the editing of player mercs.</span>
<a name="l00586"></a>00586                   pNode = <a class="code" href="Soldier_01Init_01List_8cpp.html#cf1ca64b25b031e6353aac50f66137ea">FindSoldierInitNodeWithID</a>( (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)sThisMercID );
<a name="l00587"></a>00587                   <span class="keywordflow">if</span>( !pNode )
<a name="l00588"></a>00588                         <span class="keywordflow">return</span>;           <span class="comment">//this is a player merc (which isn't in the list), or an error in logic.</span>
<a name="l00589"></a>00589                   <a class="code" href="EditorMercs_8cpp.html#f298a8dfcc8c9b0580cc56c7cbd3b27d">IndicateSelectedMerc</a>( sThisMercID );
<a name="l00590"></a>00590             }
<a name="l00591"></a>00591       }
<a name="l00592"></a>00592       <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#97092775cdf98eec280dbb127c7f8523">gsSelectedMercID</a> != -1 &amp;&amp; <a class="code" href="Overhead_8cpp.html#fa4284ec14cef4222f1479c45b29fac2">IsLocationSittable</a>( iMapIndex, <a class="code" href="EditorMercs_8cpp.html#63f73c0a419cfcefad6eae7fea060d9e">gfRoofPlacement</a> ) )<span class="comment">// We want to move the selected merc to this new location.</span>
<a name="l00593"></a>00593       {                                         
<a name="l00594"></a>00594             <a class="code" href="worldman_8cpp.html#06771734bfdafaa969b791b111992259">RemoveAllObjectsOfTypeRange</a>( <a class="code" href="EditorMercs_8cpp.html#0d22864bdf4782d66e2c3ad2b985053d">gsSelectedMercGridNo</a>, <a class="code" href="TileDat_8h.html#6a650646c036f06b5166f92a83f79748e38ef4e6ef49da80d335fd4c04c7b2b2">CONFIRMMOVE</a>, <a class="code" href="TileDat_8h.html#6a650646c036f06b5166f92a83f79748e38ef4e6ef49da80d335fd4c04c7b2b2">CONFIRMMOVE</a> );
<a name="l00595"></a>00595             <a class="code" href="Soldier_01Control_8cpp.html#265ef31340bc30f973e4fd89d56c1c32">EVENT_SetSoldierPosition</a>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>, (<a class="code" href="Types_8h.html#8d06b04c04132c6f7c0fcb08c6167455">FLOAT</a>)(sCellX + 5), (<a class="code" href="Types_8h.html#8d06b04c04132c6f7c0fcb08c6167455">FLOAT</a>)(sCellY + 5) );
<a name="l00596"></a>00596             <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#63f73c0a419cfcefad6eae7fea060d9e">gfRoofPlacement</a> &amp;&amp; <a class="code" href="Overhead_8cpp.html#16380e271fdc03604152be2d9cca8867">FlatRoofAboveGridNo</a>( iMapIndex ) )
<a name="l00597"></a>00597             {
<a name="l00598"></a>00598                   <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#3dc23d15d608737c3b4db52b0cf65815">fOnRoof</a> = TRUE;
<a name="l00599"></a>00599                   <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> )
<a name="l00600"></a>00600                         <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#f9ba8f37aaf31e16d44ecb6fee567479">fOnRoof</a> = TRUE;
<a name="l00601"></a>00601                   <a class="code" href="Soldier_01Control_8cpp.html#85356885ab89da0e5fdb7a225f7db225">SetSoldierHeight</a>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>, 58.0 );
<a name="l00602"></a>00602             }
<a name="l00603"></a>00603             <span class="keywordflow">else</span>
<a name="l00604"></a>00604             {
<a name="l00605"></a>00605                   <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#3dc23d15d608737c3b4db52b0cf65815">fOnRoof</a> = FALSE;
<a name="l00606"></a>00606                   <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> )
<a name="l00607"></a>00607                         <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#f9ba8f37aaf31e16d44ecb6fee567479">fOnRoof</a> = FALSE;
<a name="l00608"></a>00608                   <a class="code" href="Soldier_01Control_8cpp.html#85356885ab89da0e5fdb7a225f7db225">SetSoldierHeight</a>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>, 0.0 );
<a name="l00609"></a>00609             }
<a name="l00610"></a>00610             gsSelectedMercGridNo = (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)iMapIndex;
<a name="l00611"></a>00611             <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#dc6870abf500e5744df91b39c09d51e2">usStartingGridNo</a> = gsSelectedMercGridNo;
<a name="l00612"></a>00612             <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> )
<a name="l00613"></a>00613                   <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#8a39234d4437851a4f4df5b9acc82e71">sInsertionGridNo</a> = gsSelectedMercGridNo;
<a name="l00614"></a>00614             <a class="code" href="worldman_8cpp.html#445a83c1b818288a56ce76c3b2f4a697">AddObjectToHead</a>( gsSelectedMercGridNo, <a class="code" href="TileDat_8h.html#3626eb77a4f637f63497920a218cf0e2a7e5aeb26e8518cd5c79b27fa97bfa92">CONFIRMMOVE1</a> );
<a name="l00615"></a>00615       }
<a name="l00616"></a>00616 }
<a name="l00617"></a>00617 
<a name="l00618"></a><a class="code" href="EditorMercs_8h.html#f111bf3446bb1599d984caa34b05c70d">00618</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#f111bf3446bb1599d984caa34b05c70d">ResetAllMercPositions</a>()
<a name="l00619"></a>00619 {
<a name="l00620"></a>00620       <a class="code" href="structSOLDIERINITNODE.html">SOLDIERINITNODE</a> *curr;
<a name="l00621"></a>00621       <span class="comment">//Remove all of the alternate placements (editor takes precedence)</span>
<a name="l00622"></a>00622       <a class="code" href="Soldier_01Init_01List_8cpp.html#2bac9cbad599d4ae5de3675de412c07e">UseEditorAlternateList</a>();
<a name="l00623"></a>00623       curr = <a class="code" href="Soldier_01Init_01List_8cpp.html#eccf141fe2ea32a7ced15016e8593439">gSoldierInitHead</a>;
<a name="l00624"></a>00624       <span class="keywordflow">while</span>( curr )
<a name="l00625"></a>00625       {
<a name="l00626"></a>00626             <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> = curr;
<a name="l00627"></a>00627             curr = curr-&gt;<a class="code" href="structSOLDIERINITNODE.html#3b53e7c8ba8232dfeb0b0306de1700d9">next</a>;
<a name="l00628"></a>00628             <a class="code" href="Soldier_01Init_01List_8cpp.html#b208981cc618a0c3b402f5e1659627ce">RemoveSoldierNodeFromInitList</a>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> );
<a name="l00629"></a>00629       }
<a name="l00630"></a>00630       <span class="comment">//Now, remove any existing original list mercs, then readd them.</span>
<a name="l00631"></a>00631       <a class="code" href="Soldier_01Init_01List_8cpp.html#90f0aa2f38ee0f76937712135eb31898">UseEditorOriginalList</a>();
<a name="l00632"></a>00632       curr = <a class="code" href="Soldier_01Init_01List_8cpp.html#eccf141fe2ea32a7ced15016e8593439">gSoldierInitHead</a>;
<a name="l00633"></a>00633       <span class="keywordflow">while</span>( curr )
<a name="l00634"></a>00634       {
<a name="l00635"></a>00635             <span class="keywordflow">if</span>( curr-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a> )
<a name="l00636"></a>00636             {
<a name="l00637"></a>00637                   <a class="code" href="Soldier_01Create_8cpp.html#5761f369bb132d093e5ce84db76fd7cf">TacticalRemoveSoldier</a>( curr-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#18aef170576da81b10d00e7b6cd3627b">ubID</a> );
<a name="l00638"></a>00638                   curr-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a> = NULL;
<a name="l00639"></a>00639             }
<a name="l00640"></a>00640             <span class="comment">//usMapIndex = gpSelected-&gt;pBasicPlacement-&gt;usStartingGridNo;</span>
<a name="l00641"></a>00641             <span class="comment">//ConvertGridNoToCellXY( usMapIndex, &amp;sCellX, &amp;sCellY );</span>
<a name="l00642"></a>00642             <span class="comment">//if( gpSelected-&gt;pSoldier )</span>
<a name="l00643"></a>00643             <span class="comment">//{</span>
<a name="l00644"></a>00644             <span class="comment">//    EVENT_SetSoldierPosition( gpSelected-&gt;pSoldier, (FLOAT)(sCellX + 5), (FLOAT)(sCellY + 5) );</span>
<a name="l00645"></a>00645             <span class="comment">//    if( gpSelected-&gt;pBasicPlacement-&gt;fOnRoof )</span>
<a name="l00646"></a>00646             <span class="comment">//          SetSoldierHeight( gpSelected-&gt;pSoldier, 58.0 );</span>
<a name="l00647"></a>00647             <span class="comment">//    SetMercDirection( gpSelected-&gt;pBasicPlacement-&gt;bDirection );</span>
<a name="l00648"></a>00648             <span class="comment">//}</span>
<a name="l00649"></a>00649             curr = curr-&gt;<a class="code" href="structSOLDIERINITNODE.html#3b53e7c8ba8232dfeb0b0306de1700d9">next</a>;
<a name="l00650"></a>00650       }
<a name="l00651"></a>00651       <a class="code" href="Soldier_01Init_01List_8cpp.html#95bf6a3805e187a5ecb0962ed2fdec04">AddSoldierInitListTeamToWorld</a>( ENEMY_TEAM,            255 );
<a name="l00652"></a>00652       <a class="code" href="Soldier_01Init_01List_8cpp.html#95bf6a3805e187a5ecb0962ed2fdec04">AddSoldierInitListTeamToWorld</a>( CREATURE_TEAM, 255 );
<a name="l00653"></a>00653       <a class="code" href="Soldier_01Init_01List_8cpp.html#95bf6a3805e187a5ecb0962ed2fdec04">AddSoldierInitListTeamToWorld</a>( MILITIA_TEAM,          255 );
<a name="l00654"></a>00654       <a class="code" href="Soldier_01Init_01List_8cpp.html#95bf6a3805e187a5ecb0962ed2fdec04">AddSoldierInitListTeamToWorld</a>( CIV_TEAM,              255 );
<a name="l00655"></a>00655       <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> = NULL;
<a name="l00656"></a>00656       <a class="code" href="EditorMercs_8cpp.html#97092775cdf98eec280dbb127c7f8523">gsSelectedMercID</a> = -1;
<a name="l00657"></a>00657 }
<a name="l00658"></a>00658 
<a name="l00659"></a><a class="code" href="EditorMercs_8h.html#d967247707cd373f7ef82d180609dc34">00659</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#d967247707cd373f7ef82d180609dc34">AddMercWaypoint</a>( <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a> <a class="code" href="editscreen_8cpp.html#48f31659f64cd18c814b1612166c50b5">iMapIndex</a> )
<a name="l00660"></a>00660 {
<a name="l00661"></a>00661       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iNum;
<a name="l00662"></a>00662       <span class="comment">// index 0 isn't used</span>
<a name="l00663"></a>00663       <span class="keywordflow">if</span> ( <a class="code" href="EditorDefines_8h.html#d152ea625eee39a5405689f5566cb358">iActionParam</a> == 0 )
<a name="l00664"></a>00664             <span class="keywordflow">return</span>;
<a name="l00665"></a>00665 
<a name="l00666"></a>00666       <span class="keywordflow">if</span> ( <a class="code" href="EditorMercs_8cpp.html#97092775cdf98eec280dbb127c7f8523">gsSelectedMercID</a> == -1 || (<a class="code" href="EditorMercs_8cpp.html#97092775cdf98eec280dbb127c7f8523">gsSelectedMercID</a> &lt;= (<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a>)<a class="code" href="Overhead_8cpp.html#46bd754f8875c305ab18731ed10e3364">gTacticalStatus</a>.<a class="code" href="structTacticalStatusType.html#2ecddfe580bb019bc92cc4859eaf3edc">Team</a>[ OUR_TEAM ].<a class="code" href="structTacticalTeamType.html#6a887279dad735dc302f21c1e559d5ce">bLastID</a>) || <a class="code" href="EditorMercs_8cpp.html#97092775cdf98eec280dbb127c7f8523">gsSelectedMercID</a> &gt;= MAXMERCS )
<a name="l00667"></a>00667             <span class="keywordflow">return</span>;
<a name="l00668"></a>00668       
<a name="l00669"></a>00669       <span class="keywordflow">if</span> ( <a class="code" href="EditorDefines_8h.html#d152ea625eee39a5405689f5566cb358">iActionParam</a> &gt; <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#3617f93cf4f3f5adbe609960815ed569">bPatrolCnt</a> )
<a name="l00670"></a>00670       {
<a name="l00671"></a>00671             <span class="comment">// Fill up missing waypoints with same value as new one</span>
<a name="l00672"></a>00672             <span class="keywordflow">for</span>(iNum = <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#3617f93cf4f3f5adbe609960815ed569">bPatrolCnt</a> + 1; iNum &lt;= <a class="code" href="EditorDefines_8h.html#d152ea625eee39a5405689f5566cb358">iActionParam</a>; iNum++)
<a name="l00673"></a>00673             {
<a name="l00674"></a>00674                   <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#dfb83f159ef6dd065a798a98f889d0a9">sPatrolGrid</a>[iNum] = (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)iMapIndex;
<a name="l00675"></a>00675                   <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> )
<a name="l00676"></a>00676                         <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#72a68c367b8bc4fe932d78c53f8a522d">sPatrolGrid</a>[iNum] = (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)iMapIndex;
<a name="l00677"></a>00677                   <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#8fdd768fde52511d085402060c856cf5">usPatrolGrid</a>[iNum] = (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)iMapIndex;
<a name="l00678"></a>00678             }
<a name="l00679"></a>00679             
<a name="l00680"></a>00680             <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#8fb0d3b6b3bfd0f4abd7598cd8c29e4f">bPatrolCnt</a> = (<a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>)<a class="code" href="EditorDefines_8h.html#d152ea625eee39a5405689f5566cb358">iActionParam</a>;
<a name="l00681"></a>00681             <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> )
<a name="l00682"></a>00682                   <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#63f0be3b67f871f3d49cd09e88c5450f">bPatrolCnt</a> = (<a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>)<a class="code" href="EditorDefines_8h.html#d152ea625eee39a5405689f5566cb358">iActionParam</a>;
<a name="l00683"></a>00683             <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#3617f93cf4f3f5adbe609960815ed569">bPatrolCnt</a> = (<a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>) <a class="code" href="EditorDefines_8h.html#d152ea625eee39a5405689f5566cb358">iActionParam</a>;
<a name="l00684"></a>00684             <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#7c718b87858d7b6cc894707b38d7739e">bNextPatrolPnt</a> = 1; 
<a name="l00685"></a>00685       }
<a name="l00686"></a>00686       <span class="keywordflow">else</span>
<a name="l00687"></a>00687       {
<a name="l00688"></a>00688             <span class="comment">// Set this way point</span>
<a name="l00689"></a>00689             <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#dfb83f159ef6dd065a798a98f889d0a9">sPatrolGrid</a>[<a class="code" href="EditorDefines_8h.html#d152ea625eee39a5405689f5566cb358">iActionParam</a>] = (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)iMapIndex;
<a name="l00690"></a>00690             <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> )
<a name="l00691"></a>00691                   <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#72a68c367b8bc4fe932d78c53f8a522d">sPatrolGrid</a>[<a class="code" href="EditorDefines_8h.html#d152ea625eee39a5405689f5566cb358">iActionParam</a>] = (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)iMapIndex;
<a name="l00692"></a>00692             <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#8fdd768fde52511d085402060c856cf5">usPatrolGrid</a>[<a class="code" href="EditorDefines_8h.html#d152ea625eee39a5405689f5566cb358">iActionParam</a>] = (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)iMapIndex;
<a name="l00693"></a>00693       }
<a name="l00694"></a>00694       <a class="code" href="EditorDefines_8h.html#5a075eed02dac8017c99a606bc7124c3">gfRenderWorld</a> = TRUE;
<a name="l00695"></a>00695 }
<a name="l00696"></a>00696 
<a name="l00697"></a><a class="code" href="EditorMercs_8h.html#148e787242c2404ec823f782eaa8ee63">00697</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#148e787242c2404ec823f782eaa8ee63">EraseMercWaypoint</a>()
<a name="l00698"></a>00698 {
<a name="l00699"></a>00699       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iNum;
<a name="l00700"></a>00700       <span class="comment">// index 0 isn't used</span>
<a name="l00701"></a>00701       <span class="keywordflow">if</span> ( <a class="code" href="EditorDefines_8h.html#d152ea625eee39a5405689f5566cb358">iActionParam</a> == 0 )
<a name="l00702"></a>00702             <span class="keywordflow">return</span>;
<a name="l00703"></a>00703 
<a name="l00704"></a>00704       <span class="keywordflow">if</span> ( <a class="code" href="EditorMercs_8cpp.html#97092775cdf98eec280dbb127c7f8523">gsSelectedMercID</a> == -1 || (<a class="code" href="EditorMercs_8cpp.html#97092775cdf98eec280dbb127c7f8523">gsSelectedMercID</a> &lt;= (<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a>)<a class="code" href="Overhead_8cpp.html#46bd754f8875c305ab18731ed10e3364">gTacticalStatus</a>.<a class="code" href="structTacticalStatusType.html#2ecddfe580bb019bc92cc4859eaf3edc">Team</a>[ OUR_TEAM ].<a class="code" href="structTacticalTeamType.html#6a887279dad735dc302f21c1e559d5ce">bLastID</a>) || <a class="code" href="EditorMercs_8cpp.html#97092775cdf98eec280dbb127c7f8523">gsSelectedMercID</a> &gt;= MAXMERCS )
<a name="l00705"></a>00705             <span class="keywordflow">return</span>;
<a name="l00706"></a>00706 
<a name="l00707"></a>00707       <span class="comment">// Fill up missing areas</span>
<a name="l00708"></a>00708       <span class="keywordflow">if</span> ( <a class="code" href="EditorDefines_8h.html#d152ea625eee39a5405689f5566cb358">iActionParam</a> &gt; <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#3617f93cf4f3f5adbe609960815ed569">bPatrolCnt</a> )
<a name="l00709"></a>00709             <span class="keywordflow">return</span>;
<a name="l00710"></a>00710 
<a name="l00711"></a>00711       <span class="keywordflow">for</span>(iNum = <a class="code" href="EditorDefines_8h.html#d152ea625eee39a5405689f5566cb358">iActionParam</a>; iNum &lt; <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#3617f93cf4f3f5adbe609960815ed569">bPatrolCnt</a>; iNum++)
<a name="l00712"></a>00712       {
<a name="l00713"></a>00713             <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#dfb83f159ef6dd065a798a98f889d0a9">sPatrolGrid</a>[iNum] = <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#dfb83f159ef6dd065a798a98f889d0a9">sPatrolGrid</a>[iNum+1];
<a name="l00714"></a>00714             <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> )
<a name="l00715"></a>00715                   <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#72a68c367b8bc4fe932d78c53f8a522d">sPatrolGrid</a>[iNum] = <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#72a68c367b8bc4fe932d78c53f8a522d">sPatrolGrid</a>[iNum+1];
<a name="l00716"></a>00716             <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#8fdd768fde52511d085402060c856cf5">usPatrolGrid</a>[iNum] = <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#8fdd768fde52511d085402060c856cf5">usPatrolGrid</a>[iNum+1];
<a name="l00717"></a>00717       }
<a name="l00718"></a>00718 
<a name="l00719"></a>00719       <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#8fb0d3b6b3bfd0f4abd7598cd8c29e4f">bPatrolCnt</a>--;
<a name="l00720"></a>00720       <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> )
<a name="l00721"></a>00721             <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#63f0be3b67f871f3d49cd09e88c5450f">bPatrolCnt</a>--;
<a name="l00722"></a>00722       <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#3617f93cf4f3f5adbe609960815ed569">bPatrolCnt</a>--;
<a name="l00723"></a>00723       <a class="code" href="EditorDefines_8h.html#5a075eed02dac8017c99a606bc7124c3">gfRenderWorld</a> = TRUE;
<a name="l00724"></a>00724 }
<a name="l00725"></a>00725 
<a name="l00726"></a>00726 
<a name="l00727"></a>00727 <span class="comment">//----------------------------------------------------------------------------------------------</span>
<a name="l00728"></a>00728 <span class="comment">//    ChangeBaseSoldierStats</span>
<a name="l00729"></a>00729 <span class="comment">//</span>
<a name="l00730"></a>00730 <span class="comment">//    This functions changes the stats of a given merc (PC or NPC, though should only be used </span>
<a name="l00731"></a>00731 <span class="comment">//    for NPC mercs) to reflect the base difficulty level selected.</span>
<a name="l00732"></a>00732 <span class="comment">//</span>
<a name="l00733"></a><a class="code" href="EditorMercs_8cpp.html#f1650b996fe2a94deec825cfe59fa429">00733</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#f1650b996fe2a94deec825cfe59fa429">ChangeBaseSoldierStats</a>( <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a> *<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> )
<a name="l00734"></a>00734 {
<a name="l00735"></a>00735       <span class="keywordflow">if</span> ( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> == NULL )
<a name="l00736"></a>00736             <span class="keywordflow">return</span>;
<a name="l00737"></a>00737 
<a name="l00738"></a>00738       <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#600d382f89a391cdeb7bfe2580776866">bLifeMax</a> = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)(<a class="code" href="EditorMercs_8cpp.html#dbdd3c17ddaf2de22fd526061af336df">sBaseStat</a>[<a class="code" href="EditorMercs_8cpp.html#6c75056367de68c8e75e29d281290623">sCurBaseDiff</a>] + (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)(<a class="code" href="Random_8cpp.html#49f938d1313ab6ef09ac6223a16ac334">Random</a>(BASE_STAT_DEVIATION * 2)-BASE_STAT_DEVIATION));
<a name="l00739"></a>00739       <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#e308dea18533bf5ab2bcee5bbe27391c">bLife</a>   = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#600d382f89a391cdeb7bfe2580776866">bLifeMax</a>;
<a name="l00740"></a>00740 
<a name="l00741"></a>00741       <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#1db22145597bf0cc6ace573851b46164">bBleeding</a>     = 0;
<a name="l00742"></a>00742       <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#2a44d10fbcd1df19ba5bdbb4c1e60a38">bBreath</a> = 100;
<a name="l00743"></a>00743 
<a name="l00744"></a>00744       <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#7a9a17a9aff519efd7423c6b11cdb046">bMarksmanship</a> = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)(<a class="code" href="EditorMercs_8cpp.html#dbdd3c17ddaf2de22fd526061af336df">sBaseStat</a>[<a class="code" href="EditorMercs_8cpp.html#6c75056367de68c8e75e29d281290623">sCurBaseDiff</a>] + (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)(<a class="code" href="Random_8cpp.html#49f938d1313ab6ef09ac6223a16ac334">Random</a>(BASE_STAT_DEVIATION * 2)-BASE_STAT_DEVIATION));
<a name="l00745"></a>00745       <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#4035959182260cd84762a7e786a4c57b">bMedical</a> = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)(<a class="code" href="EditorMercs_8cpp.html#dbdd3c17ddaf2de22fd526061af336df">sBaseStat</a>[<a class="code" href="EditorMercs_8cpp.html#6c75056367de68c8e75e29d281290623">sCurBaseDiff</a>] + (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)(<a class="code" href="Random_8cpp.html#49f938d1313ab6ef09ac6223a16ac334">Random</a>(BASE_STAT_DEVIATION * 2)-BASE_STAT_DEVIATION));
<a name="l00746"></a>00746       <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#e527422adc5995d88b63f12b4dd9c38c">bMechanical</a> = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)(<a class="code" href="EditorMercs_8cpp.html#dbdd3c17ddaf2de22fd526061af336df">sBaseStat</a>[<a class="code" href="EditorMercs_8cpp.html#6c75056367de68c8e75e29d281290623">sCurBaseDiff</a>] + (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)(<a class="code" href="Random_8cpp.html#49f938d1313ab6ef09ac6223a16ac334">Random</a>(BASE_STAT_DEVIATION * 2)-BASE_STAT_DEVIATION));
<a name="l00747"></a>00747       <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#1f8366811489062f9af672734c3e87f8">bExplosive</a> = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)(<a class="code" href="EditorMercs_8cpp.html#dbdd3c17ddaf2de22fd526061af336df">sBaseStat</a>[<a class="code" href="EditorMercs_8cpp.html#6c75056367de68c8e75e29d281290623">sCurBaseDiff</a>] + (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)(<a class="code" href="Random_8cpp.html#49f938d1313ab6ef09ac6223a16ac334">Random</a>(BASE_STAT_DEVIATION * 2)-BASE_STAT_DEVIATION));
<a name="l00748"></a>00748       <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#9e00ffce9fab366b226d73f77609c2f4">bAgility</a> = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)(<a class="code" href="EditorMercs_8cpp.html#dbdd3c17ddaf2de22fd526061af336df">sBaseStat</a>[<a class="code" href="EditorMercs_8cpp.html#6c75056367de68c8e75e29d281290623">sCurBaseDiff</a>] + (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)(<a class="code" href="Random_8cpp.html#49f938d1313ab6ef09ac6223a16ac334">Random</a>(BASE_STAT_DEVIATION * 2)-BASE_STAT_DEVIATION));
<a name="l00749"></a>00749       <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#a6681185ba941c3a7bc8163310182478">bDexterity</a> = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)(<a class="code" href="EditorMercs_8cpp.html#dbdd3c17ddaf2de22fd526061af336df">sBaseStat</a>[<a class="code" href="EditorMercs_8cpp.html#6c75056367de68c8e75e29d281290623">sCurBaseDiff</a>] + (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)(<a class="code" href="Random_8cpp.html#49f938d1313ab6ef09ac6223a16ac334">Random</a>(BASE_STAT_DEVIATION * 2)-BASE_STAT_DEVIATION));
<a name="l00750"></a>00750 
<a name="l00751"></a>00751       <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#66c3be01391ae0f34be79031a4e0f436">bStrength</a> = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)(<a class="code" href="EditorMercs_8cpp.html#dbdd3c17ddaf2de22fd526061af336df">sBaseStat</a>[<a class="code" href="EditorMercs_8cpp.html#6c75056367de68c8e75e29d281290623">sCurBaseDiff</a>] + (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)(<a class="code" href="Random_8cpp.html#49f938d1313ab6ef09ac6223a16ac334">Random</a>(BASE_STAT_DEVIATION * 2)-BASE_STAT_DEVIATION));
<a name="l00752"></a>00752       <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#fd2d5a6ae419aeca68111c22f755974a">bLeadership</a> = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)(<a class="code" href="EditorMercs_8cpp.html#dbdd3c17ddaf2de22fd526061af336df">sBaseStat</a>[<a class="code" href="EditorMercs_8cpp.html#6c75056367de68c8e75e29d281290623">sCurBaseDiff</a>] + (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)(<a class="code" href="Random_8cpp.html#49f938d1313ab6ef09ac6223a16ac334">Random</a>(BASE_STAT_DEVIATION * 2)-BASE_STAT_DEVIATION));
<a name="l00753"></a>00753       <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#4e9c2ad5d84963b9a6fc6f092bed8638">bWisdom</a> = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)(<a class="code" href="EditorMercs_8cpp.html#dbdd3c17ddaf2de22fd526061af336df">sBaseStat</a>[<a class="code" href="EditorMercs_8cpp.html#6c75056367de68c8e75e29d281290623">sCurBaseDiff</a>] + (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)(<a class="code" href="Random_8cpp.html#49f938d1313ab6ef09ac6223a16ac334">Random</a>(BASE_STAT_DEVIATION * 2)-BASE_STAT_DEVIATION));
<a name="l00754"></a>00754       <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#807d674cf2ed059d28d0efdbc102291a">bScientific</a> = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)(<a class="code" href="EditorMercs_8cpp.html#dbdd3c17ddaf2de22fd526061af336df">sBaseStat</a>[<a class="code" href="EditorMercs_8cpp.html#6c75056367de68c8e75e29d281290623">sCurBaseDiff</a>] + (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)(<a class="code" href="Random_8cpp.html#49f938d1313ab6ef09ac6223a16ac334">Random</a>(BASE_STAT_DEVIATION * 2)-BASE_STAT_DEVIATION));
<a name="l00755"></a>00755 
<a name="l00756"></a>00756       <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#0becb3b2a6e15a9c7d60749a341aef38">bExpLevel</a> = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)<a class="code" href="EditorMercs_8cpp.html#d8dcecf8bbb8b51f32ab9dee2321688d">sBaseExpLvl</a>[<a class="code" href="EditorMercs_8cpp.html#6c75056367de68c8e75e29d281290623">sCurBaseDiff</a>];
<a name="l00757"></a>00757       <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#2e4a797d58b6f908faba82877a16c098">bGunType</a> = (<a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>)<a class="code" href="Random_8cpp.html#49f938d1313ab6ef09ac6223a16ac334">Random</a>(BASE_GUNTYPE_DEVIATION);
<a name="l00758"></a>00758 
<a name="l00759"></a>00759       <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#080980e5fe705dcea5c819b05aef6f21">bActionPoints</a> = <a class="code" href="Soldier_01Control_8cpp.html#567738f5c11e8c81fa661e6aff177224">CalcActionPoints</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> );
<a name="l00760"></a>00760 }
<a name="l00761"></a>00761 
<a name="l00762"></a>00762 
<a name="l00763"></a>00763 <span class="comment">//----------------------------------------------------------------------------------------------</span>
<a name="l00764"></a>00764 <span class="comment">//    DisplayEditMercWindow</span>
<a name="l00765"></a>00765 <span class="comment">//</span>
<a name="l00766"></a>00766 <span class="comment">//    Displays the edit merc stat page while editing mercs. If the merc color editing page is </span>
<a name="l00767"></a>00767 <span class="comment">//    to be displayed, this function will dispatch it instead.</span>
<a name="l00768"></a>00768 <span class="comment">//</span>
<a name="l00769"></a><a class="code" href="EditorMercs_8h.html#5f593800a098d6db3fd3fc214a6b8eb8">00769</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#5f593800a098d6db3fd3fc214a6b8eb8">DisplayEditMercWindow</a>( <span class="keywordtype">void</span> )
<a name="l00770"></a>00770 {
<a name="l00771"></a>00771       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iXPos, iYPos, iHeight, iWidth;
<a name="l00772"></a>00772       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usFillColorBack, usFillColorDark, usFillColorLight, usFillColorTextBk;
<a name="l00773"></a>00773       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> <a class="code" href="Sound_01Control_8cpp.html#6150e0515f7202e2fb518f7206ed97dc">x</a>, iXOff;
<a name="l00774"></a>00774       <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> TempString[30];
<a name="l00775"></a>00775       <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a> *<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>;
<a name="l00776"></a>00776       <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a> iEditStat[12];
<a name="l00777"></a>00777 
<a name="l00778"></a>00778       usFillColorBack = 0;
<a name="l00779"></a>00779 
<a name="l00780"></a>00780       <span class="keywordflow">if</span> ( <a class="code" href="EditorMercs_8cpp.html#97092775cdf98eec280dbb127c7f8523">gsSelectedMercID</a> == -1 )
<a name="l00781"></a>00781       {
<a name="l00782"></a>00782 <span class="comment">//          fEditingMerc = FALSE;</span>
<a name="l00783"></a>00783 <span class="comment">//          DestroyEditMercWindow();</span>
<a name="l00784"></a>00784             <span class="keywordflow">return</span>;
<a name="l00785"></a>00785       }
<a name="l00786"></a>00786 
<a name="l00787"></a>00787 
<a name="l00788"></a>00788       <a class="code" href="Overhead_8cpp.html#f0ada03378d5018e6f225bf25ab20b24">GetSoldier</a>( &amp;<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>, (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)<a class="code" href="EditorMercs_8cpp.html#97092775cdf98eec280dbb127c7f8523">gsSelectedMercID</a> );
<a name="l00789"></a>00789 
<a name="l00790"></a>00790 <span class="comment">//    usFillColorBack = GenericButtonFillColors[0];</span>
<a name="l00791"></a>00791       usFillColorDark = <a class="code" href="himage_8cpp.html#d29939ffcd39c7d1cc0a91222702d361">Get16BPPColor</a>(FROMRGB(24, 61, 81));
<a name="l00792"></a>00792       usFillColorLight = <a class="code" href="himage_8cpp.html#d29939ffcd39c7d1cc0a91222702d361">Get16BPPColor</a>(FROMRGB(136, 138, 135));
<a name="l00793"></a>00793       usFillColorTextBk = <a class="code" href="himage_8cpp.html#d29939ffcd39c7d1cc0a91222702d361">Get16BPPColor</a>(FROMRGB(250, 240, 188));
<a name="l00794"></a>00794 
<a name="l00795"></a>00795       iWidth = 266;
<a name="l00796"></a>00796       iHeight = 360;
<a name="l00797"></a>00797       iYPos = 0;
<a name="l00798"></a>00798       iXPos = 0;
<a name="l00799"></a>00799 
<a name="l00800"></a>00800 
<a name="l00801"></a>00801       <span class="comment">// Main window</span>
<a name="l00802"></a>00802       <a class="code" href="vsurface_8cpp.html#10d0257b54c4d27b2d82ead2a46cd581">ColorFillVideoSurfaceArea</a>(FRAME_BUFFER, iXPos, iYPos, iXPos + iWidth, iYPos + iHeight, usFillColorLight );
<a name="l00803"></a>00803       <a class="code" href="vsurface_8cpp.html#10d0257b54c4d27b2d82ead2a46cd581">ColorFillVideoSurfaceArea</a>(FRAME_BUFFER, iXPos + 1, iYPos + 1, iXPos + iWidth, iYPos + iHeight, usFillColorDark );
<a name="l00804"></a>00804       <a class="code" href="vsurface_8cpp.html#10d0257b54c4d27b2d82ead2a46cd581">ColorFillVideoSurfaceArea</a>(FRAME_BUFFER, iXPos + 1, iYPos + 1, iXPos + iWidth - 1, iYPos + iHeight - 1, usFillColorBack );
<a name="l00805"></a>00805       
<a name="l00806"></a>00806       <a class="code" href="Font_8cpp.html#fa4871009f0473cca0380217753947dc">SetFont</a>( FONT12POINT1 );
<a name="l00807"></a>00807 
<a name="l00808"></a>00808       <span class="comment">// Name window</span>
<a name="l00809"></a>00809       <a class="code" href="Font_8cpp.html#59e087bd626a6719f867f325e09941ef">gprintf</a>( iXPos + 128, iYPos + 3, L<span class="stringliteral">"Merc Name:"</span> );
<a name="l00810"></a>00810       <a class="code" href="vsurface_8cpp.html#10d0257b54c4d27b2d82ead2a46cd581">ColorFillVideoSurfaceArea</a>(FRAME_BUFFER, iXPos + 128, iYPos + 16, iXPos + 128 + 104, iYPos + 16 + 19, usFillColorDark );
<a name="l00811"></a>00811       <a class="code" href="vsurface_8cpp.html#10d0257b54c4d27b2d82ead2a46cd581">ColorFillVideoSurfaceArea</a>(FRAME_BUFFER, iXPos + 129, iYPos + 17, iXPos + 128 + 104, iYPos + 17 + 19, usFillColorLight );
<a name="l00812"></a>00812       <a class="code" href="vsurface_8cpp.html#10d0257b54c4d27b2d82ead2a46cd581">ColorFillVideoSurfaceArea</a>(FRAME_BUFFER, iXPos + 129, iYPos + 17, iXPos + 128 + 103, iYPos + 17 + 18, usFillColorTextBk );
<a name="l00813"></a>00813       iXOff = (105 - <a class="code" href="Font_8cpp.html#3bbbfeabebae07a03f719f35607c6e4f">StringPixLength</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#7bf7231f416aa66f38010b7a7e8f2341">name</a>, FONT12POINT1 )) / 2;
<a name="l00814"></a>00814       <a class="code" href="Font_8cpp.html#59e087bd626a6719f867f325e09941ef">gprintf</a>( iXPos + 130 + iXOff, iYPos + 20, L<span class="stringliteral">"%s"</span>, <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#7bf7231f416aa66f38010b7a7e8f2341">name</a> );
<a name="l00815"></a>00815             
<a name="l00816"></a>00816       <span class="comment">// Orders window</span>
<a name="l00817"></a>00817       <a class="code" href="Font_8cpp.html#59e087bd626a6719f867f325e09941ef">gprintf</a>( iXPos + 128, iYPos + 38, L<span class="stringliteral">"Orders:"</span> );
<a name="l00818"></a>00818       <a class="code" href="vsurface_8cpp.html#10d0257b54c4d27b2d82ead2a46cd581">ColorFillVideoSurfaceArea</a>(FRAME_BUFFER, iXPos + 128, iYPos + 51, iXPos + 128 + 104, iYPos + 51 + 19, usFillColorDark );
<a name="l00819"></a>00819       <a class="code" href="vsurface_8cpp.html#10d0257b54c4d27b2d82ead2a46cd581">ColorFillVideoSurfaceArea</a>(FRAME_BUFFER, iXPos + 129, iYPos + 52, iXPos + 128 + 104, iYPos + 52 + 19, usFillColorLight );
<a name="l00820"></a>00820       <a class="code" href="vsurface_8cpp.html#10d0257b54c4d27b2d82ead2a46cd581">ColorFillVideoSurfaceArea</a>(FRAME_BUFFER, iXPos + 129, iYPos + 52, iXPos + 128 + 103, iYPos + 52 + 18, usFillColorTextBk );
<a name="l00821"></a>00821       iXOff = (105 - <a class="code" href="Font_8cpp.html#3bbbfeabebae07a03f719f35607c6e4f">StringPixLength</a>( <a class="code" href="EditorMercs_8cpp.html#0869c1a66ee987ab042dd90b70a9ab34">EditMercOrders</a>[<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#76cf3cb25fe41d314c711377ee8dbfad">bOrders</a>], FONT12POINT1 )) / 2;
<a name="l00822"></a>00822       <a class="code" href="Font_8cpp.html#59e087bd626a6719f867f325e09941ef">gprintf</a>( iXPos + 130 + iXOff, iYPos + 55, L<span class="stringliteral">"%s"</span>, <a class="code" href="EditorMercs_8cpp.html#0869c1a66ee987ab042dd90b70a9ab34">EditMercOrders</a>[<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#76cf3cb25fe41d314c711377ee8dbfad">bOrders</a>] );
<a name="l00823"></a>00823 
<a name="l00824"></a>00824       <span class="comment">// Combat window</span>
<a name="l00825"></a>00825       <a class="code" href="Font_8cpp.html#59e087bd626a6719f867f325e09941ef">gprintf</a>( iXPos + 128, iYPos + 73, L<span class="stringliteral">"Combat Attitude:"</span> );
<a name="l00826"></a>00826       <a class="code" href="vsurface_8cpp.html#10d0257b54c4d27b2d82ead2a46cd581">ColorFillVideoSurfaceArea</a>(FRAME_BUFFER, iXPos + 128, iYPos + 86, iXPos + 128 + 104, iYPos + 86 + 19, usFillColorDark );
<a name="l00827"></a>00827       <a class="code" href="vsurface_8cpp.html#10d0257b54c4d27b2d82ead2a46cd581">ColorFillVideoSurfaceArea</a>(FRAME_BUFFER, iXPos + 129, iYPos + 87, iXPos + 128 + 104, iYPos + 87 + 19, usFillColorLight );
<a name="l00828"></a>00828       <a class="code" href="vsurface_8cpp.html#10d0257b54c4d27b2d82ead2a46cd581">ColorFillVideoSurfaceArea</a>(FRAME_BUFFER, iXPos + 129, iYPos + 87, iXPos + 128 + 103, iYPos + 87 + 18, usFillColorTextBk );
<a name="l00829"></a>00829       iXOff = (105 - <a class="code" href="Font_8cpp.html#3bbbfeabebae07a03f719f35607c6e4f">StringPixLength</a>( <a class="code" href="EditorMercs_8cpp.html#3bffe52fe5d2dec0ff40ebc22e3afb82">EditMercAttitudes</a>[<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#c805687690b8b5573780d07fc3931a36">bAttitude</a>], FONT12POINT1 )) / 2;
<a name="l00830"></a>00830       <a class="code" href="Font_8cpp.html#59e087bd626a6719f867f325e09941ef">gprintf</a>( iXPos + 130 + iXOff, iYPos + 90, L<span class="stringliteral">"%s"</span>, <a class="code" href="EditorMercs_8cpp.html#3bffe52fe5d2dec0ff40ebc22e3afb82">EditMercAttitudes</a>[<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#c805687690b8b5573780d07fc3931a36">bAttitude</a>] );
<a name="l00831"></a>00831 
<a name="l00832"></a>00832       <span class="comment">// Get stats</span>
<a name="l00833"></a>00833       iEditStat[0] = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#600d382f89a391cdeb7bfe2580776866">bLifeMax</a>;                <span class="comment">// 12 13</span>
<a name="l00834"></a>00834       iEditStat[1] = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#e308dea18533bf5ab2bcee5bbe27391c">bLife</a>;                                   <span class="comment">// 14 15</span>
<a name="l00835"></a>00835       iEditStat[2] = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#66c3be01391ae0f34be79031a4e0f436">bStrength</a>;       <span class="comment">// 16 17</span>
<a name="l00836"></a>00836       iEditStat[3] = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#9e00ffce9fab366b226d73f77609c2f4">bAgility</a>;        <span class="comment">// 18 19</span>
<a name="l00837"></a>00837       iEditStat[4] = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#a6681185ba941c3a7bc8163310182478">bDexterity</a>;      <span class="comment">// 20 21</span>
<a name="l00838"></a>00838       iEditStat[5] = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#fd2d5a6ae419aeca68111c22f755974a">bLeadership</a>;     <span class="comment">// 22 23</span>
<a name="l00839"></a>00839       iEditStat[6] = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#4e9c2ad5d84963b9a6fc6f092bed8638">bWisdom</a>;         <span class="comment">// 24 25</span>
<a name="l00840"></a>00840       iEditStat[7] = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#7a9a17a9aff519efd7423c6b11cdb046">bMarksmanship</a>;   <span class="comment">// 26 27</span>
<a name="l00841"></a>00841       iEditStat[8] = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#1f8366811489062f9af672734c3e87f8">bExplosive</a>;      <span class="comment">// 28 29</span>
<a name="l00842"></a>00842       iEditStat[9] = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#4035959182260cd84762a7e786a4c57b">bMedical</a>;        <span class="comment">// 30 31</span>
<a name="l00843"></a>00843       iEditStat[10] = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#807d674cf2ed059d28d0efdbc102291a">bScientific</a>;    <span class="comment">// 32 33</span>
<a name="l00844"></a>00844       iEditStat[11] = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#0becb3b2a6e15a9c7d60749a341aef38">bExpLevel</a>;      <span class="comment">// 34 35</span>
<a name="l00845"></a>00845 
<a name="l00846"></a>00846       <span class="comment">// Stat value windows</span>
<a name="l00847"></a>00847       <span class="keywordflow">for</span> ( x = 0; x &lt; 12; x++ )
<a name="l00848"></a>00848       {
<a name="l00849"></a>00849             <a class="code" href="Font_8cpp.html#59e087bd626a6719f867f325e09941ef">gprintf</a>( iXPos + 6, iYPos + 114 + (20 * x), L<span class="stringliteral">"%s"</span>, <a class="code" href="EditorMercs_8cpp.html#b894fb1a45f6b476a83c7ebe4b78176a">EditMercStat</a>[x] );
<a name="l00850"></a>00850             <a class="code" href="vsurface_8cpp.html#10d0257b54c4d27b2d82ead2a46cd581">ColorFillVideoSurfaceArea</a>(FRAME_BUFFER, iXPos + 116, iYPos + 110 + (20 * x), iXPos + 116 + 30, iYPos + 110 + (20 * x) + 19, usFillColorDark );
<a name="l00851"></a>00851             <a class="code" href="vsurface_8cpp.html#10d0257b54c4d27b2d82ead2a46cd581">ColorFillVideoSurfaceArea</a>(FRAME_BUFFER, iXPos + 117, iYPos + 111 + (20 * x), iXPos + 116 + 30, iYPos + 111 + (20 * x) + 19, usFillColorLight );
<a name="l00852"></a>00852             <a class="code" href="vsurface_8cpp.html#10d0257b54c4d27b2d82ead2a46cd581">ColorFillVideoSurfaceArea</a>(FRAME_BUFFER, iXPos + 117, iYPos + 111 + (20 * x), iXPos + 116 + 29, iYPos + 111 + (20 * x) + 18, usFillColorTextBk );
<a name="l00853"></a>00853             
<a name="l00854"></a>00854             swprintf( (<span class="keywordtype">wchar_t</span> *)TempString, (<span class="keywordtype">wchar_t</span> *)L<span class="stringliteral">"%d"</span>, iEditStat[x] );
<a name="l00855"></a>00855             iXOff = (30 - <a class="code" href="Font_8cpp.html#3bbbfeabebae07a03f719f35607c6e4f">StringPixLength</a>( TempString, FONT12POINT1 )) / 2;
<a name="l00856"></a>00856             <a class="code" href="Font_8cpp.html#59e087bd626a6719f867f325e09941ef">gprintf</a>( iXPos + 118 + iXOff, iYPos + 114 + (20 * x), L<span class="stringliteral">"%s"</span>, TempString );
<a name="l00857"></a>00857       }
<a name="l00858"></a>00858 
<a name="l00859"></a>00859 }
<a name="l00860"></a>00860 
<a name="l00861"></a>00861 
<a name="l00862"></a>00862 
<a name="l00863"></a>00863 <span class="comment">//----------------------------------------------------------------------------------------------</span>
<a name="l00864"></a>00864 <span class="comment">//    IsMercHere</span>
<a name="l00865"></a>00865 <span class="comment">//</span>
<a name="l00866"></a>00866 <span class="comment">//    Checks for a soldier at the given map coordinates. If there is one, it returns it's ID number,</span>
<a name="l00867"></a>00867 <span class="comment">//    otherwise it returns -1.</span>
<a name="l00868"></a>00868 <span class="comment">//</span>
<a name="l00869"></a><a class="code" href="EditorMercs_8h.html#7eacea88632aba5d79d1bb6db00abb39">00869</a> <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> <a class="code" href="EditorMercs_8cpp.html#7eacea88632aba5d79d1bb6db00abb39">IsMercHere</a>( <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> <a class="code" href="editscreen_8cpp.html#48f31659f64cd18c814b1612166c50b5">iMapIndex</a> )
<a name="l00870"></a>00870 {
<a name="l00871"></a>00871       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> IDNumber;
<a name="l00872"></a>00872       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> RetIDNumber;
<a name="l00873"></a>00873       <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a> *<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>;
<a name="l00874"></a>00874       <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> fSoldierFound;
<a name="l00875"></a>00875 
<a name="l00876"></a>00876       RetIDNumber = -1;
<a name="l00877"></a>00877       fSoldierFound = FALSE;
<a name="l00878"></a>00878       <span class="keywordflow">for</span> ( IDNumber = 0; IDNumber &lt; MAX_NUM_SOLDIERS &amp;&amp; !fSoldierFound; IDNumber++ )
<a name="l00879"></a>00879       {
<a name="l00880"></a>00880             <span class="keywordflow">if</span> ( <a class="code" href="Overhead_8cpp.html#f0ada03378d5018e6f225bf25ab20b24">GetSoldier</a>( &amp;<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>, (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)IDNumber ) )
<a name="l00881"></a>00881             {
<a name="l00882"></a>00882                   <span class="keywordflow">if</span> ( pSoldier-&gt;sGridNo == (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)iMapIndex )
<a name="l00883"></a>00883                   {
<a name="l00884"></a>00884                         fSoldierFound = TRUE;
<a name="l00885"></a>00885                         RetIDNumber = IDNumber;
<a name="l00886"></a>00886                   }
<a name="l00887"></a>00887             }
<a name="l00888"></a>00888       }
<a name="l00889"></a>00889 
<a name="l00890"></a>00890       <span class="keywordflow">return</span>( RetIDNumber );
<a name="l00891"></a>00891 }
<a name="l00892"></a>00892 
<a name="l00893"></a>00893 
<a name="l00894"></a>00894 <span class="comment">//----------------------------------------------------------------------------------------------</span>
<a name="l00895"></a>00895 <span class="comment">//----------------------------------------------------------------------------------------------</span>
<a name="l00896"></a>00896 <span class="comment">//    The following are the button callback functions for the merc editing pages</span>
<a name="l00897"></a>00897 <span class="comment">//----------------------------------------------------------------------------------------------</span>
<a name="l00898"></a>00898 <span class="comment">//----------------------------------------------------------------------------------------------</span>
<a name="l00899"></a>00899 
<a name="l00900"></a><a class="code" href="EditorMercs_8cpp.html#2340bab808f542c90620be10349e8210">00900</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#2340bab808f542c90620be10349e8210">EditMercChangeToStatsPageCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason)
<a name="l00901"></a>00901 {
<a name="l00902"></a>00902       <span class="keywordflow">if</span> (reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP)
<a name="l00903"></a>00903       {
<a name="l00904"></a>00904             <a class="code" href="EditorMercs_8cpp.html#c334c7ef62730dd02106a440868897e7">iEditStatTimer</a> = 0;
<a name="l00905"></a>00905             <a class="code" href="EditorMercs_8cpp.html#c536433585b5b9594626ed0a9046b964">iEditMercMode</a> = EDIT_MERC_TO_STATS;
<a name="l00906"></a>00906       }
<a name="l00907"></a>00907 }
<a name="l00908"></a>00908 
<a name="l00909"></a>00909 
<a name="l00910"></a><a class="code" href="EditorMercs_8cpp.html#0060ca13c4e72bdf01ee140c9b0a3630">00910</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#0060ca13c4e72bdf01ee140c9b0a3630">EditMercChangeToColorPageCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason)
<a name="l00911"></a>00911 {
<a name="l00912"></a>00912       <span class="keywordflow">if</span> (reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP)
<a name="l00913"></a>00913       {
<a name="l00914"></a>00914             <a class="code" href="EditorMercs_8cpp.html#c334c7ef62730dd02106a440868897e7">iEditStatTimer</a> = 0;
<a name="l00915"></a>00915             <a class="code" href="EditorMercs_8cpp.html#c536433585b5b9594626ed0a9046b964">iEditMercMode</a> = EDIT_MERC_TO_COLOR;
<a name="l00916"></a>00916       }
<a name="l00917"></a>00917 }
<a name="l00918"></a>00918 
<a name="l00919"></a><a class="code" href="EditorMercs_8cpp.html#785ce93f8e6c5367b1e981989a65f7e0">00919</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#785ce93f8e6c5367b1e981989a65f7e0">EditMercDoneEditCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason)
<a name="l00920"></a>00920 {
<a name="l00921"></a>00921       <span class="keywordflow">if</span> (reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP)
<a name="l00922"></a>00922       {
<a name="l00923"></a>00923             <a class="code" href="EditorMercs_8cpp.html#c334c7ef62730dd02106a440868897e7">iEditStatTimer</a> = 0;
<a name="l00924"></a>00924             <a class="code" href="EditorMercs_8cpp.html#c536433585b5b9594626ed0a9046b964">iEditMercMode</a> = EDIT_MERC_DONE;
<a name="l00925"></a>00925       }
<a name="l00926"></a>00926 }
<a name="l00927"></a>00927 
<a name="l00928"></a>00928 
<a name="l00929"></a><a class="code" href="EditorMercs_8cpp.html#492df34056d54202db99dc9f3668f586">00929</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#492df34056d54202db99dc9f3668f586">EditMercBkgrndCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason)
<a name="l00930"></a>00930 {
<a name="l00931"></a>00931       <span class="keywordflow">if</span> (reason &amp; MSYS_CALLBACK_REASON_RBUTTON_DWN)
<a name="l00932"></a>00932       {
<a name="l00933"></a>00933             <a class="code" href="EditorMercs_8cpp.html#c334c7ef62730dd02106a440868897e7">iEditStatTimer</a> = 0;
<a name="l00934"></a>00934             <a class="code" href="EditorMercs_8cpp.html#c536433585b5b9594626ed0a9046b964">iEditMercMode</a> = EDIT_MERC_DONE;
<a name="l00935"></a>00935       }
<a name="l00936"></a>00936 }
<a name="l00937"></a>00937 
<a name="l00938"></a>00938 
<a name="l00939"></a><a class="code" href="EditorMercs_8cpp.html#ea0bc4531117984bc7714a6e6dc2952b">00939</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#ea0bc4531117984bc7714a6e6dc2952b">EditMercPrevOrderCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason)
<a name="l00940"></a>00940 {
<a name="l00941"></a>00941       <span class="keywordflow">if</span> (reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP)
<a name="l00942"></a>00942       {
<a name="l00943"></a>00943             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> |= BUTTON_CLICKED_ON;
<a name="l00944"></a>00944             <a class="code" href="EditorMercs_8cpp.html#c334c7ef62730dd02106a440868897e7">iEditStatTimer</a> = 0;
<a name="l00945"></a>00945             <a class="code" href="EditorMercs_8cpp.html#c536433585b5b9594626ed0a9046b964">iEditMercMode</a> = EDIT_MERC_PREV_ORDER;
<a name="l00946"></a>00946       }
<a name="l00947"></a>00947 }
<a name="l00948"></a>00948 
<a name="l00949"></a>00949 
<a name="l00950"></a><a class="code" href="EditorMercs_8cpp.html#1a3d3049bedfcba5f56faf6f429c18d8">00950</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#1a3d3049bedfcba5f56faf6f429c18d8">EditMercNextOrderCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason)
<a name="l00951"></a>00951 {
<a name="l00952"></a>00952       <span class="keywordflow">if</span> (reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP)
<a name="l00953"></a>00953       {
<a name="l00954"></a>00954             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> |= BUTTON_CLICKED_ON;
<a name="l00955"></a>00955             <a class="code" href="EditorMercs_8cpp.html#c334c7ef62730dd02106a440868897e7">iEditStatTimer</a> = 0;
<a name="l00956"></a>00956             <a class="code" href="EditorMercs_8cpp.html#c536433585b5b9594626ed0a9046b964">iEditMercMode</a> = EDIT_MERC_NEXT_ORDER;
<a name="l00957"></a>00957       }
<a name="l00958"></a>00958 }
<a name="l00959"></a>00959 
<a name="l00960"></a><a class="code" href="EditorMercs_8cpp.html#cff7f8d4143311f68151ba1920e7e889">00960</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#cff7f8d4143311f68151ba1920e7e889">EditMercPrevAttCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason)
<a name="l00961"></a>00961 {
<a name="l00962"></a>00962       <span class="keywordflow">if</span> (reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP)
<a name="l00963"></a>00963       {
<a name="l00964"></a>00964             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> |= BUTTON_CLICKED_ON;
<a name="l00965"></a>00965             <a class="code" href="EditorMercs_8cpp.html#c334c7ef62730dd02106a440868897e7">iEditStatTimer</a> = 0;
<a name="l00966"></a>00966             <a class="code" href="EditorMercs_8cpp.html#c536433585b5b9594626ed0a9046b964">iEditMercMode</a> = EDIT_MERC_PREV_ATT;
<a name="l00967"></a>00967       }
<a name="l00968"></a>00968 }
<a name="l00969"></a>00969 
<a name="l00970"></a><a class="code" href="EditorMercs_8cpp.html#9b79454a219a21c2dd418a97ff9d1c75">00970</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#9b79454a219a21c2dd418a97ff9d1c75">EditMercNextAttCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason)
<a name="l00971"></a>00971 {
<a name="l00972"></a>00972       <span class="keywordflow">if</span> (reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP)
<a name="l00973"></a>00973       {
<a name="l00974"></a>00974             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> |= BUTTON_CLICKED_ON;
<a name="l00975"></a>00975             <a class="code" href="EditorMercs_8cpp.html#c334c7ef62730dd02106a440868897e7">iEditStatTimer</a> = 0;
<a name="l00976"></a>00976             <a class="code" href="EditorMercs_8cpp.html#c536433585b5b9594626ed0a9046b964">iEditMercMode</a> = EDIT_MERC_NEXT_ATT;
<a name="l00977"></a>00977       }
<a name="l00978"></a>00978 }
<a name="l00979"></a>00979 
<a name="l00980"></a><a class="code" href="EditorMercs_8cpp.html#520304b885ea8f8873ce9b2fb2ea303f">00980</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#520304b885ea8f8873ce9b2fb2ea303f">EditMercStatUpCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason)
<a name="l00981"></a>00981 {
<a name="l00982"></a>00982       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iBtn;
<a name="l00983"></a>00983 
<a name="l00984"></a>00984       <span class="keywordflow">if</span> (reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP)
<a name="l00985"></a>00985       {     
<a name="l00986"></a>00986             <a class="code" href="EditorMercs_8cpp.html#3c10cbfdb437cfc91e71b32a0f842907">iEditWhichStat</a> = -1;
<a name="l00987"></a>00987             <span class="keywordflow">for</span> ( iBtn = 0; iBtn &lt; 36 &amp;&amp; <a class="code" href="EditorMercs_8cpp.html#3c10cbfdb437cfc91e71b32a0f842907">iEditWhichStat</a> == -1; iBtn++ )
<a name="l00988"></a>00988             {
<a name="l00989"></a>00989                   <span class="keywordflow">if</span> ( btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#e5524cbddfbc142161b98d7133b0b3fd">IDNum</a> == <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[iBtn] )
<a name="l00990"></a>00990                         iEditWhichStat = iBtn;
<a name="l00991"></a>00991             }
<a name="l00992"></a>00992 
<a name="l00993"></a>00993             <span class="keywordflow">if</span> ( iEditWhichStat != -1 )
<a name="l00994"></a>00994             {
<a name="l00995"></a>00995                   <a class="code" href="EditorMercs_8cpp.html#c334c7ef62730dd02106a440868897e7">iEditStatTimer</a> = 0;
<a name="l00996"></a>00996                   <a class="code" href="EditorMercs_8cpp.html#c536433585b5b9594626ed0a9046b964">iEditMercMode</a> = EDIT_MERC_INC_STAT;
<a name="l00997"></a>00997             }
<a name="l00998"></a>00998 
<a name="l00999"></a>00999             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> |= BUTTON_CLICKED_ON;
<a name="l01000"></a>01000       }
<a name="l01001"></a>01001       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP)
<a name="l01002"></a>01002       {
<a name="l01003"></a>01003             <a class="code" href="EditorMercs_8cpp.html#c334c7ef62730dd02106a440868897e7">iEditStatTimer</a> = 0;
<a name="l01004"></a>01004             <a class="code" href="EditorMercs_8cpp.html#c536433585b5b9594626ed0a9046b964">iEditMercMode</a> = EDIT_MERC_NONE;
<a name="l01005"></a>01005             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON);
<a name="l01006"></a>01006       }
<a name="l01007"></a>01007 }
<a name="l01008"></a>01008 
<a name="l01009"></a><a class="code" href="EditorMercs_8cpp.html#5a4568682916098249d5982b11acb78b">01009</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#5a4568682916098249d5982b11acb78b">EditMercStatDwnCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason)
<a name="l01010"></a>01010 {
<a name="l01011"></a>01011       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iBtn;
<a name="l01012"></a>01012 
<a name="l01013"></a>01013       <span class="keywordflow">if</span> (reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP)
<a name="l01014"></a>01014       {     
<a name="l01015"></a>01015             <a class="code" href="EditorMercs_8cpp.html#3c10cbfdb437cfc91e71b32a0f842907">iEditWhichStat</a> = -1;
<a name="l01016"></a>01016             <span class="keywordflow">for</span> ( iBtn = 0; iBtn &lt; 36 &amp;&amp; <a class="code" href="EditorMercs_8cpp.html#3c10cbfdb437cfc91e71b32a0f842907">iEditWhichStat</a> == -1; iBtn++ )
<a name="l01017"></a>01017             {
<a name="l01018"></a>01018                   <span class="keywordflow">if</span> ( btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#e5524cbddfbc142161b98d7133b0b3fd">IDNum</a> == <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[iBtn] )
<a name="l01019"></a>01019                         iEditWhichStat = iBtn;
<a name="l01020"></a>01020             }
<a name="l01021"></a>01021 
<a name="l01022"></a>01022             <span class="keywordflow">if</span> ( iEditWhichStat != -1 )
<a name="l01023"></a>01023             {
<a name="l01024"></a>01024                   <a class="code" href="EditorMercs_8cpp.html#c334c7ef62730dd02106a440868897e7">iEditStatTimer</a> = 0;
<a name="l01025"></a>01025                   <a class="code" href="EditorMercs_8cpp.html#c536433585b5b9594626ed0a9046b964">iEditMercMode</a> = EDIT_MERC_DEC_STAT;
<a name="l01026"></a>01026             }
<a name="l01027"></a>01027 
<a name="l01028"></a>01028             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> |= BUTTON_CLICKED_ON;
<a name="l01029"></a>01029       }
<a name="l01030"></a>01030       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP)
<a name="l01031"></a>01031       {
<a name="l01032"></a>01032             <a class="code" href="EditorMercs_8cpp.html#c334c7ef62730dd02106a440868897e7">iEditStatTimer</a> = 0;
<a name="l01033"></a>01033             <a class="code" href="EditorMercs_8cpp.html#c536433585b5b9594626ed0a9046b964">iEditMercMode</a> = EDIT_MERC_NONE;
<a name="l01034"></a>01034             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON);
<a name="l01035"></a>01035       }
<a name="l01036"></a>01036 }
<a name="l01037"></a>01037 
<a name="l01038"></a>01038 
<a name="l01039"></a><a class="code" href="EditorMercs_8cpp.html#a7bf387393be4b214a0200f3e95b5a04">01039</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#a7bf387393be4b214a0200f3e95b5a04">EditMercSetDirCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason)
<a name="l01040"></a>01040 {
<a name="l01041"></a>01041       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iBtn;
<a name="l01042"></a>01042 
<a name="l01043"></a>01043       <span class="keywordflow">if</span> (reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP)
<a name="l01044"></a>01044       {     
<a name="l01045"></a>01045             <a class="code" href="EditorMercs_8cpp.html#3c10cbfdb437cfc91e71b32a0f842907">iEditWhichStat</a> = -1;
<a name="l01046"></a>01046             <span class="keywordflow">for</span> ( iBtn = 0; iBtn &lt; 36 &amp;&amp; <a class="code" href="EditorMercs_8cpp.html#3c10cbfdb437cfc91e71b32a0f842907">iEditWhichStat</a> == -1; iBtn++ )
<a name="l01047"></a>01047             {
<a name="l01048"></a>01048                   <span class="keywordflow">if</span> ( btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#e5524cbddfbc142161b98d7133b0b3fd">IDNum</a> == <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[iBtn] )
<a name="l01049"></a>01049                         iEditWhichStat = iBtn;
<a name="l01050"></a>01050             }
<a name="l01051"></a>01051 
<a name="l01052"></a>01052             <span class="keywordflow">if</span> ( iEditWhichStat != -1 )
<a name="l01053"></a>01053             {
<a name="l01054"></a>01054                   <a class="code" href="EditorMercs_8cpp.html#c334c7ef62730dd02106a440868897e7">iEditStatTimer</a> = 0;
<a name="l01055"></a>01055                   <a class="code" href="EditorMercs_8cpp.html#c536433585b5b9594626ed0a9046b964">iEditMercMode</a> = EDIT_MERC_SET_DIR;
<a name="l01056"></a>01056             }
<a name="l01057"></a>01057 
<a name="l01058"></a>01058             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> |= BUTTON_CLICKED_ON;
<a name="l01059"></a>01059       }
<a name="l01060"></a>01060 }
<a name="l01061"></a>01061 
<a name="l01062"></a>01062 
<a name="l01063"></a><a class="code" href="EditorMercs_8cpp.html#06826042012c03513d610cc229c30f24">01063</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#06826042012c03513d610cc229c30f24">EditMercCenterCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason)
<a name="l01064"></a>01064 {
<a name="l01065"></a>01065       <span class="keywordflow">if</span> (reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP)
<a name="l01066"></a>01066       {     
<a name="l01067"></a>01067             <a class="code" href="EditorMercs_8cpp.html#c334c7ef62730dd02106a440868897e7">iEditStatTimer</a> = 0;
<a name="l01068"></a>01068             <a class="code" href="EditorMercs_8cpp.html#c536433585b5b9594626ed0a9046b964">iEditMercMode</a> = EDIT_MERC_FIND;
<a name="l01069"></a>01069 
<a name="l01070"></a>01070             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> |= BUTTON_CLICKED_ON;
<a name="l01071"></a>01071       }
<a name="l01072"></a>01072 }
<a name="l01073"></a>01073 
<a name="l01074"></a>01074 
<a name="l01075"></a><a class="code" href="EditorMercs_8cpp.html#8c2131ceee80cd7dff82822400df2b16">01075</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#8c2131ceee80cd7dff82822400df2b16">EditMercColorDwnCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason)
<a name="l01076"></a>01076 {
<a name="l01077"></a>01077       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iBtn;
<a name="l01078"></a>01078 
<a name="l01079"></a>01079       <span class="keywordflow">if</span> (reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP)
<a name="l01080"></a>01080       {     
<a name="l01081"></a>01081             <a class="code" href="EditorMercs_8cpp.html#3c10cbfdb437cfc91e71b32a0f842907">iEditWhichStat</a> = -1;
<a name="l01082"></a>01082             <span class="keywordflow">for</span> ( iBtn = 0; iBtn &lt; 8 &amp;&amp; <a class="code" href="EditorMercs_8cpp.html#3c10cbfdb437cfc91e71b32a0f842907">iEditWhichStat</a> == -1; iBtn++ )
<a name="l01083"></a>01083             {
<a name="l01084"></a>01084                   <span class="keywordflow">if</span> ( btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#e5524cbddfbc142161b98d7133b0b3fd">IDNum</a> == <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[iBtn] )
<a name="l01085"></a>01085                         iEditWhichStat = iBtn;
<a name="l01086"></a>01086             }
<a name="l01087"></a>01087 
<a name="l01088"></a>01088             <span class="keywordflow">if</span> ( iEditWhichStat != -1 )
<a name="l01089"></a>01089             {
<a name="l01090"></a>01090                   <a class="code" href="EditorMercs_8cpp.html#c334c7ef62730dd02106a440868897e7">iEditStatTimer</a> = 0;
<a name="l01091"></a>01091                   <a class="code" href="EditorMercs_8cpp.html#c536433585b5b9594626ed0a9046b964">iEditMercMode</a> = EDIT_MERC_PREV_COLOR;
<a name="l01092"></a>01092             }
<a name="l01093"></a>01093 
<a name="l01094"></a>01094             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> |= BUTTON_CLICKED_ON;
<a name="l01095"></a>01095       }
<a name="l01096"></a>01096 }
<a name="l01097"></a>01097 
<a name="l01098"></a><a class="code" href="EditorMercs_8cpp.html#295d42c36e90cc3c2eac16a4d5bd95ad">01098</a> <span class="keywordtype">void</span> <a class="code" href="Editor_01Callback_01Prototypes_8h.html#295d42c36e90cc3c2eac16a4d5bd95ad">MercsToggleColorModeCallback</a>( <a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn, <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason )
<a name="l01099"></a>01099 {
<a name="l01100"></a>01100       <span class="keywordflow">if</span>( reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP )
<a name="l01101"></a>01101       {
<a name="l01102"></a>01102             <span class="keywordflow">if</span>( btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> &amp; BUTTON_CLICKED_ON ) <span class="comment">//button is checked</span>
<a name="l01103"></a>01103             {
<a name="l01104"></a>01104                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#ffd3302fd9ab9992dc9032f6b536aaf3">EnableEditorButtons</a>( FIRST_MERCS_COLOR_BUTTON, LAST_MERCS_COLOR_BUTTON );
<a name="l01105"></a>01105                   <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#1e4eaba07de6a26b8c4c7d0ce1c231e2">fVisible</a> = TRUE;
<a name="l01106"></a>01106                   sprintf( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#11ce98982166c21bcd644f1a2e8bb45f">HeadPal</a>, <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#7eac56265178b4c6b14b3c4e57b0cf59">HeadPal</a> );
<a name="l01107"></a>01107                   sprintf( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#e8ab217f813460200f9541afcba6c4c4">SkinPal</a>, <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#c138d8e83ecb9e6afc7fbe505f756775">SkinPal</a> );
<a name="l01108"></a>01108                   sprintf( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#aea74efcf2f672bd7c398c360e5edc55">VestPal</a>, <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#0234867384fe2f03608cf551edf81506">VestPal</a> );
<a name="l01109"></a>01109                   sprintf( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#097969cce346702b9fd06ba5208a3276">PantsPal</a>, <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#2466fb9ff2f6d03d77f3d34eb6d2dba6">PantsPal</a> );
<a name="l01110"></a>01110             }
<a name="l01111"></a>01111             <span class="keywordflow">else</span> <span class="comment">//button is unchecked.</span>
<a name="l01112"></a>01112             {
<a name="l01113"></a>01113                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#f8c352d03f30207ed74e324ef1afa7dc">DisableEditorButtons</a>( FIRST_MERCS_COLOR_BUTTON, LAST_MERCS_COLOR_BUTTON );
<a name="l01114"></a>01114                   <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#1e4eaba07de6a26b8c4c7d0ce1c231e2">fVisible</a> = FALSE;
<a name="l01115"></a>01115             }
<a name="l01116"></a>01116             <a class="code" href="EditorMercs_8cpp.html#2411d22b871f9aaa6b8596afc913c909">gfRenderMercInfo</a> = TRUE;
<a name="l01117"></a>01117             <a class="code" href="EditorDefines_8h.html#3a8478611d591d976e9e594885e1811a">gfRenderTaskbar</a> = TRUE;
<a name="l01118"></a>01118       }
<a name="l01119"></a>01119 }
<a name="l01120"></a>01120 
<a name="l01121"></a><a class="code" href="EditorMercs_8cpp.html#37ec0026919e4cec3409a84d8d79340e">01121</a> <span class="keywordtype">void</span> <a class="code" href="Editor_01Callback_01Prototypes_8h.html#37ec0026919e4cec3409a84d8d79340e">MercsSetColorsCallback</a>( <a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn, <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason )
<a name="l01122"></a>01122 {
<a name="l01123"></a>01123       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iBtn;
<a name="l01124"></a>01124       <span class="keywordflow">if</span> (reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP)
<a name="l01125"></a>01125       {     
<a name="l01126"></a>01126             <a class="code" href="EditorMercs_8cpp.html#3c10cbfdb437cfc91e71b32a0f842907">iEditWhichStat</a> = -1;
<a name="l01127"></a>01127             <span class="keywordflow">for</span> ( iBtn = FIRST_MERCS_COLOR_BUTTON; iBtn &lt;= LAST_MERCS_COLOR_BUTTON; iBtn++ )
<a name="l01128"></a>01128             {
<a name="l01129"></a>01129                   <span class="keywordflow">if</span> ( btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#e5524cbddfbc142161b98d7133b0b3fd">IDNum</a> == <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[iBtn] )
<a name="l01130"></a>01130                   {
<a name="l01131"></a>01131                         <a class="code" href="EditorMercs_8cpp.html#3c10cbfdb437cfc91e71b32a0f842907">iEditWhichStat</a> = iBtn - FIRST_MERCS_COLOR_BUTTON;
<a name="l01132"></a>01132                         <a class="code" href="EditorMercs_8cpp.html#c334c7ef62730dd02106a440868897e7">iEditStatTimer</a> = 0;
<a name="l01133"></a>01133                         <a class="code" href="EditorMercs_8cpp.html#c536433585b5b9594626ed0a9046b964">iEditMercMode</a> = EDIT_MERC_NEXT_COLOR;
<a name="l01134"></a>01134                         <a class="code" href="EditorMercs_8cpp.html#2411d22b871f9aaa6b8596afc913c909">gfRenderMercInfo</a> = TRUE;
<a name="l01135"></a>01135                         <span class="keywordflow">return</span>;
<a name="l01136"></a>01136                   }
<a name="l01137"></a>01137             }
<a name="l01138"></a>01138       }
<a name="l01139"></a>01139 }
<a name="l01140"></a>01140 
<a name="l01141"></a><a class="code" href="EditorMercs_8cpp.html#501fecd82c8239ed44c93ac2ac681af1">01141</a> <span class="keywordtype">void</span> <a class="code" href="Editor_01Callback_01Prototypes_8h.html#501fecd82c8239ed44c93ac2ac681af1">MercsSetBodyTypeCallback</a>( <a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn, <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason )
<a name="l01142"></a>01142 {
<a name="l01143"></a>01143       <span class="keywordflow">if</span>( reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP )
<a name="l01144"></a>01144       {
<a name="l01145"></a>01145             <a class="code" href="EditorMercs_8cpp.html#2411d22b871f9aaa6b8596afc913c909">gfRenderMercInfo</a> = TRUE;
<a name="l01146"></a>01146             <span class="keywordflow">if</span>( btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#e5524cbddfbc142161b98d7133b0b3fd">IDNum</a> == <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[ <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b53a1264e7a43e90444a7e1f23e53a1705">MERCS_BODYTYPE_DOWN</a> ] )
<a name="l01147"></a>01147                   <a class="code" href="EditorMercs_8cpp.html#3031161409b30d3d2f2ec0a193a58dfd">ChangeBodyType</a>( 1 );    <span class="comment">//next</span>
<a name="l01148"></a>01148             <span class="keywordflow">else</span>
<a name="l01149"></a>01149       <a class="code" href="EditorMercs_8cpp.html#3031161409b30d3d2f2ec0a193a58dfd">ChangeBodyType</a>( -1 ); <span class="comment">//previous</span>
<a name="l01150"></a>01150       }
<a name="l01151"></a>01151 }
<a name="l01152"></a>01152 
<a name="l01153"></a><a class="code" href="EditorMercs_8cpp.html#1ffb972fe980bf744cf89330e82dec85">01153</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#1ffb972fe980bf744cf89330e82dec85">EditMercDecDifficultyCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason)
<a name="l01154"></a>01154 {
<a name="l01155"></a>01155       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP)
<a name="l01156"></a>01156       {
<a name="l01157"></a>01157             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> |= BUTTON_CLICKED_ON;
<a name="l01158"></a>01158       
<a name="l01159"></a>01159             <a class="code" href="EditorDefines_8h.html#e9b4f34e8e534bc1d550ad663e72e69e">iEditorToolbarState</a> = <a class="code" href="EditorDefines_8h.html#0411cd49bb5b71852cecd93bcbf0ca2d0e86bee933cd52918a46977eed56e744">TBAR_MODE_DEC_DIFF</a>;
<a name="l01160"></a>01160       }
<a name="l01161"></a>01161 }
<a name="l01162"></a>01162 
<a name="l01163"></a>01163 
<a name="l01164"></a><a class="code" href="EditorMercs_8cpp.html#7610d8ec45a45556fa5dbf5396965b82">01164</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#7610d8ec45a45556fa5dbf5396965b82">EditMercIncDifficultyCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason)
<a name="l01165"></a>01165 {
<a name="l01166"></a>01166       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP)
<a name="l01167"></a>01167       {
<a name="l01168"></a>01168             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> |= BUTTON_CLICKED_ON;
<a name="l01169"></a>01169       
<a name="l01170"></a>01170             <a class="code" href="EditorDefines_8h.html#e9b4f34e8e534bc1d550ad663e72e69e">iEditorToolbarState</a> = <a class="code" href="EditorDefines_8h.html#0411cd49bb5b71852cecd93bcbf0ca2da422f6c4455653a84a0f82f5b3db146d">TBAR_MODE_INC_DIFF</a>;
<a name="l01171"></a>01171       }
<a name="l01172"></a>01172 }
<a name="l01173"></a>01173 
<a name="l01174"></a>01174 
<a name="l01175"></a>01175 
<a name="l01176"></a>01176 
<a name="l01177"></a>01177 
<a name="l01178"></a>01178 <span class="comment">//----------------------------------------------------------------------------------------------</span>
<a name="l01179"></a>01179 <span class="comment">//    ShowEditMercPalettes</span>
<a name="l01180"></a>01180 <span class="comment">//</span>
<a name="l01181"></a>01181 <span class="comment">//    Displays the palette of the given merc (used by the edit merc color page)</span>
<a name="l01182"></a>01182 <span class="comment">//</span>
<a name="l01183"></a><a class="code" href="EditorMercs_8cpp.html#bebfc4cbeb436e8bd34b9d316460a0cf">01183</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#bebfc4cbeb436e8bd34b9d316460a0cf">ShowEditMercPalettes</a>( <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a> *<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> )
<a name="l01184"></a>01184 {
<a name="l01185"></a>01185       <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>  ubPaletteRep;
<a name="l01186"></a>01186       <span class="keywordflow">if</span>( !<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> )
<a name="l01187"></a>01187             ubPaletteRep = 0xff;
<a name="l01188"></a>01188 
<a name="l01189"></a>01189       <span class="keywordflow">if</span>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> )
<a name="l01190"></a>01190       {
<a name="l01191"></a>01191             <span class="keywordflow">if</span>( !<a class="code" href="Sys_01Globals_8h.html#6b0f634f4cee3b49739fbd456e2b9fcf">strlen</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#7eac56265178b4c6b14b3c4e57b0cf59">HeadPal</a> ) )
<a name="l01192"></a>01192                   ubPaletteRep = 0xff;
<a name="l01193"></a>01193             <span class="keywordflow">else</span>        
<a name="l01194"></a>01194                   <a class="code" href="Soldier_01Control_8cpp.html#f3fe028921d7680328d939d6429bb8f3">GetPaletteRepIndexFromID</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#7eac56265178b4c6b14b3c4e57b0cf59">HeadPal</a>, &amp;ubPaletteRep );
<a name="l01195"></a>01195       }
<a name="l01196"></a>01196       <a class="code" href="EditorMercs_8cpp.html#2bf5df1388bd29ecb815efe7b4986bd6">ShowEditMercColorSet</a>( ubPaletteRep, 0 );
<a name="l01197"></a>01197       
<a name="l01198"></a>01198       <span class="keywordflow">if</span>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> )
<a name="l01199"></a>01199       {
<a name="l01200"></a>01200             <span class="keywordflow">if</span>( !<a class="code" href="Sys_01Globals_8h.html#6b0f634f4cee3b49739fbd456e2b9fcf">strlen</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#c138d8e83ecb9e6afc7fbe505f756775">SkinPal</a> ) )
<a name="l01201"></a>01201                   ubPaletteRep = 0xff;
<a name="l01202"></a>01202             <span class="keywordflow">else</span>
<a name="l01203"></a>01203                   <a class="code" href="Soldier_01Control_8cpp.html#f3fe028921d7680328d939d6429bb8f3">GetPaletteRepIndexFromID</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#c138d8e83ecb9e6afc7fbe505f756775">SkinPal</a>, &amp;ubPaletteRep );
<a name="l01204"></a>01204       }
<a name="l01205"></a>01205       <a class="code" href="EditorMercs_8cpp.html#2bf5df1388bd29ecb815efe7b4986bd6">ShowEditMercColorSet</a>( ubPaletteRep, 1 );
<a name="l01206"></a>01206       
<a name="l01207"></a>01207       <span class="keywordflow">if</span>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> )
<a name="l01208"></a>01208       {
<a name="l01209"></a>01209             <span class="keywordflow">if</span>( !<a class="code" href="Sys_01Globals_8h.html#6b0f634f4cee3b49739fbd456e2b9fcf">strlen</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#0234867384fe2f03608cf551edf81506">VestPal</a> ) )
<a name="l01210"></a>01210                   ubPaletteRep = 0xff;
<a name="l01211"></a>01211             <span class="keywordflow">else</span>
<a name="l01212"></a>01212                   <a class="code" href="Soldier_01Control_8cpp.html#f3fe028921d7680328d939d6429bb8f3">GetPaletteRepIndexFromID</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#0234867384fe2f03608cf551edf81506">VestPal</a>, &amp;ubPaletteRep );
<a name="l01213"></a>01213       }
<a name="l01214"></a>01214       <a class="code" href="EditorMercs_8cpp.html#2bf5df1388bd29ecb815efe7b4986bd6">ShowEditMercColorSet</a>( ubPaletteRep, 2 );
<a name="l01215"></a>01215 
<a name="l01216"></a>01216       <span class="keywordflow">if</span>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> )
<a name="l01217"></a>01217       {
<a name="l01218"></a>01218             <span class="keywordflow">if</span>( !<a class="code" href="Sys_01Globals_8h.html#6b0f634f4cee3b49739fbd456e2b9fcf">strlen</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#0234867384fe2f03608cf551edf81506">VestPal</a> ) )
<a name="l01219"></a>01219                   ubPaletteRep = 0xff;
<a name="l01220"></a>01220             <span class="keywordflow">else</span>
<a name="l01221"></a>01221                   <a class="code" href="Soldier_01Control_8cpp.html#f3fe028921d7680328d939d6429bb8f3">GetPaletteRepIndexFromID</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#2466fb9ff2f6d03d77f3d34eb6d2dba6">PantsPal</a>, &amp;ubPaletteRep );
<a name="l01222"></a>01222       }
<a name="l01223"></a>01223       <a class="code" href="EditorMercs_8cpp.html#2bf5df1388bd29ecb815efe7b4986bd6">ShowEditMercColorSet</a>( ubPaletteRep, 3 );
<a name="l01224"></a>01224 }
<a name="l01225"></a>01225 
<a name="l01226"></a>01226 
<a name="l01227"></a>01227 <span class="comment">//----------------------------------------------------------------------------------------------</span>
<a name="l01228"></a>01228 <span class="comment">//    ShowEditMercColorSet</span>
<a name="l01229"></a>01229 <span class="comment">//</span>
<a name="l01230"></a>01230 <span class="comment">//    Displays a single palette set. (used by ShowEditMercPalettes)</span>
<a name="l01231"></a>01231 <span class="comment">//</span>
<a name="l01232"></a><a class="code" href="EditorMercs_8cpp.html#2bf5df1388bd29ecb815efe7b4986bd6">01232</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#2bf5df1388bd29ecb815efe7b4986bd6">ShowEditMercColorSet</a>( <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubPaletteRep, <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sSet )
<a name="l01233"></a>01233 {
<a name="l01234"></a>01234       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> us16BPPColor, usFillColorDark, usFillColorLight;
<a name="l01235"></a>01235       <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> cnt1;
<a name="l01236"></a>01236       <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>  ubSize;
<a name="l01237"></a>01237       <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sUnitSize;
<a name="l01238"></a>01238       <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>  sLeft, sTop, sRight, sBottom;
<a name="l01239"></a>01239 
<a name="l01240"></a>01240       <span class="keywordflow">if</span>( ubPaletteRep == 0xff )
<a name="l01241"></a>01241             ubSize = 16;
<a name="l01242"></a>01242       <span class="keywordflow">else</span>
<a name="l01243"></a>01243             ubSize = <a class="code" href="Soldier_01Control_8cpp.html#1a5d8e8abe84014e7e291d7fbf454bea">gpPalRep</a>[ ubPaletteRep ].<a class="code" href="structPaletteReplacementType.html#2160cab68ebe56a77e31eae19fc9ba21">ubPaletteSize</a>;
<a name="l01244"></a>01244 
<a name="l01245"></a>01245       sUnitSize = 128 / (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(ubSize);
<a name="l01246"></a>01246 
<a name="l01247"></a>01247       sTop = 364 + (sSet * 24);
<a name="l01248"></a>01248       sBottom = sTop + 20;
<a name="l01249"></a>01249       sLeft = 230;
<a name="l01250"></a>01250       sRight = 359; 
<a name="l01251"></a>01251 
<a name="l01252"></a>01252       usFillColorDark = <a class="code" href="himage_8cpp.html#d29939ffcd39c7d1cc0a91222702d361">Get16BPPColor</a>(FROMRGB(24, 61, 81));
<a name="l01253"></a>01253       usFillColorLight = <a class="code" href="himage_8cpp.html#d29939ffcd39c7d1cc0a91222702d361">Get16BPPColor</a>(FROMRGB(136, 138, 135));
<a name="l01254"></a>01254 
<a name="l01255"></a>01255       <span class="comment">// Draw color bar window area</span>
<a name="l01256"></a>01256       <a class="code" href="vsurface_8cpp.html#10d0257b54c4d27b2d82ead2a46cd581">ColorFillVideoSurfaceArea</a>(FRAME_BUFFER, sLeft,         sTop,             sRight, sBottom, usFillColorDark );
<a name="l01257"></a>01257       <a class="code" href="vsurface_8cpp.html#10d0257b54c4d27b2d82ead2a46cd581">ColorFillVideoSurfaceArea</a>(FRAME_BUFFER, sLeft + 1, sTop + 1, sRight, sBottom, usFillColorLight );
<a name="l01258"></a>01258       <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>( sLeft, sTop, sRight, sBottom );
<a name="l01259"></a>01259 
<a name="l01260"></a>01260       sTop++;
<a name="l01261"></a>01261       sBottom--;
<a name="l01262"></a>01262       sLeft++;
<a name="l01263"></a>01263       sRight = sLeft + sUnitSize;
<a name="l01264"></a>01264 
<a name="l01265"></a>01265       <span class="comment">// Draw the color bar</span>
<a name="l01266"></a>01266       <span class="keywordflow">for</span> ( cnt1 = 0; cnt1 &lt; ubSize; cnt1++ )
<a name="l01267"></a>01267       {
<a name="l01268"></a>01268             <span class="keywordflow">if</span> (cnt1 == (ubSize - 1) )
<a name="l01269"></a>01269                   sRight = 358;
<a name="l01270"></a>01270             <span class="keywordflow">if</span>( ubPaletteRep == 0xff )
<a name="l01271"></a>01271                   us16BPPColor = <a class="code" href="himage_8cpp.html#d29939ffcd39c7d1cc0a91222702d361">Get16BPPColor</a>( FROMRGB( (16 - cnt1)*10, (16 - cnt1)*10, (16 - cnt1)*10 ) );
<a name="l01272"></a>01272             <span class="keywordflow">else</span>
<a name="l01273"></a>01273                   us16BPPColor = <a class="code" href="himage_8cpp.html#d29939ffcd39c7d1cc0a91222702d361">Get16BPPColor</a>( FROMRGB( <a class="code" href="Soldier_01Control_8cpp.html#1a5d8e8abe84014e7e291d7fbf454bea">gpPalRep</a>[ ubPaletteRep ].r[ cnt1 ], <a class="code" href="Soldier_01Control_8cpp.html#1a5d8e8abe84014e7e291d7fbf454bea">gpPalRep</a>[ ubPaletteRep ].g[ cnt1 ], <a class="code" href="Soldier_01Control_8cpp.html#1a5d8e8abe84014e7e291d7fbf454bea">gpPalRep</a>[ ubPaletteRep ].b[ cnt1 ] ) );
<a name="l01274"></a>01274             <a class="code" href="vsurface_8cpp.html#10d0257b54c4d27b2d82ead2a46cd581">ColorFillVideoSurfaceArea</a>( FRAME_BUFFER, sLeft, sTop, sRight, sBottom, us16BPPColor );
<a name="l01275"></a>01275 
<a name="l01276"></a>01276             sLeft += sUnitSize;
<a name="l01277"></a>01277             sRight += sUnitSize;
<a name="l01278"></a>01278       }
<a name="l01279"></a>01279 }
<a name="l01280"></a>01280 
<a name="l01281"></a>01281 
<a name="l01282"></a>01282 <span class="comment">//----------------------------------------------------------------------------------------------</span>
<a name="l01283"></a>01283 <span class="comment">//    DisplayWayPoints</span>
<a name="l01284"></a>01284 <span class="comment">//</span>
<a name="l01285"></a>01285 <span class="comment">//    Displays the way points of the currently selected merc.</span>
<a name="l01286"></a>01286 <span class="comment">//</span>
<a name="l01287"></a><a class="code" href="editscreen_8h.html#1cc3ab6e665820edf48abd435ea54285">01287</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#1cc3ab6e665820edf48abd435ea54285">DisplayWayPoints</a>(<span class="keywordtype">void</span>)
<a name="l01288"></a>01288 {
<a name="l01289"></a>01289       <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sX,sY;
<a name="l01290"></a>01290       <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sXMapPos,sYMapPos;
<a name="l01291"></a>01291       <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sScreenX,sScreenY;
<a name="l01292"></a>01292       <a class="code" href="Types_8h.html#8d06b04c04132c6f7c0fcb08c6167455">FLOAT</a> ScrnX,ScrnY,dOffsetX,dOffsetY;
<a name="l01293"></a>01293       <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>  bPoint;
<a name="l01294"></a>01294       <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a> *<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>;
<a name="l01295"></a>01295       <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> <a class="code" href="structIPListNode.html#4d8398a0ca95db21dd49974d0193ed37">sGridNo</a>;
<a name="l01296"></a>01296       
<a name="l01297"></a>01297 
<a name="l01298"></a>01298       <span class="keywordflow">if</span> ( <a class="code" href="EditorMercs_8cpp.html#97092775cdf98eec280dbb127c7f8523">gsSelectedMercID</a> == -1 || (<a class="code" href="EditorMercs_8cpp.html#97092775cdf98eec280dbb127c7f8523">gsSelectedMercID</a> &lt;= (<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a>)<a class="code" href="Overhead_8cpp.html#46bd754f8875c305ab18731ed10e3364">gTacticalStatus</a>.<a class="code" href="structTacticalStatusType.html#2ecddfe580bb019bc92cc4859eaf3edc">Team</a>[ OUR_TEAM ].<a class="code" href="structTacticalTeamType.html#6a887279dad735dc302f21c1e559d5ce">bLastID</a>) || <a class="code" href="EditorMercs_8cpp.html#97092775cdf98eec280dbb127c7f8523">gsSelectedMercID</a> &gt;= MAXMERCS )
<a name="l01299"></a>01299             <span class="keywordflow">return</span>;
<a name="l01300"></a>01300 
<a name="l01301"></a>01301       <a class="code" href="Overhead_8cpp.html#f0ada03378d5018e6f225bf25ab20b24">GetSoldier</a>( &amp;<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>, (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)<a class="code" href="EditorMercs_8cpp.html#97092775cdf98eec280dbb127c7f8523">gsSelectedMercID</a> );
<a name="l01302"></a>01302       <span class="keywordflow">if</span> ( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> == NULL || !<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#653dad4e2520784e293eca9f948b8532">bActive</a>)
<a name="l01303"></a>01303             <span class="keywordflow">return</span>;
<a name="l01304"></a>01304 
<a name="l01305"></a>01305       <span class="comment">// point 0 is not used!</span>
<a name="l01306"></a>01306       <span class="keywordflow">for</span> ( bPoint = 1; bPoint &lt;= <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#3617f93cf4f3f5adbe609960815ed569">bPatrolCnt</a>; bPoint++ )
<a name="l01307"></a>01307       {
<a name="l01308"></a>01308             <span class="comment">// Get the next point</span>
<a name="l01309"></a>01309             sGridNo = (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#8fdd768fde52511d085402060c856cf5">usPatrolGrid</a>[bPoint];
<a name="l01310"></a>01310 
<a name="l01311"></a>01311             <span class="comment">// Can we see it?</span>
<a name="l01312"></a>01312             <a class="code" href="Soldier_01Ani_8cpp.html#c294aa65f0375eb6343a2de2a25dafcc">if</a> ( !<a class="code" href="Isometric_01Utils_8cpp.html#d847f316e46ad7cba6d1e7f2d103e56e">GridNoOnVisibleWorldTile</a>( sGridNo ) )
<a name="l01313"></a>01313                   <span class="keywordflow">continue</span>;
<a name="l01314"></a>01314 
<a name="l01315"></a>01315             <span class="keywordflow">if</span>((sGridNo &lt; 0) || (sGridNo &gt; WORLD_MAX))
<a name="l01316"></a>01316                   <span class="keywordflow">continue</span>;
<a name="l01317"></a>01317 
<a name="l01318"></a>01318             <span class="comment">// Convert it's location to screen coordinates</span>
<a name="l01319"></a>01319             <a class="code" href="Isometric_01Utils_8cpp.html#42da2d46d5074c97787f28fdf5c51073">ConvertGridNoToXY</a>( sGridNo, &amp;sXMapPos, &amp;sYMapPos );
<a name="l01320"></a>01320 
<a name="l01321"></a>01321             dOffsetX = (<a class="code" href="Types_8h.html#8d06b04c04132c6f7c0fcb08c6167455">FLOAT</a>)(sXMapPos * CELL_X_SIZE) - <a class="code" href="renderworld_8cpp.html#1bf795f2a13e8559ffa77bc67b81dcb7">gsRenderCenterX</a>;
<a name="l01322"></a>01322             dOffsetY = (<a class="code" href="Types_8h.html#8d06b04c04132c6f7c0fcb08c6167455">FLOAT</a>)(sYMapPos * CELL_Y_SIZE) - <a class="code" href="renderworld_8cpp.html#086faf26457fce933b3a4f2e2ef450f3">gsRenderCenterY</a>;
<a name="l01323"></a>01323 
<a name="l01324"></a>01324             <a class="code" href="Isometric_01Utils_8cpp.html#96e5e7d8f6033d488d64a1baa963e3ab">FloatFromCellToScreenCoordinates</a>( dOffsetX, dOffsetY, &amp;ScrnX, &amp;ScrnY);
<a name="l01325"></a>01325             
<a name="l01326"></a>01326             sScreenX = ( ( <a class="code" href="renderworld_8cpp.html#829facd7abae54fcc284037c443e54bf">gsVIEWPORT_END_X</a> - <a class="code" href="renderworld_8cpp.html#81bf7674212c692b12d2fd3c41050c9b">gsVIEWPORT_START_X</a> ) /2 ) + (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)ScrnX;
<a name="l01327"></a>01327             sScreenY = ( ( <a class="code" href="HelpScreen_8cpp.html#268f46eb948cd6eb0f3406b688e4ccaa">gsVIEWPORT_END_Y</a> - <a class="code" href="renderworld_8cpp.html#71c227d79f4390bf0c95bfe1050ce147">gsVIEWPORT_START_Y</a> ) /2 ) + (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)ScrnY;
<a name="l01328"></a>01328 
<a name="l01329"></a>01329             <span class="comment">// Adjust for tiles height factor!</span>
<a name="l01330"></a>01330             sScreenY -= <a class="code" href="worlddef_8cpp.html#a1c640bcf89772795e6517da9963e0d7">gpWorldLevelData</a>[sGridNo].<a class="code" href="structMAP__ELEMENT.html#a94f78ea824bcf1ee1829bacaedd5409">sHeight</a>;
<a name="l01331"></a>01331             <span class="comment">// Bring it down a touch</span>
<a name="l01332"></a>01332             sScreenY += 5;
<a name="l01333"></a>01333 
<a name="l01334"></a>01334             <span class="keywordflow">if</span>( sScreenY &lt;= 355 )
<a name="l01335"></a>01335             {
<a name="l01336"></a>01336                   <span class="comment">// Shown it on screen!</span>
<a name="l01337"></a>01337                   <a class="code" href="Font_8cpp.html#fa4871009f0473cca0380217753947dc">SetFont</a>(TINYFONT1);
<a name="l01338"></a>01338                   <span class="keywordflow">if</span>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#0d1f73c5d0ac839ec84a4792505949cb">bLevel</a> == 1 )
<a name="l01339"></a>01339                   {
<a name="l01340"></a>01340                         <a class="code" href="Font_8cpp.html#a1fe8cc526be9e2c96b5dd66e348506f">SetFontBackground</a>( FONT_LTBLUE );
<a name="l01341"></a>01341                         sScreenY -= 68;
<a name="l01342"></a>01342                   }
<a name="l01343"></a>01343                   <span class="keywordflow">else</span>
<a name="l01344"></a>01344                         <a class="code" href="Font_8cpp.html#a1fe8cc526be9e2c96b5dd66e348506f">SetFontBackground</a>( FONT_LTRED );
<a name="l01345"></a>01345                   <a class="code" href="Font_8cpp.html#388be5810478c3f3bdb861f144085d70">SetFontForeground</a>( FONT_WHITE );
<a name="l01346"></a>01346                   <a class="code" href="Font_8cpp.html#6e4e5666db9f5ede835aba7e158f0e8f">VarFindFontCenterCoordinates</a>( sScreenX, sScreenY, 1, 1, TINYFONT1, &amp;sX, &amp;sY, L<span class="stringliteral">"%d"</span>, bPoint );
<a name="l01347"></a>01347                   <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>(sX,sY,L<span class="stringliteral">"%d"</span>,bPoint);
<a name="l01348"></a>01348             }
<a name="l01349"></a>01349       }
<a name="l01350"></a>01350 }
<a name="l01351"></a>01351 
<a name="l01352"></a>01352 
<a name="l01353"></a><a class="code" href="EditorMercs_8h.html#77cf01999d45652c6c4dbb4901173f7f">01353</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#77cf01999d45652c6c4dbb4901173f7f">CreateEditMercWindow</a>( <span class="keywordtype">void</span> )
<a name="l01354"></a>01354 {
<a name="l01355"></a>01355       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iXPos, iYPos, iHeight, iWidth;
<a name="l01356"></a>01356       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> <a class="code" href="Sound_01Control_8cpp.html#6150e0515f7202e2fb518f7206ed97dc">x</a>;
<a name="l01357"></a>01357       <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a> *<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>;
<a name="l01358"></a>01358 
<a name="l01359"></a>01359       iWidth = 266;
<a name="l01360"></a>01360       iHeight = 360;
<a name="l01361"></a>01361       iYPos = 0;
<a name="l01362"></a>01362       iXPos = 0;
<a name="l01363"></a>01363 
<a name="l01364"></a>01364 
<a name="l01365"></a>01365       <a class="code" href="Overhead_8cpp.html#f0ada03378d5018e6f225bf25ab20b24">GetSoldier</a>( &amp;<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>, (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)<a class="code" href="EditorMercs_8cpp.html#97092775cdf98eec280dbb127c7f8523">gsSelectedMercID</a> );
<a name="l01366"></a>01366       <a class="code" href="EditorMercs_8cpp.html#995790e027e08b067ee4f0b875289ab4">iEditMercLocation</a> = (<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a>)<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#2ab66ee0f37902cd448f4a738df4f2bf">sGridNo</a>;
<a name="l01367"></a>01367       <a class="code" href="worlddef_8cpp.html#a1c640bcf89772795e6517da9963e0d7">gpWorldLevelData</a>[ <a class="code" href="EditorMercs_8cpp.html#995790e027e08b067ee4f0b875289ab4">iEditMercLocation</a> ].pObjectHead-&gt;ubShadeLevel = DEFAULT_SHADE_LEVEL;
<a name="l01368"></a>01368 
<a name="l01369"></a>01369       <a class="code" href="EditorMercs_8cpp.html#58f68b520cdf1012fee051caa8e31fd9">iEditMercBkgrndArea</a> = <a class="code" href="Button_01System_8cpp.html#71e1290225dfbcecda8d398b5a2d68eb">CreateHotSpot</a>((<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)iXPos, (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)iYPos, (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)iWidth, (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)iHeight, MSYS_PRIORITY_NORMAL, DEFAULT_MOVE_CALLBACK, <a class="code" href="EditorMercs_8cpp.html#492df34056d54202db99dc9f3668f586">EditMercBkgrndCallback</a> );
<a name="l01370"></a>01370 
<a name="l01371"></a>01371       <a class="code" href="EditorMercs_8cpp.html#04aaaa2725250663b2324a2a408f11fc">iEditMercColorPage</a> = <a class="code" href="Button_01System_8cpp.html#16393e47d05ca56c74fc5c61f889e3e5">CreateTextButton</a>( L<span class="stringliteral">"Merc Colors"</span>, (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)FONT12POINT1, FONT_BLACK, FONT_BLACK,
<a name="l01372"></a>01372             BUTTON_USE_DEFAULT, (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iXPos + 183), (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iYPos + 315), 80, 20, BUTTON_NO_TOGGLE, MSYS_PRIORITY_NORMAL + 1, DEFAULT_MOVE_CALLBACK, <a class="code" href="EditorMercs_8cpp.html#0060ca13c4e72bdf01ee140c9b0a3630">EditMercChangeToColorPageCallback</a> );
<a name="l01373"></a>01373       <a class="code" href="EditorMercs_8cpp.html#31591171df2dfb4f8df4bde4ae93a4c6">iEditMercEnd</a> = <a class="code" href="Button_01System_8cpp.html#16393e47d05ca56c74fc5c61f889e3e5">CreateTextButton</a>( L<span class="stringliteral">"Done"</span>, (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)FONT12POINT1, FONT_MCOLOR_BLACK, FONT_BLACK,
<a name="l01374"></a>01374             BUTTON_USE_DEFAULT, (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iXPos + 183), (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iYPos + 337), 80, 20, BUTTON_NO_TOGGLE, MSYS_PRIORITY_NORMAL + 1, DEFAULT_MOVE_CALLBACK, <a class="code" href="EditorMercs_8cpp.html#785ce93f8e6c5367b1e981989a65f7e0">EditMercDoneEditCallback</a> );
<a name="l01375"></a>01375 
<a name="l01376"></a>01376       <span class="comment">// Disable color editing for PC Mercs</span>
<a name="l01377"></a>01377       <span class="keywordflow">if</span> ( (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)gsSelectedMercID &gt;= <a class="code" href="Overhead_8cpp.html#46bd754f8875c305ab18731ed10e3364">gTacticalStatus</a>.<a class="code" href="structTacticalStatusType.html#2ecddfe580bb019bc92cc4859eaf3edc">Team</a>[ OUR_TEAM ].<a class="code" href="structTacticalTeamType.html#f8fe819ad07b242f5dbf97fd4c69b00d">bFirstID</a> &amp;&amp; (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)gsSelectedMercID &lt;=  <a class="code" href="Overhead_8cpp.html#46bd754f8875c305ab18731ed10e3364">gTacticalStatus</a>.<a class="code" href="structTacticalStatusType.html#2ecddfe580bb019bc92cc4859eaf3edc">Team</a>[ OUR_TEAM ].<a class="code" href="structTacticalTeamType.html#6a887279dad735dc302f21c1e559d5ce">bLastID</a> )
<a name="l01378"></a>01378             <a class="code" href="Button_01System_8cpp.html#f47071abdc2fdbae8fae4688cedaddfc">DisableButton</a>( <a class="code" href="EditorMercs_8cpp.html#04aaaa2725250663b2324a2a408f11fc">iEditMercColorPage</a> );
<a name="l01379"></a>01379 
<a name="l01380"></a>01380       <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[8] = <a class="code" href="Button_01System_8cpp.html#0e1355197c21c65bb815d1570751e549">QuickCreateButton</a>( <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#a92d040da5671e1491f67f184e115774">giEditMercImage</a>[0], (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iXPos + 98), (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iYPos + 51), BUTTON_NO_TOGGLE, MSYS_PRIORITY_NORMAL + 1, DEFAULT_MOVE_CALLBACK, <a class="code" href="EditorMercs_8cpp.html#ea0bc4531117984bc7714a6e6dc2952b">EditMercPrevOrderCallback</a> );
<a name="l01381"></a>01381       <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[9] = <a class="code" href="Button_01System_8cpp.html#0e1355197c21c65bb815d1570751e549">QuickCreateButton</a>( <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#a92d040da5671e1491f67f184e115774">giEditMercImage</a>[1], (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iXPos + 233), (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iYPos + 51), BUTTON_NO_TOGGLE, MSYS_PRIORITY_NORMAL + 1, DEFAULT_MOVE_CALLBACK, <a class="code" href="EditorMercs_8cpp.html#1a3d3049bedfcba5f56faf6f429c18d8">EditMercNextOrderCallback</a> );
<a name="l01382"></a>01382       <a class="code" href="Button_01System_8cpp.html#b0d81634ea4def6619339dd21375ecbe">SetButtonFastHelpText</a>( <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[8], L<span class="stringliteral">"Previous merc standing orders"</span> );
<a name="l01383"></a>01383       <a class="code" href="Button_01System_8cpp.html#b0d81634ea4def6619339dd21375ecbe">SetButtonFastHelpText</a>( <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[9], L<span class="stringliteral">"Next merc standing orders"</span> );
<a name="l01384"></a>01384 
<a name="l01385"></a>01385       <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[10] = <a class="code" href="Button_01System_8cpp.html#0e1355197c21c65bb815d1570751e549">QuickCreateButton</a>( <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#a92d040da5671e1491f67f184e115774">giEditMercImage</a>[0], (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iXPos + 98), (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iYPos + 86), BUTTON_NO_TOGGLE, MSYS_PRIORITY_NORMAL + 1, DEFAULT_MOVE_CALLBACK, <a class="code" href="EditorMercs_8cpp.html#cff7f8d4143311f68151ba1920e7e889">EditMercPrevAttCallback</a> );
<a name="l01386"></a>01386       <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[11] = <a class="code" href="Button_01System_8cpp.html#0e1355197c21c65bb815d1570751e549">QuickCreateButton</a>( <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#a92d040da5671e1491f67f184e115774">giEditMercImage</a>[1], (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iXPos + 233), (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iYPos + 86), BUTTON_NO_TOGGLE, MSYS_PRIORITY_NORMAL + 1, DEFAULT_MOVE_CALLBACK, <a class="code" href="EditorMercs_8cpp.html#9b79454a219a21c2dd418a97ff9d1c75">EditMercNextAttCallback</a> );
<a name="l01387"></a>01387       <a class="code" href="Button_01System_8cpp.html#b0d81634ea4def6619339dd21375ecbe">SetButtonFastHelpText</a>( <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[10], L<span class="stringliteral">"Previous merc combat attitude"</span> );
<a name="l01388"></a>01388       <a class="code" href="Button_01System_8cpp.html#b0d81634ea4def6619339dd21375ecbe">SetButtonFastHelpText</a>( <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[11], L<span class="stringliteral">"Next merc combat attitude"</span> );
<a name="l01389"></a>01389 
<a name="l01390"></a>01390       <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[12] = <a class="code" href="Button_01System_8cpp.html#0e1355197c21c65bb815d1570751e549">QuickCreateButton</a>( <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#a92d040da5671e1491f67f184e115774">giEditMercImage</a>[0], (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iXPos + 86), (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iYPos + 110), BUTTON_NO_TOGGLE, MSYS_PRIORITY_NORMAL + 1, DEFAULT_MOVE_CALLBACK, <a class="code" href="EditorMercs_8cpp.html#5a4568682916098249d5982b11acb78b">EditMercStatDwnCallback</a> );
<a name="l01391"></a>01391       <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[13] = <a class="code" href="Button_01System_8cpp.html#0e1355197c21c65bb815d1570751e549">QuickCreateButton</a>( <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#a92d040da5671e1491f67f184e115774">giEditMercImage</a>[1], (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iXPos + 146), (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iYPos + 110), BUTTON_NO_TOGGLE, MSYS_PRIORITY_NORMAL + 1, DEFAULT_MOVE_CALLBACK, <a class="code" href="EditorMercs_8cpp.html#520304b885ea8f8873ce9b2fb2ea303f">EditMercStatUpCallback</a> );
<a name="l01392"></a>01392 
<a name="l01393"></a>01393       <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[14] = <a class="code" href="Button_01System_8cpp.html#0e1355197c21c65bb815d1570751e549">QuickCreateButton</a>( <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#a92d040da5671e1491f67f184e115774">giEditMercImage</a>[0], (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iXPos + 86), (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iYPos + 130), BUTTON_NO_TOGGLE, MSYS_PRIORITY_NORMAL + 1, DEFAULT_MOVE_CALLBACK, <a class="code" href="EditorMercs_8cpp.html#5a4568682916098249d5982b11acb78b">EditMercStatDwnCallback</a> );
<a name="l01394"></a>01394       <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[15] = <a class="code" href="Button_01System_8cpp.html#0e1355197c21c65bb815d1570751e549">QuickCreateButton</a>( <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#a92d040da5671e1491f67f184e115774">giEditMercImage</a>[1], (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iXPos + 146), (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iYPos + 130), BUTTON_NO_TOGGLE, MSYS_PRIORITY_NORMAL + 1, DEFAULT_MOVE_CALLBACK, <a class="code" href="EditorMercs_8cpp.html#520304b885ea8f8873ce9b2fb2ea303f">EditMercStatUpCallback</a> );
<a name="l01395"></a>01395       
<a name="l01396"></a>01396       <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[16] = <a class="code" href="Button_01System_8cpp.html#0e1355197c21c65bb815d1570751e549">QuickCreateButton</a>( <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#a92d040da5671e1491f67f184e115774">giEditMercImage</a>[0], (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iXPos + 86), (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iYPos + 150), BUTTON_NO_TOGGLE, MSYS_PRIORITY_NORMAL + 1, DEFAULT_MOVE_CALLBACK, <a class="code" href="EditorMercs_8cpp.html#5a4568682916098249d5982b11acb78b">EditMercStatDwnCallback</a> );
<a name="l01397"></a>01397       <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[17] = <a class="code" href="Button_01System_8cpp.html#0e1355197c21c65bb815d1570751e549">QuickCreateButton</a>( <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#a92d040da5671e1491f67f184e115774">giEditMercImage</a>[1], (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iXPos + 146), (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iYPos + 150), BUTTON_NO_TOGGLE, MSYS_PRIORITY_NORMAL + 1, DEFAULT_MOVE_CALLBACK, <a class="code" href="EditorMercs_8cpp.html#520304b885ea8f8873ce9b2fb2ea303f">EditMercStatUpCallback</a> );
<a name="l01398"></a>01398       
<a name="l01399"></a>01399       <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[18] = <a class="code" href="Button_01System_8cpp.html#0e1355197c21c65bb815d1570751e549">QuickCreateButton</a>( <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#a92d040da5671e1491f67f184e115774">giEditMercImage</a>[0], (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iXPos + 86), (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iYPos + 170), BUTTON_NO_TOGGLE, MSYS_PRIORITY_NORMAL + 1, DEFAULT_MOVE_CALLBACK, <a class="code" href="EditorMercs_8cpp.html#5a4568682916098249d5982b11acb78b">EditMercStatDwnCallback</a> );
<a name="l01400"></a>01400       <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[19] = <a class="code" href="Button_01System_8cpp.html#0e1355197c21c65bb815d1570751e549">QuickCreateButton</a>( <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#a92d040da5671e1491f67f184e115774">giEditMercImage</a>[1], (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iXPos + 146), (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iYPos + 170), BUTTON_NO_TOGGLE, MSYS_PRIORITY_NORMAL + 1, DEFAULT_MOVE_CALLBACK, <a class="code" href="EditorMercs_8cpp.html#520304b885ea8f8873ce9b2fb2ea303f">EditMercStatUpCallback</a> );
<a name="l01401"></a>01401       
<a name="l01402"></a>01402       <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[20] = <a class="code" href="Button_01System_8cpp.html#0e1355197c21c65bb815d1570751e549">QuickCreateButton</a>( <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#a92d040da5671e1491f67f184e115774">giEditMercImage</a>[0], (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iXPos + 86), (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iYPos + 190), BUTTON_NO_TOGGLE, MSYS_PRIORITY_NORMAL + 1, DEFAULT_MOVE_CALLBACK, <a class="code" href="EditorMercs_8cpp.html#5a4568682916098249d5982b11acb78b">EditMercStatDwnCallback</a> );
<a name="l01403"></a>01403       <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[21] = <a class="code" href="Button_01System_8cpp.html#0e1355197c21c65bb815d1570751e549">QuickCreateButton</a>( <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#a92d040da5671e1491f67f184e115774">giEditMercImage</a>[1], (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iXPos + 146), (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iYPos + 190), BUTTON_NO_TOGGLE, MSYS_PRIORITY_NORMAL + 1, DEFAULT_MOVE_CALLBACK, <a class="code" href="EditorMercs_8cpp.html#520304b885ea8f8873ce9b2fb2ea303f">EditMercStatUpCallback</a> );
<a name="l01404"></a>01404       
<a name="l01405"></a>01405       <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[22] = <a class="code" href="Button_01System_8cpp.html#0e1355197c21c65bb815d1570751e549">QuickCreateButton</a>( <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#a92d040da5671e1491f67f184e115774">giEditMercImage</a>[0], (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iXPos + 86), (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iYPos + 210), BUTTON_NO_TOGGLE, MSYS_PRIORITY_NORMAL + 1, DEFAULT_MOVE_CALLBACK, <a class="code" href="EditorMercs_8cpp.html#5a4568682916098249d5982b11acb78b">EditMercStatDwnCallback</a> );
<a name="l01406"></a>01406       <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[23] = <a class="code" href="Button_01System_8cpp.html#0e1355197c21c65bb815d1570751e549">QuickCreateButton</a>( <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#a92d040da5671e1491f67f184e115774">giEditMercImage</a>[1], (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iXPos + 146), (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iYPos + 210), BUTTON_NO_TOGGLE, MSYS_PRIORITY_NORMAL + 1, DEFAULT_MOVE_CALLBACK, <a class="code" href="EditorMercs_8cpp.html#520304b885ea8f8873ce9b2fb2ea303f">EditMercStatUpCallback</a> );
<a name="l01407"></a>01407 
<a name="l01408"></a>01408       <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[24] = <a class="code" href="Button_01System_8cpp.html#0e1355197c21c65bb815d1570751e549">QuickCreateButton</a>( <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#a92d040da5671e1491f67f184e115774">giEditMercImage</a>[0], (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iXPos + 86), (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iYPos + 230), BUTTON_NO_TOGGLE, MSYS_PRIORITY_NORMAL + 1, DEFAULT_MOVE_CALLBACK, <a class="code" href="EditorMercs_8cpp.html#5a4568682916098249d5982b11acb78b">EditMercStatDwnCallback</a> );
<a name="l01409"></a>01409       <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[25] = <a class="code" href="Button_01System_8cpp.html#0e1355197c21c65bb815d1570751e549">QuickCreateButton</a>( <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#a92d040da5671e1491f67f184e115774">giEditMercImage</a>[1], (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iXPos + 146), (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iYPos + 230), BUTTON_NO_TOGGLE, MSYS_PRIORITY_NORMAL + 1, DEFAULT_MOVE_CALLBACK, <a class="code" href="EditorMercs_8cpp.html#520304b885ea8f8873ce9b2fb2ea303f">EditMercStatUpCallback</a> );
<a name="l01410"></a>01410 
<a name="l01411"></a>01411       <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[26] = <a class="code" href="Button_01System_8cpp.html#0e1355197c21c65bb815d1570751e549">QuickCreateButton</a>( <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#a92d040da5671e1491f67f184e115774">giEditMercImage</a>[0], (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iXPos + 86), (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iYPos + 250), BUTTON_NO_TOGGLE, MSYS_PRIORITY_NORMAL + 1, DEFAULT_MOVE_CALLBACK, <a class="code" href="EditorMercs_8cpp.html#5a4568682916098249d5982b11acb78b">EditMercStatDwnCallback</a> );
<a name="l01412"></a>01412       <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[27] = <a class="code" href="Button_01System_8cpp.html#0e1355197c21c65bb815d1570751e549">QuickCreateButton</a>( <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#a92d040da5671e1491f67f184e115774">giEditMercImage</a>[1], (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iXPos + 146), (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iYPos + 250), BUTTON_NO_TOGGLE, MSYS_PRIORITY_NORMAL + 1, DEFAULT_MOVE_CALLBACK, <a class="code" href="EditorMercs_8cpp.html#520304b885ea8f8873ce9b2fb2ea303f">EditMercStatUpCallback</a> );
<a name="l01413"></a>01413 
<a name="l01414"></a>01414       <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[28] = <a class="code" href="Button_01System_8cpp.html#0e1355197c21c65bb815d1570751e549">QuickCreateButton</a>( <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#a92d040da5671e1491f67f184e115774">giEditMercImage</a>[0], (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iXPos + 86), (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iYPos + 270), BUTTON_NO_TOGGLE, MSYS_PRIORITY_NORMAL + 1, DEFAULT_MOVE_CALLBACK, <a class="code" href="EditorMercs_8cpp.html#5a4568682916098249d5982b11acb78b">EditMercStatDwnCallback</a> );
<a name="l01415"></a>01415       <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[29] = <a class="code" href="Button_01System_8cpp.html#0e1355197c21c65bb815d1570751e549">QuickCreateButton</a>( <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#a92d040da5671e1491f67f184e115774">giEditMercImage</a>[1], (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iXPos + 146), (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iYPos + 270), BUTTON_NO_TOGGLE, MSYS_PRIORITY_NORMAL + 1, DEFAULT_MOVE_CALLBACK, <a class="code" href="EditorMercs_8cpp.html#520304b885ea8f8873ce9b2fb2ea303f">EditMercStatUpCallback</a> );
<a name="l01416"></a>01416 
<a name="l01417"></a>01417       <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[30] = <a class="code" href="Button_01System_8cpp.html#0e1355197c21c65bb815d1570751e549">QuickCreateButton</a>( <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#a92d040da5671e1491f67f184e115774">giEditMercImage</a>[0], (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iXPos + 86), (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iYPos + 290), BUTTON_NO_TOGGLE, MSYS_PRIORITY_NORMAL + 1, DEFAULT_MOVE_CALLBACK, <a class="code" href="EditorMercs_8cpp.html#5a4568682916098249d5982b11acb78b">EditMercStatDwnCallback</a> );
<a name="l01418"></a>01418       <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[31] = <a class="code" href="Button_01System_8cpp.html#0e1355197c21c65bb815d1570751e549">QuickCreateButton</a>( <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#a92d040da5671e1491f67f184e115774">giEditMercImage</a>[1], (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iXPos + 146), (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iYPos + 290), BUTTON_NO_TOGGLE, MSYS_PRIORITY_NORMAL + 1, DEFAULT_MOVE_CALLBACK, <a class="code" href="EditorMercs_8cpp.html#520304b885ea8f8873ce9b2fb2ea303f">EditMercStatUpCallback</a> );
<a name="l01419"></a>01419 
<a name="l01420"></a>01420       <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[32] = <a class="code" href="Button_01System_8cpp.html#0e1355197c21c65bb815d1570751e549">QuickCreateButton</a>( <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#a92d040da5671e1491f67f184e115774">giEditMercImage</a>[0], (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iXPos + 86), (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iYPos + 310), BUTTON_NO_TOGGLE, MSYS_PRIORITY_NORMAL + 1, DEFAULT_MOVE_CALLBACK, <a class="code" href="EditorMercs_8cpp.html#5a4568682916098249d5982b11acb78b">EditMercStatDwnCallback</a> );
<a name="l01421"></a>01421       <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[33] = <a class="code" href="Button_01System_8cpp.html#0e1355197c21c65bb815d1570751e549">QuickCreateButton</a>( <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#a92d040da5671e1491f67f184e115774">giEditMercImage</a>[1], (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iXPos + 146), (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iYPos + 310), BUTTON_NO_TOGGLE, MSYS_PRIORITY_NORMAL + 1, DEFAULT_MOVE_CALLBACK, <a class="code" href="EditorMercs_8cpp.html#520304b885ea8f8873ce9b2fb2ea303f">EditMercStatUpCallback</a> );
<a name="l01422"></a>01422 
<a name="l01423"></a>01423       <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[34] = <a class="code" href="Button_01System_8cpp.html#0e1355197c21c65bb815d1570751e549">QuickCreateButton</a>( <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#a92d040da5671e1491f67f184e115774">giEditMercImage</a>[0], (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iXPos + 86), (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iYPos + 330), BUTTON_NO_TOGGLE, MSYS_PRIORITY_NORMAL + 1, DEFAULT_MOVE_CALLBACK, <a class="code" href="EditorMercs_8cpp.html#5a4568682916098249d5982b11acb78b">EditMercStatDwnCallback</a> );
<a name="l01424"></a>01424       <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[35] = <a class="code" href="Button_01System_8cpp.html#0e1355197c21c65bb815d1570751e549">QuickCreateButton</a>( <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#a92d040da5671e1491f67f184e115774">giEditMercImage</a>[1], (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iXPos + 146), (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(iYPos + 330), BUTTON_NO_TOGGLE, MSYS_PRIORITY_NORMAL + 1, DEFAULT_MOVE_CALLBACK, <a class="code" href="EditorMercs_8cpp.html#520304b885ea8f8873ce9b2fb2ea303f">EditMercStatUpCallback</a> );
<a name="l01425"></a>01425 
<a name="l01426"></a>01426       <span class="keywordflow">for</span> ( x = 12; x &lt; 36; x += 2 )
<a name="l01427"></a>01427       {
<a name="l01428"></a>01428             <a class="code" href="Button_01System_8cpp.html#b0d81634ea4def6619339dd21375ecbe">SetButtonFastHelpText</a>( <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[x], L<span class="stringliteral">"Decrease merc stat"</span> );
<a name="l01429"></a>01429             <a class="code" href="Button_01System_8cpp.html#b0d81634ea4def6619339dd21375ecbe">SetButtonFastHelpText</a>( <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[x + 1], L<span class="stringliteral">"Increase merc stat"</span> );
<a name="l01430"></a>01430       }
<a name="l01431"></a>01431 }
<a name="l01432"></a><a class="code" href="EditorMercs_8h.html#82ba33fa037ab8edfdfc027c690f3097">01432</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#82ba33fa037ab8edfdfc027c690f3097">SetMercOrders</a>( <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a> bOrders )
<a name="l01433"></a>01433 {
<a name="l01434"></a>01434       <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#76cf3cb25fe41d314c711377ee8dbfad">bOrders</a> = bOrders;
<a name="l01435"></a>01435       <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#88e4f58ca15daeb28ee87c47c5eb2306">bOrders</a> = bOrders;
<a name="l01436"></a>01436       <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#70560150a621778b61a3b7e2819e623c">UnclickEditorButtons</a>( FIRST_MERCS_ORDERS_BUTTON, LAST_MERCS_ORDERS_BUTTON );
<a name="l01437"></a>01437       <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#85a4bb808c9aa3741d423bcf6efcb7b0">ClickEditorButton</a>( FIRST_MERCS_ORDERS_BUTTON + bOrders );
<a name="l01438"></a>01438       <a class="code" href="EditorMercs_8cpp.html#f3268572aa1fb5a21b4028b1030eaf05">gbDefaultOrders</a> = bOrders;
<a name="l01439"></a>01439 }
<a name="l01440"></a>01440 
<a name="l01441"></a><a class="code" href="EditorMercs_8h.html#123e6c5e30596e5d7f79f29f141808a2">01441</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#123e6c5e30596e5d7f79f29f141808a2">SetMercAttitude</a>( <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a> bAttitude )
<a name="l01442"></a>01442 {
<a name="l01443"></a>01443       <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#c805687690b8b5573780d07fc3931a36">bAttitude</a> = bAttitude;
<a name="l01444"></a>01444       <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#def23ae50e065204f4a927d38deb16e2">bAttitude</a> = bAttitude;
<a name="l01445"></a>01445       <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#70560150a621778b61a3b7e2819e623c">UnclickEditorButtons</a>( FIRST_MERCS_ATTITUDE_BUTTON, LAST_MERCS_ATTITUDE_BUTTON );
<a name="l01446"></a>01446       <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#85a4bb808c9aa3741d423bcf6efcb7b0">ClickEditorButton</a>( FIRST_MERCS_ATTITUDE_BUTTON + bAttitude );
<a name="l01447"></a>01447       <a class="code" href="EditorMercs_8cpp.html#1e367a9e00aa1e48e539dff3af04eb4b">gbDefaultAttitude</a> = bAttitude;
<a name="l01448"></a>01448 }
<a name="l01449"></a>01449 
<a name="l01450"></a><a class="code" href="EditorMercs_8h.html#996d79afc689f8a039adf9589e0b438d">01450</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#996d79afc689f8a039adf9589e0b438d">SetMercDirection</a>( <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a> bDirection )
<a name="l01451"></a>01451 {
<a name="l01452"></a>01452       <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#70560150a621778b61a3b7e2819e623c">UnclickEditorButtons</a>( FIRST_MERCS_DIRECTION_BUTTON, LAST_MERCS_DIRECTION_BUTTON );
<a name="l01453"></a>01453       <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#85a4bb808c9aa3741d423bcf6efcb7b0">ClickEditorButton</a>( FIRST_MERCS_DIRECTION_BUTTON + bDirection );
<a name="l01454"></a>01454 
<a name="l01455"></a>01455       <a class="code" href="EditorMercs_8cpp.html#390e5c696ac0bc59f0e309be40fe3b8e">gbDefaultDirection</a> = bDirection;
<a name="l01456"></a>01456       <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#621418b9dd4585aa282c8c436ae870da">bDirection</a> = bDirection;
<a name="l01457"></a>01457 
<a name="l01458"></a>01458       <span class="comment">// ATE: Changed these to call functions....</span>
<a name="l01459"></a>01459       <a class="code" href="Soldier_01Control_8cpp.html#1117087649d17ca4dfc078c0947e7f09">EVENT_SetSoldierDirection</a>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>, bDirection );
<a name="l01460"></a>01460       <a class="code" href="Soldier_01Control_8cpp.html#019f893295bb96f48261ded184a17cab">EVENT_SetSoldierDesiredDirection</a>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>, bDirection );
<a name="l01461"></a>01461 
<a name="l01462"></a>01462       <a class="code" href="Soldier_01Control_8cpp.html#43134a623e66c2b217f219666278fba0">ConvertAniCodeToAniFrame</a>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>, 0 );
<a name="l01463"></a>01463 }
<a name="l01464"></a>01464 
<a name="l01465"></a><a class="code" href="EditorMercs_8h.html#f2cee4f5c0d6379d54db15e7f8406a27">01465</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#f2cee4f5c0d6379d54db15e7f8406a27">SetMercRelativeEquipment</a>( <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a> bLevel )
<a name="l01466"></a>01466 {
<a name="l01467"></a>01467       <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#49c2fe6937f004d00ba00c008fa33a30">bRelativeEquipmentLevel</a> = bLevel;
<a name="l01468"></a>01468 
<a name="l01469"></a>01469       <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#70560150a621778b61a3b7e2819e623c">UnclickEditorButtons</a>( FIRST_MERCS_REL_EQUIPMENT_BUTTON, LAST_MERCS_REL_EQUIPMENT_BUTTON );
<a name="l01470"></a>01470       <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#85a4bb808c9aa3741d423bcf6efcb7b0">ClickEditorButton</a>( FIRST_MERCS_REL_EQUIPMENT_BUTTON + bLevel );
<a name="l01471"></a>01471       <a class="code" href="EditorMercs_8cpp.html#8460ea2dab8437651be3485e215570d3">gbDefaultRelativeEquipmentLevel</a> = bLevel;
<a name="l01472"></a>01472 }
<a name="l01473"></a>01473 
<a name="l01474"></a><a class="code" href="EditorMercs_8h.html#37eaf9bf16f1e59c0c81b3cb2a6c7bee">01474</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#37eaf9bf16f1e59c0c81b3cb2a6c7bee">SetMercRelativeAttributes</a>( <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a> bLevel )
<a name="l01475"></a>01475 {
<a name="l01476"></a>01476       <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#16f4ceaac5122b9a0ebb09c46a73e74a">bRelativeAttributeLevel</a> = bLevel;
<a name="l01477"></a>01477       <span class="comment">//We also have to modify the existing soldier incase the user wishes to enter game.</span>
<a name="l01478"></a>01478       <a class="code" href="Soldier_01Create_8cpp.html#53a2878b02ae3a6c1d1abdbb290b142b">ModifySoldierAttributesWithNewRelativeLevel</a>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>, bLevel );
<a name="l01479"></a>01479 
<a name="l01480"></a>01480       <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#70560150a621778b61a3b7e2819e623c">UnclickEditorButtons</a>( FIRST_MERCS_REL_ATTRIBUTE_BUTTON, LAST_MERCS_REL_ATTRIBUTE_BUTTON );
<a name="l01481"></a>01481       <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#85a4bb808c9aa3741d423bcf6efcb7b0">ClickEditorButton</a>( FIRST_MERCS_REL_ATTRIBUTE_BUTTON + bLevel );
<a name="l01482"></a>01482       <a class="code" href="EditorMercs_8cpp.html#1698c2da5f45a3189c12ebd7f8be27dd">gbDefaultRelativeAttributeLevel</a> = bLevel;
<a name="l01483"></a>01483 }
<a name="l01484"></a>01484 
<a name="l01485"></a><a class="code" href="EditorMercs_8h.html#f298a8dfcc8c9b0580cc56c7cbd3b27d">01485</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#f298a8dfcc8c9b0580cc56c7cbd3b27d">IndicateSelectedMerc</a>( <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sID )
<a name="l01486"></a>01486 {
<a name="l01487"></a>01487       <a class="code" href="structSOLDIERINITNODE.html">SOLDIERINITNODE</a> *prev;
<a name="l01488"></a>01488       <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a> bTeam; 
<a name="l01489"></a>01489 
<a name="l01490"></a>01490       <span class="comment">//If we are trying to select a merc that is already selected, ignore.</span>
<a name="l01491"></a>01491       <span class="keywordflow">if</span>( sID &gt;= 0 &amp;&amp; sID == <a class="code" href="EditorMercs_8cpp.html#0d22864bdf4782d66e2c3ad2b985053d">gsSelectedMercGridNo</a> )
<a name="l01492"></a>01492             <span class="keywordflow">return</span>;
<a name="l01493"></a>01493 
<a name="l01494"></a>01494       <span class="comment">//first remove the cursor of the previous merc.</span>
<a name="l01495"></a>01495       <span class="comment">//NOTE:  It doesn't matter what the value is, even if a merc isn't selected.</span>
<a name="l01496"></a>01496       <span class="comment">//There is no need to validate the gridNo value, because it is always valid.</span>
<a name="l01497"></a>01497       <a class="code" href="worldman_8cpp.html#06771734bfdafaa969b791b111992259">RemoveAllObjectsOfTypeRange</a>( <a class="code" href="EditorMercs_8cpp.html#0d22864bdf4782d66e2c3ad2b985053d">gsSelectedMercGridNo</a>, <a class="code" href="TileDat_8h.html#6a650646c036f06b5166f92a83f79748e38ef4e6ef49da80d335fd4c04c7b2b2">CONFIRMMOVE</a>, <a class="code" href="TileDat_8h.html#6a650646c036f06b5166f92a83f79748e38ef4e6ef49da80d335fd4c04c7b2b2">CONFIRMMOVE</a> );
<a name="l01498"></a>01498 
<a name="l01499"></a>01499       <span class="comment">//This is very important, because clearing the merc editing mode actually,</span>
<a name="l01500"></a>01500       <span class="comment">//updates the edited merc.  If this call isn't here, it is possible to update the</span>
<a name="l01501"></a>01501       <span class="comment">//newly selected merc with the wrong information.</span>
<a name="l01502"></a>01502       <a class="code" href="EditorMercs_8cpp.html#8cd393f580ec7aab7177382c4d2c6984">SetMercEditingMode</a>( <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4da0f22b9326112543b6e624e369ed466f">MERC_NOMODE</a> );
<a name="l01503"></a>01503       
<a name="l01504"></a>01504       bTeam = -1;
<a name="l01505"></a>01505 
<a name="l01506"></a>01506       <span class="comment">//determine selection method</span>
<a name="l01507"></a>01507       <span class="keywordflow">switch</span>( sID )
<a name="l01508"></a>01508       {
<a name="l01509"></a>01509             <span class="keywordflow">case</span> <a class="code" href="EditorMercs_8h.html#ac2e5fef5c3189d63a52aa8fdbcd136dd9d237a3e08a3c0a3821bb5e1b6d643f">SELECT_NEXT_MERC</a>:
<a name="l01510"></a>01510                   prev = <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>;
<a name="l01511"></a>01511                   <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#97092775cdf98eec280dbb127c7f8523">gsSelectedMercID</a> == -1 || !<a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> )
<a name="l01512"></a>01512                   { <span class="comment">//if no merc selected, then select the first one in list.</span>
<a name="l01513"></a>01513                         <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> = <a class="code" href="Soldier_01Init_01List_8cpp.html#eccf141fe2ea32a7ced15016e8593439">gSoldierInitHead</a>;
<a name="l01514"></a>01514                   }
<a name="l01515"></a>01515                   <span class="keywordflow">else</span>
<a name="l01516"></a>01516                   { <span class="comment">//validate this merc in the list.</span>
<a name="l01517"></a>01517                         <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#3b53e7c8ba8232dfeb0b0306de1700d9">next</a> )
<a name="l01518"></a>01518                         { <span class="comment">//select the next merc in the list</span>
<a name="l01519"></a>01519                               <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> = <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#3b53e7c8ba8232dfeb0b0306de1700d9">next</a>;
<a name="l01520"></a>01520                         }
<a name="l01521"></a>01521                         <span class="keywordflow">else</span>
<a name="l01522"></a>01522                         { <span class="comment">//we are at the end of the list, so select the first merc in the list.</span>
<a name="l01523"></a>01523                               <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> = <a class="code" href="Soldier_01Init_01List_8cpp.html#eccf141fe2ea32a7ced15016e8593439">gSoldierInitHead</a>; 
<a name="l01524"></a>01524                         }
<a name="l01525"></a>01525                   }
<a name="l01526"></a>01526                   <span class="keywordflow">if</span>( !<a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> ) <span class="comment">//list is empty</span>
<a name="l01527"></a>01527                   {
<a name="l01528"></a>01528                         <a class="code" href="EditorMercs_8cpp.html#7285a04378969f0b7c4d52d25502c4b6">SetMercEditability</a>( TRUE );
<a name="l01529"></a>01529                         <a class="code" href="EditorMercs_8cpp.html#8cd393f580ec7aab7177382c4d2c6984">SetMercEditingMode</a>( <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4ded05397cb5e55ba364040c8409051427">MERC_TEAMMODE</a> );
<a name="l01530"></a>01530                         <span class="keywordflow">return</span>;
<a name="l01531"></a>01531                   }
<a name="l01532"></a>01532                   <span class="keywordflow">while</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> != prev )
<a name="l01533"></a>01533                   {
<a name="l01534"></a>01534                         <span class="keywordflow">if</span>( !<a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> )
<a name="l01535"></a>01535                         {
<a name="l01536"></a>01536                               <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> = <a class="code" href="Soldier_01Init_01List_8cpp.html#eccf141fe2ea32a7ced15016e8593439">gSoldierInitHead</a>;
<a name="l01537"></a>01537                               <span class="keywordflow">continue</span>;
<a name="l01538"></a>01538                         }
<a name="l01539"></a>01539                         <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a> &amp;&amp; <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#73246323764393ce2a5ece7fcb7b7cf8">bVisible</a> == 1 )
<a name="l01540"></a>01540                         { <span class="comment">//we have found a visible soldier, so select him.</span>
<a name="l01541"></a>01541                               <span class="keywordflow">break</span>;
<a name="l01542"></a>01542                         }
<a name="l01543"></a>01543                         <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> = <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#3b53e7c8ba8232dfeb0b0306de1700d9">next</a>;
<a name="l01544"></a>01544                   }
<a name="l01545"></a>01545                   <span class="comment">//we have a valid merc now.</span>
<a name="l01546"></a>01546                   <span class="keywordflow">break</span>;
<a name="l01547"></a>01547             <span class="keywordflow">case</span> <a class="code" href="EditorMercs_8h.html#ac2e5fef5c3189d63a52aa8fdbcd136da386c8cf80ff330abc2b40bc89c45cd5">SELECT_NO_MERC</a>:
<a name="l01548"></a>01548                   <a class="code" href="EditorMercs_8cpp.html#7285a04378969f0b7c4d52d25502c4b6">SetMercEditability</a>( TRUE );
<a name="l01549"></a>01549                   <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> = NULL;
<a name="l01550"></a>01550                   <a class="code" href="EditorMercs_8cpp.html#97092775cdf98eec280dbb127c7f8523">gsSelectedMercID</a> = -1;
<a name="l01551"></a>01551                   <a class="code" href="Handle_01UI_8cpp.html#84b7ed66197fbcee3a7df9dfae6dbb70">gsSelectedGridNo</a> = 0;
<a name="l01552"></a>01552                   <a class="code" href="EditorMercs_8cpp.html#8cd393f580ec7aab7177382c4d2c6984">SetMercEditingMode</a>( <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4ded05397cb5e55ba364040c8409051427">MERC_TEAMMODE</a> );
<a name="l01553"></a>01553                   <span class="keywordflow">return</span>; <span class="comment">//we already deselected the previous merc.</span>
<a name="l01554"></a>01554             <span class="keywordflow">case</span> <a class="code" href="EditorMercs_8h.html#ac2e5fef5c3189d63a52aa8fdbcd136d8e7bcecee0d04656fd1dc9125d2d8b08">SELECT_NEXT_ENEMY</a>:
<a name="l01555"></a>01555                   bTeam = ENEMY_TEAM;
<a name="l01556"></a>01556                   <span class="keywordflow">break</span>;
<a name="l01557"></a>01557             <span class="keywordflow">case</span> <a class="code" href="EditorMercs_8h.html#ac2e5fef5c3189d63a52aa8fdbcd136d7b013067f996ad929af78d6d9ef11783">SELECT_NEXT_CREATURE</a>:
<a name="l01558"></a>01558                   bTeam = CREATURE_TEAM;
<a name="l01559"></a>01559                   <span class="keywordflow">break</span>;
<a name="l01560"></a>01560             <span class="keywordflow">case</span> <a class="code" href="EditorMercs_8h.html#ac2e5fef5c3189d63a52aa8fdbcd136d78e1203f854241bbe3518edcb857844e">SELECT_NEXT_REBEL</a>:
<a name="l01561"></a>01561                   bTeam = MILITIA_TEAM;
<a name="l01562"></a>01562                   <span class="keywordflow">break</span>;
<a name="l01563"></a>01563             <span class="keywordflow">case</span> <a class="code" href="EditorMercs_8h.html#ac2e5fef5c3189d63a52aa8fdbcd136d518d94e582729c278edb7798338ca649">SELECT_NEXT_CIV</a>:
<a name="l01564"></a>01564                   bTeam = CIV_TEAM;
<a name="l01565"></a>01565                   <span class="keywordflow">break</span>;
<a name="l01566"></a>01566             <span class="keywordflow">default</span>:
<a name="l01567"></a>01567                   <span class="comment">//search for the merc with the specific ID.</span>
<a name="l01568"></a>01568                   <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> = <a class="code" href="Soldier_01Init_01List_8cpp.html#cf1ca64b25b031e6353aac50f66137ea">FindSoldierInitNodeWithID</a>( (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)sID );
<a name="l01569"></a>01569                   <span class="keywordflow">if</span>( !<a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> )
<a name="l01570"></a>01570                   {
<a name="l01571"></a>01571                         <a class="code" href="EditorMercs_8cpp.html#97092775cdf98eec280dbb127c7f8523">gsSelectedMercID</a> = -1;
<a name="l01572"></a>01572                         <a class="code" href="Handle_01UI_8cpp.html#84b7ed66197fbcee3a7df9dfae6dbb70">gsSelectedGridNo</a> = 0;
<a name="l01573"></a>01573                         <a class="code" href="EditorMercs_8cpp.html#7285a04378969f0b7c4d52d25502c4b6">SetMercEditability</a>( TRUE );
<a name="l01574"></a>01574                         <a class="code" href="EditorMercs_8cpp.html#8cd393f580ec7aab7177382c4d2c6984">SetMercEditingMode</a>( <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4ded05397cb5e55ba364040c8409051427">MERC_TEAMMODE</a> );
<a name="l01575"></a>01575                         <span class="keywordflow">return</span>; <span class="comment">//Invalid merc ID.</span>
<a name="l01576"></a>01576                   }
<a name="l01577"></a>01577                   <span class="keywordflow">break</span>;
<a name="l01578"></a>01578       }
<a name="l01579"></a>01579       <span class="keywordflow">if</span>( bTeam != -1 )
<a name="l01580"></a>01580       { <span class="comment">//We are searching for the next occurence of a particular team.</span>
<a name="l01581"></a>01581             prev = <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>;
<a name="l01582"></a>01582             <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#97092775cdf98eec280dbb127c7f8523">gsSelectedMercID</a> == -1 || !<a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> )
<a name="l01583"></a>01583             { <span class="comment">//if no merc selected, then select the first one in list.</span>
<a name="l01584"></a>01584                   <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> = <a class="code" href="Soldier_01Init_01List_8cpp.html#eccf141fe2ea32a7ced15016e8593439">gSoldierInitHead</a>;
<a name="l01585"></a>01585             }
<a name="l01586"></a>01586             <span class="keywordflow">else</span>
<a name="l01587"></a>01587             { <span class="comment">//validate this merc in the list.</span>
<a name="l01588"></a>01588                   <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#3b53e7c8ba8232dfeb0b0306de1700d9">next</a> )
<a name="l01589"></a>01589                   { <span class="comment">//select the next merc in the list</span>
<a name="l01590"></a>01590                         <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> = <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#3b53e7c8ba8232dfeb0b0306de1700d9">next</a>;
<a name="l01591"></a>01591                   }
<a name="l01592"></a>01592                   <span class="keywordflow">else</span>
<a name="l01593"></a>01593                   { <span class="comment">//we are at the end of the list, so select the first merc in the list.</span>
<a name="l01594"></a>01594                         <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> = <a class="code" href="Soldier_01Init_01List_8cpp.html#eccf141fe2ea32a7ced15016e8593439">gSoldierInitHead</a>; 
<a name="l01595"></a>01595                   }
<a name="l01596"></a>01596             }
<a name="l01597"></a>01597             <span class="keywordflow">if</span>( !<a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> ) <span class="comment">//list is empty</span>
<a name="l01598"></a>01598             {
<a name="l01599"></a>01599                   <a class="code" href="EditorMercs_8cpp.html#7285a04378969f0b7c4d52d25502c4b6">SetMercEditability</a>( TRUE );
<a name="l01600"></a>01600                   <a class="code" href="EditorMercs_8cpp.html#8cd393f580ec7aab7177382c4d2c6984">SetMercEditingMode</a>( <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4ded05397cb5e55ba364040c8409051427">MERC_TEAMMODE</a> );
<a name="l01601"></a>01601                   <span class="keywordflow">return</span>;
<a name="l01602"></a>01602             }
<a name="l01603"></a>01603             <span class="keywordflow">while</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> != prev )
<a name="l01604"></a>01604             {
<a name="l01605"></a>01605                   <span class="keywordflow">if</span>( !<a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> )
<a name="l01606"></a>01606                   {
<a name="l01607"></a>01607                         <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> = <a class="code" href="Soldier_01Init_01List_8cpp.html#eccf141fe2ea32a7ced15016e8593439">gSoldierInitHead</a>;
<a name="l01608"></a>01608                         <span class="keywordflow">continue</span>;
<a name="l01609"></a>01609                   }
<a name="l01610"></a>01610                   <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a> &amp;&amp; <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#73246323764393ce2a5ece7fcb7b7cf8">bVisible</a> == 1 &amp;&amp; <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#74a40a8aaf3efe840cdaf6be62556d82">bTeam</a> == bTeam )
<a name="l01611"></a>01611                   { <span class="comment">//we have found a visible soldier on the desired team, so select him.</span>
<a name="l01612"></a>01612                         <span class="keywordflow">break</span>;
<a name="l01613"></a>01613                   }
<a name="l01614"></a>01614                   <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> = <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#3b53e7c8ba8232dfeb0b0306de1700d9">next</a>;
<a name="l01615"></a>01615             }
<a name="l01616"></a>01616             <span class="keywordflow">if</span>( !<a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> )
<a name="l01617"></a>01617                   <span class="keywordflow">return</span>;
<a name="l01618"></a>01618             <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> == prev  )
<a name="l01619"></a>01619             { <span class="comment">//we have cycled through the list already, so choose the same guy (if he is on the desired team)...</span>
<a name="l01620"></a>01620                   <span class="keywordflow">if</span>( !<a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a> || <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#73246323764393ce2a5ece7fcb7b7cf8">bVisible</a> != 1 || <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#74a40a8aaf3efe840cdaf6be62556d82">bTeam</a> != bTeam )
<a name="l01621"></a>01621                   {
<a name="l01622"></a>01622                         <a class="code" href="EditorMercs_8cpp.html#7285a04378969f0b7c4d52d25502c4b6">SetMercEditability</a>( TRUE );
<a name="l01623"></a>01623                         <a class="code" href="EditorMercs_8cpp.html#8cd393f580ec7aab7177382c4d2c6984">SetMercEditingMode</a>( <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4ded05397cb5e55ba364040c8409051427">MERC_TEAMMODE</a> );
<a name="l01624"></a>01624                         <span class="keywordflow">return</span>;
<a name="l01625"></a>01625                   }
<a name="l01626"></a>01626             }
<a name="l01627"></a>01627       }
<a name="l01628"></a>01628       <span class="comment">//if we made it this far, then we have a new merc cursor indicator to draw.</span>
<a name="l01629"></a>01629       <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a> )
<a name="l01630"></a>01630             <a class="code" href="EditorMercs_8cpp.html#0d22864bdf4782d66e2c3ad2b985053d">gsSelectedMercGridNo</a> = <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#2ab66ee0f37902cd448f4a738df4f2bf">sGridNo</a>;
<a name="l01631"></a>01631       <span class="keywordflow">else</span>
<a name="l01632"></a>01632       {
<a name="l01633"></a>01633             <a class="code" href="EditorMercs_8cpp.html#7285a04378969f0b7c4d52d25502c4b6">SetMercEditability</a>( TRUE );
<a name="l01634"></a>01634             <a class="code" href="EditorMercs_8cpp.html#8cd393f580ec7aab7177382c4d2c6984">SetMercEditingMode</a>( <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4ded05397cb5e55ba364040c8409051427">MERC_TEAMMODE</a> );
<a name="l01635"></a>01635             <span class="keywordflow">return</span>;
<a name="l01636"></a>01636       }
<a name="l01637"></a>01637       <a class="code" href="EditorMercs_8cpp.html#97092775cdf98eec280dbb127c7f8523">gsSelectedMercID</a> = <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#18aef170576da81b10d00e7b6cd3627b">ubID</a>;
<a name="l01638"></a>01638       <a class="code" href="worldman_8cpp.html#445a83c1b818288a56ce76c3b2f4a697">AddObjectToHead</a>( <a class="code" href="EditorMercs_8cpp.html#0d22864bdf4782d66e2c3ad2b985053d">gsSelectedMercGridNo</a>, <a class="code" href="TileDat_8h.html#3626eb77a4f637f63497920a218cf0e2a7e5aeb26e8518cd5c79b27fa97bfa92">CONFIRMMOVE1</a> );
<a name="l01639"></a>01639 
<a name="l01640"></a>01640       <span class="comment">//If the merc has a valid profile, then turn off editability</span>
<a name="l01641"></a>01641       <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> )
<a name="l01642"></a>01642             <a class="code" href="EditorMercs_8cpp.html#7285a04378969f0b7c4d52d25502c4b6">SetMercEditability</a>( (<a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>)(<a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#10663f9fc2265e92b6ae3e5f2615578f">ubProfile</a> == NO_PROFILE) );
<a name="l01643"></a>01643       <span class="keywordflow">else</span>
<a name="l01644"></a>01644             <a class="code" href="EditorMercs_8cpp.html#7285a04378969f0b7c4d52d25502c4b6">SetMercEditability</a>( TRUE );
<a name="l01645"></a>01645 
<a name="l01646"></a>01646       <span class="keywordflow">if</span>( sID &lt; 0 )
<a name="l01647"></a>01647       {     <span class="comment">//We want to center the screen on the next merc, and update the interface.</span>
<a name="l01648"></a>01648             <a class="code" href="renderworld_8cpp.html#1bf795f2a13e8559ffa77bc67b81dcb7">gsRenderCenterX</a> = (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)<a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#c4e20d332dd6e5e122bdb36614d9e8e5">dXPos</a>;
<a name="l01649"></a>01649             <a class="code" href="renderworld_8cpp.html#086faf26457fce933b3a4f2e2ef450f3">gsRenderCenterY</a> = (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)<a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#b80cdcca678747392c56c4c7620b54b1">dYPos</a>;
<a name="l01650"></a>01650             <a class="code" href="EditorDefines_8h.html#5a075eed02dac8017c99a606bc7124c3">gfRenderWorld</a> = TRUE;
<a name="l01651"></a>01651       }
<a name="l01652"></a>01652 
<a name="l01653"></a>01653       <span class="comment">//update the merc item slots to reflect what the merc currently has.</span>
<a name="l01654"></a>01654       <a class="code" href="EditorMercs_8cpp.html#da0ed6affc294644a7cd5a0a0578fa9f">UpdateMercItemSlots</a>();
<a name="l01655"></a>01655       
<a name="l01656"></a>01656       <span class="comment">//Whatever the case, we want to update the gui to press the appropriate buttons </span>
<a name="l01657"></a>01657       <span class="comment">//depending on the merc's attributes.</span>
<a name="l01658"></a>01658       <span class="comment">//Click the appropriate team button</span>
<a name="l01659"></a>01659       <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#c2d8423a9e42d8e85e60c3317048c3cc">UnclickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5c68f49ec295dac0dafca298e5a2ce765">MERCS_ENEMY</a> );
<a name="l01660"></a>01660       <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#c2d8423a9e42d8e85e60c3317048c3cc">UnclickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5d1c4669d13ccafd87de5e28001964cbb">MERCS_CREATURE</a> );
<a name="l01661"></a>01661       <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#c2d8423a9e42d8e85e60c3317048c3cc">UnclickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b59d0ec6c02b3794397727cc9a4e73ed75">MERCS_REBEL</a> );
<a name="l01662"></a>01662       <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#c2d8423a9e42d8e85e60c3317048c3cc">UnclickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5fd334017814a7e902f1779da10a9d1d1">MERCS_CIVILIAN</a> );
<a name="l01663"></a>01663       <span class="keywordflow">switch</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#74a40a8aaf3efe840cdaf6be62556d82">bTeam</a> )
<a name="l01664"></a>01664       {
<a name="l01665"></a>01665             <span class="keywordflow">case</span> ENEMY_TEAM:        <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#85a4bb808c9aa3741d423bcf6efcb7b0">ClickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5c68f49ec295dac0dafca298e5a2ce765">MERCS_ENEMY</a> );               <a class="code" href="EditorDefines_8h.html#afbeb36e0996e51d4002709ddf9b3155">iDrawMode</a> = <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b9403881f99fcda5f7ceb6101a94be4c21bd098">DRAW_MODE_ENEMY</a>;        <span class="keywordflow">break</span>;
<a name="l01666"></a>01666             <span class="keywordflow">case</span> CREATURE_TEAM:     <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#85a4bb808c9aa3741d423bcf6efcb7b0">ClickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5d1c4669d13ccafd87de5e28001964cbb">MERCS_CREATURE</a> );      <a class="code" href="EditorDefines_8h.html#afbeb36e0996e51d4002709ddf9b3155">iDrawMode</a> = <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b9403887047a6a6c1216b138a0953302334abaa">DRAW_MODE_CREATURE</a>;     <span class="keywordflow">break</span>;
<a name="l01667"></a>01667             <span class="keywordflow">case</span> MILITIA_TEAM:      <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#85a4bb808c9aa3741d423bcf6efcb7b0">ClickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b59d0ec6c02b3794397727cc9a4e73ed75">MERCS_REBEL</a> );               <a class="code" href="EditorDefines_8h.html#afbeb36e0996e51d4002709ddf9b3155">iDrawMode</a> = <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b940388be3b49d2eabfea3723718b8b57715097">DRAW_MODE_REBEL</a>;        <span class="keywordflow">break</span>;
<a name="l01668"></a>01668             <span class="keywordflow">case</span> CIV_TEAM:                <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#85a4bb808c9aa3741d423bcf6efcb7b0">ClickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5fd334017814a7e902f1779da10a9d1d1">MERCS_CIVILIAN</a> );      <a class="code" href="EditorDefines_8h.html#afbeb36e0996e51d4002709ddf9b3155">iDrawMode</a> = <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b940388dcfb5a1e1ac625bfe0ebeeeed6f9dbb9">DRAW_MODE_CIVILIAN</a>;     <span class="keywordflow">break</span>;
<a name="l01669"></a>01669       }
<a name="l01670"></a>01670       <span class="comment">//Update the editing mode</span>
<a name="l01671"></a>01671       <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> )
<a name="l01672"></a>01672             <a class="code" href="EditorMercs_8cpp.html#8cd393f580ec7aab7177382c4d2c6984">SetMercEditingMode</a>( <a class="code" href="EditorMercs_8cpp.html#9f111865b1097d9afcc2ca25cf3d9bce">gubLastDetailedMercMode</a> );
<a name="l01673"></a>01673       <span class="keywordflow">else</span>
<a name="l01674"></a>01674             <a class="code" href="EditorMercs_8cpp.html#8cd393f580ec7aab7177382c4d2c6984">SetMercEditingMode</a>( <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4dfee679b1fd37287a0fd4c414d307e69a">MERC_BASICMODE</a> );
<a name="l01675"></a>01675       <span class="comment">//Determine which team button to press.</span>
<a name="l01676"></a>01676       <a class="code" href="EditorMercs_8cpp.html#2411d22b871f9aaa6b8596afc913c909">gfRenderMercInfo</a> = TRUE;
<a name="l01677"></a>01677       <span class="comment">//These calls will set the proper button states, even though it redundantly</span>
<a name="l01678"></a>01678       <span class="comment">//assigns the soldier with the same orders/attitude.</span>
<a name="l01679"></a>01679       <a class="code" href="EditorMercs_8cpp.html#82ba33fa037ab8edfdfc027c690f3097">SetMercOrders</a>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#76cf3cb25fe41d314c711377ee8dbfad">bOrders</a> );
<a name="l01680"></a>01680       <a class="code" href="EditorMercs_8cpp.html#123e6c5e30596e5d7f79f29f141808a2">SetMercAttitude</a>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#c805687690b8b5573780d07fc3931a36">bAttitude</a> );
<a name="l01681"></a>01681       <a class="code" href="EditorMercs_8cpp.html#996d79afc689f8a039adf9589e0b438d">SetMercDirection</a>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#8aa6174a253c3fa21a3ec41ce0174340">bDirection</a> );
<a name="l01682"></a>01682       <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#f825abfe3d1d0bb179d5881e619e7bd6">fPriorityExistance</a> )
<a name="l01683"></a>01683             <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#85a4bb808c9aa3741d423bcf6efcb7b0">ClickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b56581985bc9254f5991d0bd1edbe4e916">MERCS_PRIORITYEXISTANCE_CHECKBOX</a> );
<a name="l01684"></a>01684       <span class="keywordflow">else</span>
<a name="l01685"></a>01685             <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#c2d8423a9e42d8e85e60c3317048c3cc">UnclickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b56581985bc9254f5991d0bd1edbe4e916">MERCS_PRIORITYEXISTANCE_CHECKBOX</a> );
<a name="l01686"></a>01686       <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#9b2004e798b55455baf128a0daf213f0">fHasKeys</a> )
<a name="l01687"></a>01687             <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#85a4bb808c9aa3741d423bcf6efcb7b0">ClickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b57dd4a9965a961fb01221dbf3e355f75b">MERCS_HASKEYS_CHECKBOX</a> );
<a name="l01688"></a>01688       <span class="keywordflow">else</span>
<a name="l01689"></a>01689             <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#c2d8423a9e42d8e85e60c3317048c3cc">UnclickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b57dd4a9965a961fb01221dbf3e355f75b">MERCS_HASKEYS_CHECKBOX</a> );
<a name="l01690"></a>01690       <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#5a5648a1bb3507cc41f6be199c51a3f8">ubProfile</a> == NO_PROFILE )
<a name="l01691"></a>01691       {
<a name="l01692"></a>01692             <a class="code" href="EditorMercs_8cpp.html#f2cee4f5c0d6379d54db15e7f8406a27">SetMercRelativeEquipment</a>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#49c2fe6937f004d00ba00c008fa33a30">bRelativeEquipmentLevel</a> );
<a name="l01693"></a>01693             <a class="code" href="EditorMercs_8cpp.html#37eaf9bf16f1e59c0c81b3cb2a6c7bee">SetMercRelativeAttributes</a>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#16f4ceaac5122b9a0ebb09c46a73e74a">bRelativeAttributeLevel</a> );
<a name="l01694"></a>01694             <a class="code" href="EditorMercs_8cpp.html#1cdf67dacabea6d88997b9e005714954">SetEnemyColorCode</a>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#6f8b4186867f69e234b40ed1c87730c6">ubSoldierClass</a> );
<a name="l01695"></a>01695       }
<a name="l01696"></a>01696       <span class="keywordflow">if</span>( <a class="code" href="EditorDefines_8h.html#afbeb36e0996e51d4002709ddf9b3155">iDrawMode</a> == <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b940388dcfb5a1e1ac625bfe0ebeeeed6f9dbb9">DRAW_MODE_CIVILIAN</a> )
<a name="l01697"></a>01697       {
<a name="l01698"></a>01698             <a class="code" href="EditorMercs_8cpp.html#2911409a58f041f97af83c44aaeb5ef5">ChangeCivGroup</a>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#d250d43185690987945d6884efdf79fc">ubCivilianGroup</a> );
<a name="l01699"></a>01699       }
<a name="l01700"></a>01700 }
<a name="l01701"></a>01701 
<a name="l01702"></a><a class="code" href="EditorMercs_8h.html#67896dafc2f681651ece492cc7b0c12e">01702</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#67896dafc2f681651ece492cc7b0c12e">DeleteSelectedMerc</a>()
<a name="l01703"></a>01703 {
<a name="l01704"></a>01704       <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#97092775cdf98eec280dbb127c7f8523">gsSelectedMercID</a> != -1 )
<a name="l01705"></a>01705       {
<a name="l01706"></a>01706             <a class="code" href="Soldier_01Init_01List_8cpp.html#b208981cc618a0c3b402f5e1659627ce">RemoveSoldierNodeFromInitList</a>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> );
<a name="l01707"></a>01707             <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> = NULL;
<a name="l01708"></a>01708             <a class="code" href="EditorMercs_8cpp.html#97092775cdf98eec280dbb127c7f8523">gsSelectedMercID</a> = -1;
<a name="l01709"></a>01709             <a class="code" href="EditorDefines_8h.html#5a075eed02dac8017c99a606bc7124c3">gfRenderWorld</a> = TRUE;
<a name="l01710"></a>01710             <span class="keywordflow">if</span>( <a class="code" href="Text_01Input_8cpp.html#ce88c37a9713472899c0c55a7bef0d70">TextInputMode</a>() )
<a name="l01711"></a>01711                   <a class="code" href="Text_01Input_8cpp.html#6d18fece3d742aca76d344f0ba9247ef">KillTextInputMode</a>();
<a name="l01712"></a>01712             <a class="code" href="EditorMercs_8cpp.html#f298a8dfcc8c9b0580cc56c7cbd3b27d">IndicateSelectedMerc</a>( <a class="code" href="EditorMercs_8h.html#ac2e5fef5c3189d63a52aa8fdbcd136da386c8cf80ff330abc2b40bc89c45cd5">SELECT_NO_MERC</a> );
<a name="l01713"></a>01713       }
<a name="l01714"></a>01714 }
<a name="l01715"></a>01715 
<a name="l01716"></a><a class="code" href="EditorMercs_8cpp.html#c8aa6c56654c23e9777c7dc99f34329e">01716</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#c8aa6c56654c23e9777c7dc99f34329e">SetupTextInputForMercProfile</a>()
<a name="l01717"></a>01717 {
<a name="l01718"></a>01718       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> <a class="code" href="Button_01System_8cpp.html#ac22642f3052cc77a6991a262ce4ad23">str</a>[4];
<a name="l01719"></a>01719       <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sNum;
<a name="l01720"></a>01720 
<a name="l01721"></a>01721       <a class="code" href="Text_01Input_8cpp.html#39e67eb1ac199063d64ffe2d7a6e5d01">InitTextInputModeWithScheme</a>( <a class="code" href="Text_01Input_8h.html#e19c22873075001400e66566d60b3d189162bce5f8a748e2d7cb1eddf453bbfd">DEFAULT_SCHEME</a> );
<a name="l01722"></a>01722 
<a name="l01723"></a>01723       sNum = <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#10663f9fc2265e92b6ae3e5f2615578f">ubProfile</a>;
<a name="l01724"></a>01724       <span class="keywordflow">if</span>( sNum == NO_PROFILE )
<a name="l01725"></a>01725             str[0] = <span class="charliteral">'\0'</span>;
<a name="l01726"></a>01726       <span class="keywordflow">else</span>
<a name="l01727"></a>01727             <a class="code" href="EditorMercs_8cpp.html#2136f374c851b05fcf27907296da77be">CalcStringForValue</a>( str, <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#10663f9fc2265e92b6ae3e5f2615578f">ubProfile</a>, NUM_PROFILES );
<a name="l01728"></a>01728       <a class="code" href="Text_01Input_8cpp.html#cf7fe686ea0fdf92aa466738d4066332">AddTextInputField</a>( 200, 430, 30, 20, MSYS_PRIORITY_NORMAL, str, 3, INPUTTYPE_NUMERICSTRICT );
<a name="l01729"></a>01729 
<a name="l01730"></a>01730 }
<a name="l01731"></a>01731 
<a name="l01732"></a><a class="code" href="EditorMercs_8cpp.html#419513a60a3e23c5ff454cc15b8c57e6">01732</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#419513a60a3e23c5ff454cc15b8c57e6">SetupTextInputForMercAttributes</a>()
<a name="l01733"></a>01733 {
<a name="l01734"></a>01734       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> <a class="code" href="Button_01System_8cpp.html#ac22642f3052cc77a6991a262ce4ad23">str</a>[4];
<a name="l01735"></a>01735 
<a name="l01736"></a>01736       <a class="code" href="Text_01Input_8cpp.html#39e67eb1ac199063d64ffe2d7a6e5d01">InitTextInputModeWithScheme</a>( <a class="code" href="Text_01Input_8h.html#e19c22873075001400e66566d60b3d189162bce5f8a748e2d7cb1eddf453bbfd">DEFAULT_SCHEME</a> );
<a name="l01737"></a>01737 
<a name="l01738"></a>01738       <a class="code" href="EditorMercs_8cpp.html#2136f374c851b05fcf27907296da77be">CalcStringForValue</a>( str, <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#aed615090c85062502ab030d1968858a">bExpLevel</a>, 100 );
<a name="l01739"></a>01739       <a class="code" href="Text_01Input_8cpp.html#cf7fe686ea0fdf92aa466738d4066332">AddTextInputField</a>( 200, 365, 20, 15, MSYS_PRIORITY_NORMAL, str, 1, INPUTTYPE_NUMERICSTRICT );
<a name="l01740"></a>01740       <a class="code" href="EditorMercs_8cpp.html#2136f374c851b05fcf27907296da77be">CalcStringForValue</a>( str, <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#29f2e5dc7ffa8b6a7df13089430ac461">bLife</a>, 100 );
<a name="l01741"></a>01741       <a class="code" href="Text_01Input_8cpp.html#cf7fe686ea0fdf92aa466738d4066332">AddTextInputField</a>( 200, 390, 20, 15, MSYS_PRIORITY_NORMAL, str, 3, INPUTTYPE_NUMERICSTRICT );
<a name="l01742"></a>01742       <a class="code" href="EditorMercs_8cpp.html#2136f374c851b05fcf27907296da77be">CalcStringForValue</a>( str, <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#b04bf878c8de9128c9e63abe4f1b8a34">bLifeMax</a>, 100 );
<a name="l01743"></a>01743       <a class="code" href="Text_01Input_8cpp.html#cf7fe686ea0fdf92aa466738d4066332">AddTextInputField</a>( 200, 415, 20, 15, MSYS_PRIORITY_NORMAL, str, 3, INPUTTYPE_NUMERICSTRICT );
<a name="l01744"></a>01744       <a class="code" href="EditorMercs_8cpp.html#2136f374c851b05fcf27907296da77be">CalcStringForValue</a>( str, <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#aa5e3f404486ad4cd4015dc82ab8a55f">bMarksmanship</a>, 100 );
<a name="l01745"></a>01745       <a class="code" href="Text_01Input_8cpp.html#cf7fe686ea0fdf92aa466738d4066332">AddTextInputField</a>( 200, 440, 20, 15, MSYS_PRIORITY_NORMAL, str, 3, INPUTTYPE_NUMERICSTRICT );
<a name="l01746"></a>01746       <a class="code" href="EditorMercs_8cpp.html#2136f374c851b05fcf27907296da77be">CalcStringForValue</a>( str, <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#3d04f7591c4513e1fc4f8ba0de32a631">bStrength</a>, 100 );
<a name="l01747"></a>01747       <a class="code" href="Text_01Input_8cpp.html#cf7fe686ea0fdf92aa466738d4066332">AddTextInputField</a>( 300, 365, 20, 15, MSYS_PRIORITY_NORMAL, str, 3, INPUTTYPE_NUMERICSTRICT );
<a name="l01748"></a>01748       <a class="code" href="EditorMercs_8cpp.html#2136f374c851b05fcf27907296da77be">CalcStringForValue</a>( str, <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#4462af66bbd2745b264ae18d577563bf">bAgility</a>, 100 );
<a name="l01749"></a>01749       <a class="code" href="Text_01Input_8cpp.html#cf7fe686ea0fdf92aa466738d4066332">AddTextInputField</a>( 300, 390, 20, 15, MSYS_PRIORITY_NORMAL, str, 3, INPUTTYPE_NUMERICSTRICT );
<a name="l01750"></a>01750       <a class="code" href="EditorMercs_8cpp.html#2136f374c851b05fcf27907296da77be">CalcStringForValue</a>( str, <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#bf1af9aeaeff61d9bd83927f36772dce">bDexterity</a>, 100 );
<a name="l01751"></a>01751       <a class="code" href="Text_01Input_8cpp.html#cf7fe686ea0fdf92aa466738d4066332">AddTextInputField</a>( 300, 415, 20, 15, MSYS_PRIORITY_NORMAL, str, 3, INPUTTYPE_NUMERICSTRICT );
<a name="l01752"></a>01752       <a class="code" href="EditorMercs_8cpp.html#2136f374c851b05fcf27907296da77be">CalcStringForValue</a>( str, <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#0bb4655bd7fad24ad5f33010291a1c77">bWisdom</a>, 100 );
<a name="l01753"></a>01753       <a class="code" href="Text_01Input_8cpp.html#cf7fe686ea0fdf92aa466738d4066332">AddTextInputField</a>( 300, 440, 20, 15, MSYS_PRIORITY_NORMAL, str, 3, INPUTTYPE_NUMERICSTRICT );
<a name="l01754"></a>01754       <a class="code" href="EditorMercs_8cpp.html#2136f374c851b05fcf27907296da77be">CalcStringForValue</a>( str, <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#209837b9ce3122b0d4a295faa55964e8">bLeadership</a>, 100 );
<a name="l01755"></a>01755       <a class="code" href="Text_01Input_8cpp.html#cf7fe686ea0fdf92aa466738d4066332">AddTextInputField</a>( 400, 365, 20, 15, MSYS_PRIORITY_NORMAL, str, 3, INPUTTYPE_NUMERICSTRICT );
<a name="l01756"></a>01756       <a class="code" href="EditorMercs_8cpp.html#2136f374c851b05fcf27907296da77be">CalcStringForValue</a>( str, <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#c1f85b1c7d18c14ed63f0a387859602d">bExplosive</a>, 100 );
<a name="l01757"></a>01757       <a class="code" href="Text_01Input_8cpp.html#cf7fe686ea0fdf92aa466738d4066332">AddTextInputField</a>( 400, 390, 20, 15, MSYS_PRIORITY_NORMAL, str, 3, INPUTTYPE_NUMERICSTRICT );
<a name="l01758"></a>01758       <a class="code" href="EditorMercs_8cpp.html#2136f374c851b05fcf27907296da77be">CalcStringForValue</a>( str, <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#49261be09bb0c789ef74f6167a4620f6">bMedical</a>, 100 );
<a name="l01759"></a>01759       <a class="code" href="Text_01Input_8cpp.html#cf7fe686ea0fdf92aa466738d4066332">AddTextInputField</a>( 400, 415, 20, 15, MSYS_PRIORITY_NORMAL, str, 3, INPUTTYPE_NUMERICSTRICT );
<a name="l01760"></a>01760       <a class="code" href="EditorMercs_8cpp.html#2136f374c851b05fcf27907296da77be">CalcStringForValue</a>( str, <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#38edd67137a7bffa38bcacbfc2c76f31">bMechanical</a>, 100 );
<a name="l01761"></a>01761       <a class="code" href="Text_01Input_8cpp.html#cf7fe686ea0fdf92aa466738d4066332">AddTextInputField</a>( 400, 440, 20, 15, MSYS_PRIORITY_NORMAL, str, 3, INPUTTYPE_NUMERICSTRICT );
<a name="l01762"></a>01762       <a class="code" href="EditorMercs_8cpp.html#2136f374c851b05fcf27907296da77be">CalcStringForValue</a>( str, <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#f7a6b0d3b3eade28a4795512e192d0eb">bMorale</a>, 100 );
<a name="l01763"></a>01763       <a class="code" href="Text_01Input_8cpp.html#cf7fe686ea0fdf92aa466738d4066332">AddTextInputField</a>( 500, 365, 20, 15, MSYS_PRIORITY_NORMAL, str, 3, INPUTTYPE_NUMERICSTRICT );
<a name="l01764"></a>01764 
<a name="l01765"></a>01765       <span class="keywordflow">if</span>( !<a class="code" href="EditorMercs_8cpp.html#2f7af5c422377e3f1100cc761a5805f0">gfCanEditMercs</a> )
<a name="l01766"></a>01766             <a class="code" href="Text_01Input_8cpp.html#bee6749f3e600479611fdaac42b4499c">DisableAllTextFields</a>();
<a name="l01767"></a>01767 }
<a name="l01768"></a>01768 
<a name="l01769"></a>01769 <span class="comment">//In the merc editing, all detailed placement values for generated attributes are set to -1.  </span>
<a name="l01770"></a>01770 <span class="comment">//When making a generated attribute static, we then set the value to its applicable value.</span>
<a name="l01771"></a>01771 <span class="comment">//This function is similar to the itoa function except that -1 is converted to a null string.</span>
<a name="l01772"></a><a class="code" href="EditorMercs_8cpp.html#2136f374c851b05fcf27907296da77be">01772</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#2136f374c851b05fcf27907296da77be">CalcStringForValue</a>( <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> *<a class="code" href="Button_01System_8cpp.html#ac22642f3052cc77a6991a262ce4ad23">str</a>, <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iValue, <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a> uiMax )
<a name="l01773"></a>01773 {
<a name="l01774"></a>01774       <span class="keywordflow">if</span>( iValue &lt; 0 )              <span class="comment">//a blank string is determined by a negative value.</span>
<a name="l01775"></a>01775             str[0] = <span class="charliteral">'\0'</span>;
<a name="l01776"></a>01776       <span class="keywordflow">else</span> <span class="keywordflow">if</span>( (<a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>)iValue &gt; uiMax )   <span class="comment">//higher than max attribute value, so convert it to the max.</span>
<a name="l01777"></a>01777             swprintf( str, L<span class="stringliteral">"%d"</span>, uiMax );
<a name="l01778"></a>01778       <span class="keywordflow">else</span>                                                        <span class="comment">//this is a valid static value, so convert it to a string.</span>
<a name="l01779"></a>01779             swprintf( str, L<span class="stringliteral">"%d"</span>, iValue );
<a name="l01780"></a>01780 }
<a name="l01781"></a>01781 
<a name="l01782"></a><a class="code" href="EditorMercs_8cpp.html#d944e9b7a815c67a2978df713d254a25">01782</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#d944e9b7a815c67a2978df713d254a25">ExtractAndUpdateMercAttributes</a>()
<a name="l01783"></a>01783 {
<a name="l01784"></a>01784       <span class="comment">//If we have just deleted the merc's detailed placement in the editor, we don't</span>
<a name="l01785"></a>01785       <span class="comment">//need to extract the information</span>
<a name="l01786"></a>01786       <span class="keywordflow">if</span>( !<a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> )
<a name="l01787"></a>01787             <span class="keywordflow">return</span>;
<a name="l01788"></a>01788 
<a name="l01789"></a>01789       <span class="comment">//It just so happens that GetNumericStrict...() will return -1 for any blank fields.</span>
<a name="l01790"></a>01790       <span class="comment">//-1 values in the detailed placement work nicely, because that signifies that specific</span>
<a name="l01791"></a>01791       <span class="comment">//field isn't static.  Any other value becomes static, and static values override any</span>
<a name="l01792"></a>01792       <span class="comment">//generated values.</span>
<a name="l01793"></a>01793       <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#aed615090c85062502ab030d1968858a">bExpLevel</a>             = (<a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>)min( <a class="code" href="Text_01Input_8cpp.html#d48afc7e37de882a15c99a361706518e">GetNumericStrictValueFromField</a>( 0 ), 100 );
<a name="l01794"></a>01794       <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#29f2e5dc7ffa8b6a7df13089430ac461">bLife</a>                             = (<a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>)min( <a class="code" href="Text_01Input_8cpp.html#d48afc7e37de882a15c99a361706518e">GetNumericStrictValueFromField</a>( 1 ), 100 );
<a name="l01795"></a>01795       <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#b04bf878c8de9128c9e63abe4f1b8a34">bLifeMax</a>              = (<a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>)min( <a class="code" href="Text_01Input_8cpp.html#d48afc7e37de882a15c99a361706518e">GetNumericStrictValueFromField</a>( 2 ), 100 );
<a name="l01796"></a>01796       <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#aa5e3f404486ad4cd4015dc82ab8a55f">bMarksmanship</a>   = (<a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>)min( <a class="code" href="Text_01Input_8cpp.html#d48afc7e37de882a15c99a361706518e">GetNumericStrictValueFromField</a>( 3 ), 100 );
<a name="l01797"></a>01797       <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#3d04f7591c4513e1fc4f8ba0de32a631">bStrength</a>             = (<a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>)min( <a class="code" href="Text_01Input_8cpp.html#d48afc7e37de882a15c99a361706518e">GetNumericStrictValueFromField</a>( 4 ), 100 );
<a name="l01798"></a>01798       <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#4462af66bbd2745b264ae18d577563bf">bAgility</a>              = (<a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>)min( <a class="code" href="Text_01Input_8cpp.html#d48afc7e37de882a15c99a361706518e">GetNumericStrictValueFromField</a>( 5 ), 100 );
<a name="l01799"></a>01799       <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#bf1af9aeaeff61d9bd83927f36772dce">bDexterity</a>            = (<a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>)min( <a class="code" href="Text_01Input_8cpp.html#d48afc7e37de882a15c99a361706518e">GetNumericStrictValueFromField</a>( 6 ), 100 );
<a name="l01800"></a>01800       <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#0bb4655bd7fad24ad5f33010291a1c77">bWisdom</a>                     = (<a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>)min( <a class="code" href="Text_01Input_8cpp.html#d48afc7e37de882a15c99a361706518e">GetNumericStrictValueFromField</a>( 7 ), 100 );
<a name="l01801"></a>01801       <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#209837b9ce3122b0d4a295faa55964e8">bLeadership</a>           = (<a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>)min( <a class="code" href="Text_01Input_8cpp.html#d48afc7e37de882a15c99a361706518e">GetNumericStrictValueFromField</a>( 8 ), 100 );
<a name="l01802"></a>01802       <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#c1f85b1c7d18c14ed63f0a387859602d">bExplosive</a>            = (<a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>)min( <a class="code" href="Text_01Input_8cpp.html#d48afc7e37de882a15c99a361706518e">GetNumericStrictValueFromField</a>( 9 ), 100 );
<a name="l01803"></a>01803       <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#49261be09bb0c789ef74f6167a4620f6">bMedical</a>              = (<a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>)min( <a class="code" href="Text_01Input_8cpp.html#d48afc7e37de882a15c99a361706518e">GetNumericStrictValueFromField</a>( 10 ), 100 );
<a name="l01804"></a>01804       <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#38edd67137a7bffa38bcacbfc2c76f31">bMechanical</a>           = (<a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>)min( <a class="code" href="Text_01Input_8cpp.html#d48afc7e37de882a15c99a361706518e">GetNumericStrictValueFromField</a>( 11 ), 100 );
<a name="l01805"></a>01805       <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#f7a6b0d3b3eade28a4795512e192d0eb">bMorale</a>                     = (<a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>)min( <a class="code" href="Text_01Input_8cpp.html#d48afc7e37de882a15c99a361706518e">GetNumericStrictValueFromField</a>( 11 ), 100 );
<a name="l01806"></a>01806 
<a name="l01807"></a>01807       <span class="comment">//make sure that experience level ranges between 1 and 9</span>
<a name="l01808"></a>01808       <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#aed615090c85062502ab030d1968858a">bExpLevel</a> != -1 )
<a name="l01809"></a>01809             <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#aed615090c85062502ab030d1968858a">bExpLevel</a> = max( min( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#aed615090c85062502ab030d1968858a">bExpLevel</a> , 9 ), 1 );
<a name="l01810"></a>01810 
<a name="l01811"></a>01811       <span class="comment">//no such thing as a life max of 0</span>
<a name="l01812"></a>01812       <span class="keywordflow">if</span>( !<a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#b04bf878c8de9128c9e63abe4f1b8a34">bLifeMax</a> )
<a name="l01813"></a>01813             <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#b04bf878c8de9128c9e63abe4f1b8a34">bLifeMax</a> = 1;
<a name="l01814"></a>01814 
<a name="l01815"></a>01815       <span class="comment">//make sure the life doesn't exceed the maxlife...</span>
<a name="l01816"></a>01816       <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#b04bf878c8de9128c9e63abe4f1b8a34">bLifeMax</a> != -1 &amp;&amp; <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#29f2e5dc7ffa8b6a7df13089430ac461">bLife</a> != -1 &amp;&amp;
<a name="l01817"></a>01817                   <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#29f2e5dc7ffa8b6a7df13089430ac461">bLife</a> &gt; <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#b04bf878c8de9128c9e63abe4f1b8a34">bLifeMax</a> )
<a name="l01818"></a>01818         <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#29f2e5dc7ffa8b6a7df13089430ac461">bLife</a> = <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#b04bf878c8de9128c9e63abe4f1b8a34">bLifeMax</a>;
<a name="l01819"></a>01819 
<a name="l01820"></a>01820       <span class="comment">//update the soldier</span>
<a name="l01821"></a>01821       <a class="code" href="Soldier_01Create_8cpp.html#30fbf57c0800b24b57c95745e1bebbc5">UpdateSoldierWithStaticDetailedInformation</a>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>, <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> );
<a name="l01822"></a>01822 }
<a name="l01823"></a>01823 
<a name="l01824"></a><a class="code" href="EditorMercs_8cpp.html#30bd6644688b34c945f815d612208f4e">01824</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#30bd6644688b34c945f815d612208f4e">ExtractAndUpdateMercProfile</a>()
<a name="l01825"></a>01825 {
<a name="l01826"></a>01826       <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sNum;
<a name="l01827"></a>01827       <span class="keyword">static</span> <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sPrev = NO_PROFILE;
<a name="l01828"></a>01828 
<a name="l01829"></a>01829       <span class="comment">//If we have just deleted the merc's detailed placement in the editor, we don't</span>
<a name="l01830"></a>01830       <span class="comment">//need to extract the information</span>
<a name="l01831"></a>01831       <span class="keywordflow">if</span>( !<a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> )
<a name="l01832"></a>01832             <span class="keywordflow">return</span>;
<a name="l01833"></a>01833 
<a name="l01834"></a>01834       <span class="comment">//if the string is blank, returning -1, then set the value to NO_PROFILE</span>
<a name="l01835"></a>01835       <span class="comment">//because ubProfile is unsigned.</span>
<a name="l01836"></a>01836       sNum = (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)min( <a class="code" href="Text_01Input_8cpp.html#d48afc7e37de882a15c99a361706518e">GetNumericStrictValueFromField</a>( 0 ), NUM_PROFILES );
<a name="l01837"></a>01837       <span class="keywordflow">if</span>( sNum == -1 )
<a name="l01838"></a>01838       {
<a name="l01839"></a>01839             <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#10663f9fc2265e92b6ae3e5f2615578f">ubProfile</a> = NO_PROFILE;
<a name="l01840"></a>01840             <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#03cb60f25b4a19bad86f9e866247fe58">fCopyProfileItemsOver</a> = FALSE;
<a name="l01841"></a>01841             <a class="code" href="EditorMercs_8cpp.html#7285a04378969f0b7c4d52d25502c4b6">SetMercEditability</a>( TRUE );
<a name="l01842"></a>01842       }
<a name="l01843"></a>01843       <span class="keywordflow">else</span> <span class="keywordflow">if</span>( sPrev != sNum )
<a name="l01844"></a>01844       {
<a name="l01845"></a>01845             <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#10663f9fc2265e92b6ae3e5f2615578f">ubProfile</a> = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)sNum;
<a name="l01846"></a>01846             <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#03cb60f25b4a19bad86f9e866247fe58">fCopyProfileItemsOver</a> = TRUE;
<a name="l01847"></a>01847             <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#f825abfe3d1d0bb179d5881e619e7bd6">fPriorityExistance</a> = TRUE;
<a name="l01848"></a>01848             <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#85a4bb808c9aa3741d423bcf6efcb7b0">ClickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b56581985bc9254f5991d0bd1edbe4e916">MERCS_PRIORITYEXISTANCE_CHECKBOX</a> );
<a name="l01849"></a>01849             <a class="code" href="EditorMercs_8cpp.html#7285a04378969f0b7c4d52d25502c4b6">SetMercEditability</a>( FALSE );
<a name="l01850"></a>01850       }
<a name="l01851"></a>01851       <span class="keywordflow">else</span>
<a name="l01852"></a>01852             <span class="keywordflow">return</span>;
<a name="l01853"></a>01853 
<a name="l01854"></a>01854       <a class="code" href="Soldier_01Create_8cpp.html#30fbf57c0800b24b57c95745e1bebbc5">UpdateSoldierWithStaticDetailedInformation</a>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>, <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> );
<a name="l01855"></a>01855       <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#74a40a8aaf3efe840cdaf6be62556d82">bTeam</a> == CIV_TEAM )
<a name="l01856"></a>01856       {
<a name="l01857"></a>01857             <a class="code" href="EditorMercs_8cpp.html#2911409a58f041f97af83c44aaeb5ef5">ChangeCivGroup</a>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#d250d43185690987945d6884efdf79fc">ubCivilianGroup</a> );
<a name="l01858"></a>01858       }
<a name="l01859"></a>01859 }
<a name="l01860"></a>01860 
<a name="l01861"></a><a class="code" href="EditorMercs_8cpp.html#273566d96232de5c5a0024922b76cdaa">01861</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#273566d96232de5c5a0024922b76cdaa">SetupTextInputForMercSchedule</a>()
<a name="l01862"></a>01862 {
<a name="l01863"></a>01863       <a class="code" href="Text_01Input_8cpp.html#39e67eb1ac199063d64ffe2d7a6e5d01">InitTextInputModeWithScheme</a>( <a class="code" href="Text_01Input_8h.html#e19c22873075001400e66566d60b3d189162bce5f8a748e2d7cb1eddf453bbfd">DEFAULT_SCHEME</a> );
<a name="l01864"></a>01864       <a class="code" href="Text_01Input_8cpp.html#a9d62cf5d43d926b04384016a240c617">AddUserInputField</a>( NULL );
<a name="l01865"></a>01865       <a class="code" href="Text_01Input_8cpp.html#cf7fe686ea0fdf92aa466738d4066332">AddTextInputField</a>( 268, 373, 36, 16, MSYS_PRIORITY_NORMAL, L<span class="stringliteral">""</span>, 6, <a class="code" href="Text_01Input_8h.html#a684652a3ad226861d3cd9c8bee090eb3d6462f5dd816041840d700a895f92b8">INPUTTYPE_EXCLUSIVE_24HOURCLOCK</a> );
<a name="l01866"></a>01866       <a class="code" href="Text_01Input_8cpp.html#ad4c214e16a252c14c59cc32f93cf63a">SetExclusive24HourTimeValue</a>( 1, <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#3f66611504ece97ffd37fa37e787fad5">usTime</a>[0] );
<a name="l01867"></a>01867       <a class="code" href="Text_01Input_8cpp.html#cf7fe686ea0fdf92aa466738d4066332">AddTextInputField</a>( 268, 394, 36, 16, MSYS_PRIORITY_NORMAL, L<span class="stringliteral">""</span>, 6, <a class="code" href="Text_01Input_8h.html#a684652a3ad226861d3cd9c8bee090eb3d6462f5dd816041840d700a895f92b8">INPUTTYPE_EXCLUSIVE_24HOURCLOCK</a> );
<a name="l01868"></a>01868       <a class="code" href="Text_01Input_8cpp.html#ad4c214e16a252c14c59cc32f93cf63a">SetExclusive24HourTimeValue</a>( 2, <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#3f66611504ece97ffd37fa37e787fad5">usTime</a>[1] );
<a name="l01869"></a>01869       <a class="code" href="Text_01Input_8cpp.html#cf7fe686ea0fdf92aa466738d4066332">AddTextInputField</a>( 268, 415, 36, 16, MSYS_PRIORITY_NORMAL, L<span class="stringliteral">""</span>, 6, <a class="code" href="Text_01Input_8h.html#a684652a3ad226861d3cd9c8bee090eb3d6462f5dd816041840d700a895f92b8">INPUTTYPE_EXCLUSIVE_24HOURCLOCK</a> );
<a name="l01870"></a>01870       <a class="code" href="Text_01Input_8cpp.html#ad4c214e16a252c14c59cc32f93cf63a">SetExclusive24HourTimeValue</a>( 3, <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#3f66611504ece97ffd37fa37e787fad5">usTime</a>[2] );
<a name="l01871"></a>01871       <a class="code" href="Text_01Input_8cpp.html#cf7fe686ea0fdf92aa466738d4066332">AddTextInputField</a>( 268, 436, 36, 16, MSYS_PRIORITY_NORMAL, L<span class="stringliteral">""</span>, 6, <a class="code" href="Text_01Input_8h.html#a684652a3ad226861d3cd9c8bee090eb3d6462f5dd816041840d700a895f92b8">INPUTTYPE_EXCLUSIVE_24HOURCLOCK</a> );
<a name="l01872"></a>01872       <a class="code" href="Text_01Input_8cpp.html#ad4c214e16a252c14c59cc32f93cf63a">SetExclusive24HourTimeValue</a>( 4, <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#3f66611504ece97ffd37fa37e787fad5">usTime</a>[3] );
<a name="l01873"></a>01873 }
<a name="l01874"></a>01874 
<a name="l01875"></a><a class="code" href="Editor_01Callbacks_8cpp.html#ff93c87d84967186c71dbd80bcdf2dd1">01875</a> <span class="keywordtype">void</span> <a class="code" href="Editor_01Callbacks_8cpp.html#ff93c87d84967186c71dbd80bcdf2dd1">ExtractAndUpdateMercSchedule</a>()
<a name="l01876"></a>01876 {
<a name="l01877"></a>01877       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> i;
<a name="l01878"></a>01878       <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> fValidSchedule = FALSE;
<a name="l01879"></a>01879       <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> fScheduleNeedsUpdate = FALSE;
<a name="l01880"></a>01880       <a class="code" href="structSCHEDULENODE.html">SCHEDULENODE</a> *pNext = NULL;
<a name="l01881"></a>01881   <span class="keywordflow">if</span>( !<a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> )
<a name="l01882"></a>01882             <span class="keywordflow">return</span>;
<a name="l01883"></a>01883       <span class="comment">//extract all of the fields into a temp schedulenode.</span>
<a name="l01884"></a>01884       <span class="comment">//memset( &amp;gScheduleNode, 0, sizeof( SCHEDULENODE ) );</span>
<a name="l01885"></a>01885       <span class="keywordflow">for</span>( i = 0; i &lt; 4; i++ )
<a name="l01886"></a>01886       {
<a name="l01887"></a>01887             <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#3f66611504ece97ffd37fa37e787fad5">usTime</a>[i] = <a class="code" href="Text_01Input_8cpp.html#ec3fbd725f7db15542ac23106413fad9">GetExclusive24HourTimeValueFromField</a>( (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)(i+1) );
<a name="l01888"></a>01888             <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#7254a407b8916738ea5e706b6b503b7b">ubAction</a>[i] = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)<a class="code" href="Button_01System_8cpp.html#82b8ca7efdab9351cde6f80282eca747">MSYS_GetBtnUserData</a>( <a class="code" href="Button_01System_8cpp.html#99f9e9d9b2c22bc0d2d8166c4bb2f353">ButtonList</a>[ <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[ <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b55b3f49f5096a6ca2c2f4351a29db4bb8">MERCS_SCHEDULE_ACTION1</a> + i ]], 0 );
<a name="l01889"></a>01889             <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#7254a407b8916738ea5e706b6b503b7b">ubAction</a>[i] )
<a name="l01890"></a>01890                   fValidSchedule = TRUE;
<a name="l01891"></a>01891       }
<a name="l01892"></a>01892 
<a name="l01893"></a>01893       <span class="keywordflow">if</span>( !<a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#f42305317ffec1fd9d924ffc592896b6">ubScheduleID</a> )
<a name="l01894"></a>01894       { <span class="comment">//The soldier doesn't actually have a schedule yet, so create one if necessary (not blank)</span>
<a name="l01895"></a>01895             <span class="keywordflow">if</span>( fValidSchedule )
<a name="l01896"></a>01896             { <span class="comment">//create a new schedule</span>
<a name="l01897"></a>01897                   <span class="keywordflow">if</span>( <a class="code" href="Scheduling_8cpp.html#64fd984702f039aaab343d73a6db02ad">SortSchedule</a>( &amp;<a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a> ) )
<a name="l01898"></a>01898                         fScheduleNeedsUpdate = TRUE;
<a name="l01899"></a>01899                   <a class="code" href="Scheduling_8cpp.html#41ff2d80e30c49f8670f91d59e616893">CopyScheduleToList</a>( &amp;gCurrSchedule, <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> );
<a name="l01900"></a>01900                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#2d5bb4a12f3cfb9cc44d0c5181d37640">ShowEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b524797bae420556561d923b7e9413bfe4">MERCS_GLOWSCHEDULE</a> );
<a name="l01901"></a>01901                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#fc2d8070000e2c718ab6ad15926fd054">HideEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b521a634d897bd2669f7b90a621e4658b6">MERCS_SCHEDULE</a> );
<a name="l01902"></a>01902             }
<a name="l01903"></a>01903       }
<a name="l01904"></a>01904       <span class="keywordflow">else</span>
<a name="l01905"></a>01905       {
<a name="l01906"></a>01906             <a class="code" href="structSCHEDULENODE.html">SCHEDULENODE</a> *pSchedule;
<a name="l01907"></a>01907             pSchedule = <a class="code" href="Scheduling_8cpp.html#442c74f764c0c17e57725967a7515cff">GetSchedule</a>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#f42305317ffec1fd9d924ffc592896b6">ubScheduleID</a> );
<a name="l01908"></a>01908             <span class="keywordflow">if</span>( !pSchedule )
<a name="l01909"></a>01909             {
<a name="l01910"></a>01910                   <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#f42305317ffec1fd9d924ffc592896b6">ubScheduleID</a> = 0;
<a name="l01911"></a>01911                   <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#8d57132b9da9a691e7dc5693d8d5fe82">ubScheduleID</a> = 0;
<a name="l01912"></a>01912                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#fc2d8070000e2c718ab6ad15926fd054">HideEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b524797bae420556561d923b7e9413bfe4">MERCS_GLOWSCHEDULE</a> );
<a name="l01913"></a>01913                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#2d5bb4a12f3cfb9cc44d0c5181d37640">ShowEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b521a634d897bd2669f7b90a621e4658b6">MERCS_SCHEDULE</a> );
<a name="l01914"></a>01914                   <span class="keywordflow">return</span>;
<a name="l01915"></a>01915             }
<a name="l01916"></a>01916             <span class="keywordflow">if</span>( fValidSchedule )
<a name="l01917"></a>01917             { <span class="comment">//overwrite the existing schedule with the new one.</span>
<a name="l01918"></a>01918                   <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#29202e9697ff0c697ad6decc964310d1">ubScheduleID</a> = <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#f42305317ffec1fd9d924ffc592896b6">ubScheduleID</a>;
<a name="l01919"></a>01919                   <span class="keywordflow">if</span>( <a class="code" href="Scheduling_8cpp.html#64fd984702f039aaab343d73a6db02ad">SortSchedule</a>( &amp;<a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a> ) )
<a name="l01920"></a>01920                         fScheduleNeedsUpdate = TRUE;
<a name="l01921"></a>01921                   pNext = pSchedule-&gt;<a class="code" href="structSCHEDULENODE.html#2af177619b77b3e6a0e1d1a69db5723f">next</a>;
<a name="l01922"></a>01922                   memcpy( pSchedule, &amp;<a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>, <span class="keyword">sizeof</span>( <a class="code" href="structSCHEDULENODE.html">SCHEDULENODE</a> ) );
<a name="l01923"></a>01923                   pSchedule-&gt;<a class="code" href="structSCHEDULENODE.html#2af177619b77b3e6a0e1d1a69db5723f">next</a> = pNext;
<a name="l01924"></a>01924             }
<a name="l01925"></a>01925             <span class="keywordflow">else</span>
<a name="l01926"></a>01926             { <span class="comment">//remove the existing schedule, as the new one is blank.</span>
<a name="l01927"></a>01927                   <a class="code" href="Scheduling_8cpp.html#6e4696fdaba747a7b0263d4e233a310f">DeleteSchedule</a>( pSchedule-&gt;<a class="code" href="structSCHEDULENODE.html#29202e9697ff0c697ad6decc964310d1">ubScheduleID</a> );
<a name="l01928"></a>01928                   <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#f42305317ffec1fd9d924ffc592896b6">ubScheduleID</a> = 0;
<a name="l01929"></a>01929                   <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#8d57132b9da9a691e7dc5693d8d5fe82">ubScheduleID</a> = 0;
<a name="l01930"></a>01930                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#fc2d8070000e2c718ab6ad15926fd054">HideEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b524797bae420556561d923b7e9413bfe4">MERCS_GLOWSCHEDULE</a> );
<a name="l01931"></a>01931                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#2d5bb4a12f3cfb9cc44d0c5181d37640">ShowEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b521a634d897bd2669f7b90a621e4658b6">MERCS_SCHEDULE</a> );
<a name="l01932"></a>01932             }
<a name="l01933"></a>01933       }
<a name="l01934"></a>01934       <span class="keywordflow">if</span>( fScheduleNeedsUpdate )
<a name="l01935"></a>01935       { <span class="comment">//The schedule was sorted, so update the gui.</span>
<a name="l01936"></a>01936             <a class="code" href="EditorMercs_8cpp.html#89a8b2c7b7d5fe4360c8549d61088175">UpdateScheduleInfo</a>();
<a name="l01937"></a>01937       }
<a name="l01938"></a>01938       <a class="code" href="Text_01Input_8cpp.html#25a0544d008a0b0168be721750f9422b">SetActiveField</a>( 0 );
<a name="l01939"></a>01939 }
<a name="l01940"></a>01940 
<a name="l01941"></a><a class="code" href="EditorMercs_8h.html#a5a3a296fb3364d8188b97992f56da49">01941</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#a5a3a296fb3364d8188b97992f56da49">ExtractCurrentMercModeInfo</a>( <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> fKillTextInputMode )
<a name="l01942"></a>01942 {
<a name="l01943"></a>01943       <span class="comment">//This happens if we deleted a merc</span>
<a name="l01944"></a>01944       <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#97092775cdf98eec280dbb127c7f8523">gsSelectedMercID</a> == -1 )
<a name="l01945"></a>01945             <span class="keywordflow">return</span>;
<a name="l01946"></a>01946       <span class="comment">//Extract and update mercs via text fields if applicable</span>
<a name="l01947"></a>01947       <span class="keywordflow">switch</span>( <a class="code" href="EditorMercs_8cpp.html#60bc6cddda8166a782f69d3899ae0803">gubCurrMercMode</a> )
<a name="l01948"></a>01948       {
<a name="l01949"></a>01949             <span class="keywordflow">case</span> <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4d79be38898c5768611ba7d6c4b308c356">MERC_ATTRIBUTEMODE</a>:
<a name="l01950"></a>01950                   <a class="code" href="EditorMercs_8cpp.html#d944e9b7a815c67a2978df713d254a25">ExtractAndUpdateMercAttributes</a>();
<a name="l01951"></a>01951                   <span class="keywordflow">break</span>;
<a name="l01952"></a>01952             <span class="keywordflow">case</span> <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4d109d2b74061257bb85b6de571ee96408">MERC_PROFILEMODE</a>:
<a name="l01953"></a>01953                   <a class="code" href="EditorMercs_8cpp.html#30bd6644688b34c945f815d612208f4e">ExtractAndUpdateMercProfile</a>();
<a name="l01954"></a>01954                   <span class="keywordflow">break</span>;
<a name="l01955"></a>01955             <span class="keywordflow">case</span> <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4dfc5362f856b3f5e32545c6d922e4a1f3">MERC_SCHEDULEMODE</a>:
<a name="l01956"></a>01956                   <a class="code" href="Editor_01Callbacks_8cpp.html#ff93c87d84967186c71dbd80bcdf2dd1">ExtractAndUpdateMercSchedule</a>();
<a name="l01957"></a>01957                   <span class="keywordflow">break</span>;
<a name="l01958"></a>01958             <span class="keywordflow">default</span>: 
<a name="l01959"></a>01959                   fKillTextInputMode = FALSE;
<a name="l01960"></a>01960                   <span class="keywordflow">break</span>;
<a name="l01961"></a>01961       }
<a name="l01962"></a>01962       <span class="keywordflow">if</span>( fKillTextInputMode )
<a name="l01963"></a>01963             <a class="code" href="Text_01Input_8cpp.html#6d18fece3d742aca76d344f0ba9247ef">KillTextInputMode</a>();
<a name="l01964"></a>01964 }
<a name="l01965"></a>01965 
<a name="l01966"></a><a class="code" href="EditorMercs_8h.html#7d3c0914ffb2bf7b00c402e37699d14d">01966</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#7d3c0914ffb2bf7b00c402e37699d14d">InitDetailedPlacementForMerc</a>()
<a name="l01967"></a>01967 {
<a name="l01968"></a>01968       Assert( !<a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> );
<a name="l01969"></a>01969 
<a name="l01970"></a>01970       <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> = (<a class="code" href="structSOLDIERCREATE__STRUCT.html">SOLDIERCREATE_STRUCT</a>*)MemAlloc(<span class="keyword">sizeof</span>(<a class="code" href="structSOLDIERCREATE__STRUCT.html">SOLDIERCREATE_STRUCT</a>));
<a name="l01971"></a>01971 
<a name="l01972"></a>01972       Assert( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> );
<a name="l01973"></a>01973       
<a name="l01974"></a>01974       <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#3ef9d6dc68fb22fec84a9fce13f806c1">fDetailedPlacement</a> = TRUE;
<a name="l01975"></a>01975       <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#f825abfe3d1d0bb179d5881e619e7bd6">fPriorityExistance</a> = FALSE;
<a name="l01976"></a>01976       <a class="code" href="Soldier_01Create_8cpp.html#142f4aa476d17fdc51cf6f629366b055">CreateStaticDetailedPlacementGivenBasicPlacementInfo</a>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>, <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a> );
<a name="l01977"></a>01977       
<a name="l01978"></a>01978       <a class="code" href="EditorMercs_8cpp.html#05e984b163e7db307d7181d8460644fa">ClearCurrentSchedule</a>();
<a name="l01979"></a>01979 
<a name="l01980"></a>01980       <span class="comment">//update the soldier</span>
<a name="l01981"></a>01981       <a class="code" href="Soldier_01Create_8cpp.html#30fbf57c0800b24b57c95745e1bebbc5">UpdateSoldierWithStaticDetailedInformation</a> ( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>, <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> );
<a name="l01982"></a>01982 }
<a name="l01983"></a>01983 
<a name="l01984"></a><a class="code" href="EditorMercs_8h.html#219310ed77d2ef0299151ece31d8568e">01984</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#219310ed77d2ef0299151ece31d8568e">KillDetailedPlacementForMerc</a>()
<a name="l01985"></a>01985 {
<a name="l01986"></a>01986       Assert( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> );
<a name="l01987"></a>01987       MemFree( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> );
<a name="l01988"></a>01988       <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> = NULL;
<a name="l01989"></a>01989       <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#3ef9d6dc68fb22fec84a9fce13f806c1">fDetailedPlacement</a> = FALSE;
<a name="l01990"></a>01990       <a class="code" href="EditorMercs_8cpp.html#7285a04378969f0b7c4d52d25502c4b6">SetMercEditability</a>( TRUE );
<a name="l01991"></a>01991 }
<a name="l01992"></a>01992 
<a name="l01993"></a>01993 
<a name="l01994"></a><a class="code" href="EditorMercs_8cpp.html#3031161409b30d3d2f2ec0a193a58dfd">01994</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#3031161409b30d3d2f2ec0a193a58dfd">ChangeBodyType</a>( <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a> bOffset )  <span class="comment">//+1 or -1 only</span>
<a name="l01995"></a>01995 {
<a name="l01996"></a>01996       <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a> *pbArray;
<a name="l01997"></a>01997       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iMax, <a class="code" href="Sound_01Control_8cpp.html#6150e0515f7202e2fb518f7206ed97dc">x</a>;
<a name="l01998"></a>01998       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iIndex;
<a name="l01999"></a>01999 
<a name="l02000"></a>02000       <a class="code" href="EditorDefines_8h.html#3a8478611d591d976e9e594885e1811a">gfRenderTaskbar</a> = TRUE;
<a name="l02001"></a>02001       <a class="code" href="EditorMercs_8cpp.html#2411d22b871f9aaa6b8596afc913c909">gfRenderMercInfo</a> = TRUE;
<a name="l02002"></a>02002       <span class="comment">//verify that we have a proper offset ( only +-1 allowed )</span>
<a name="l02003"></a>02003       Assert( bOffset == -1 || bOffset == 1 );
<a name="l02004"></a>02004       <span class="comment">//get access to information depending on the team</span>
<a name="l02005"></a>02005       <span class="keywordflow">switch</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#bd255e877f2966dbbd17ffbaa254a025">bTeam</a> )
<a name="l02006"></a>02006       {
<a name="l02007"></a>02007             <span class="keywordflow">case</span> ENEMY_TEAM:
<a name="l02008"></a>02008                   pbArray = <a class="code" href="EditorMercs_8cpp.html#34c009f84168d9b8dcf2f183e1a8d909">bEnemyArray</a>;
<a name="l02009"></a>02009                   iMax = MAX_ENEMYTYPES;
<a name="l02010"></a>02010                   <span class="keywordflow">break</span>;
<a name="l02011"></a>02011             <span class="keywordflow">case</span> CREATURE_TEAM:
<a name="l02012"></a>02012                   pbArray = <a class="code" href="EditorMercs_8cpp.html#d427983b3a807996992e45fe10d3642a">bCreatureArray</a>;
<a name="l02013"></a>02013                   iMax = MAX_CREATURETYPES;
<a name="l02014"></a>02014                   <span class="keywordflow">break</span>;
<a name="l02015"></a>02015             <span class="keywordflow">case</span> MILITIA_TEAM:
<a name="l02016"></a>02016                   pbArray = <a class="code" href="EditorMercs_8cpp.html#054459411af3d3e6e77eb9e11286cae6">bRebelArray</a>;
<a name="l02017"></a>02017                   iMax = MAX_REBELTYPES;
<a name="l02018"></a>02018                   <span class="keywordflow">break</span>;
<a name="l02019"></a>02019             <span class="keywordflow">case</span> CIV_TEAM:
<a name="l02020"></a>02020                   pbArray = <a class="code" href="EditorMercs_8cpp.html#f1d8ff4852ffc5f8c7fcc512e26a8fd3">bCivArray</a>;
<a name="l02021"></a>02021                   iMax = MAX_CIVTYPES;
<a name="l02022"></a>02022                   <span class="keywordflow">break</span>;
<a name="l02023"></a>02023       }
<a name="l02024"></a>02024       <span class="comment">//find the matching bodytype index within the array.</span>
<a name="l02025"></a>02025       <span class="keywordflow">for</span>( x = 0; x &lt; iMax; x++ )
<a name="l02026"></a>02026       {
<a name="l02027"></a>02027             iIndex = pbArray[ x ];
<a name="l02028"></a>02028             <span class="keywordflow">if</span>( iIndex == <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#e2ee468828615ecf563e7a5e799ef59b">bBodyType</a> )
<a name="l02029"></a>02029                   <span class="keywordflow">break</span>;
<a name="l02030"></a>02030       }
<a name="l02031"></a>02031       Assert( iIndex == <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#e2ee468828615ecf563e7a5e799ef59b">bBodyType</a> );
<a name="l02032"></a>02032       <span class="comment">//now we have a match, so go to the next element (depending on offset value)</span>
<a name="l02033"></a>02033       x += bOffset;
<a name="l02034"></a>02034       <span class="keywordflow">if</span>( x &gt;= iMax )
<a name="l02035"></a>02035             x = 0;
<a name="l02036"></a>02036       <span class="keywordflow">else</span> <span class="keywordflow">if</span>( x &lt; 0 )
<a name="l02037"></a>02037             x = iMax-1;
<a name="l02038"></a>02038       iIndex = pbArray[ x ];
<a name="l02039"></a>02039       <span class="comment">//Set the new bodytype into the and update the soldier info</span>
<a name="l02040"></a>02040       <span class="keywordflow">if</span>( iIndex != -1 )
<a name="l02041"></a>02041       {
<a name="l02042"></a>02042             <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#b082364eed3d7883662f69e1fd96be1a">ubBodyType</a> = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)iIndex;
<a name="l02043"></a>02043             <span class="comment">//Set the flags based on the bodytype</span>
<a name="l02044"></a>02044             <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#eb633099940bc20ff5a969bce84eab42">uiStatusFlags</a> &amp;= ~(SOLDIER_VEHICLE | SOLDIER_ROBOT | SOLDIER_ANIMAL | SOLDIER_MONSTER);
<a name="l02045"></a>02045             <span class="keywordflow">switch</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#b082364eed3d7883662f69e1fd96be1a">ubBodyType</a> )
<a name="l02046"></a>02046             {
<a name="l02047"></a>02047                   <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a78e8f2de8ab141e991ee2b34ebb1dfda1">ADULTFEMALEMONSTER</a>:
<a name="l02048"></a>02048                   <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a79dec21a470d88f8b8a8704cb9b5ac827">AM_MONSTER</a>:
<a name="l02049"></a>02049                   <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a75f60be3c60e156d8cec34802d7f3607b">YAF_MONSTER</a>:
<a name="l02050"></a>02050                   <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a725460f03079c143c4456f779763fa23b">YAM_MONSTER</a>:
<a name="l02051"></a>02051                   <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a7c6b7363ef12dbe5ad2377613a3d33db9">LARVAE_MONSTER</a>:
<a name="l02052"></a>02052                   <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a7e687bcc336b8be3ac4aac1346046d095">INFANT_MONSTER</a>:
<a name="l02053"></a>02053                   <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a75f327a7c32f4f979f42e8d6f6adbf587">QUEENMONSTER</a>:
<a name="l02054"></a>02054                         <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#eb633099940bc20ff5a969bce84eab42">uiStatusFlags</a> |= SOLDIER_MONSTER;
<a name="l02055"></a>02055                         <span class="keywordflow">break</span>;
<a name="l02056"></a>02056                   <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a7fa470b7d78ba43f21bfd04c49f02a70b">BLOODCAT</a>:
<a name="l02057"></a>02057                   <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a748505ba252c1ec37e34d882e6f4a3ecf">COW</a>:
<a name="l02058"></a>02058                   <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a7143fbbb5aa867c244f7cf6a230545002">CROW</a>:
<a name="l02059"></a>02059                         <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#eb633099940bc20ff5a969bce84eab42">uiStatusFlags</a> |= SOLDIER_ANIMAL;
<a name="l02060"></a>02060                         <span class="keywordflow">break</span>;
<a name="l02061"></a>02061                   <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a7ecd13f015271b5b87d3e53037a5011bb">ROBOTNOWEAPON</a>:
<a name="l02062"></a>02062                         <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#eb633099940bc20ff5a969bce84eab42">uiStatusFlags</a> |= SOLDIER_ROBOT;
<a name="l02063"></a>02063                         <span class="keywordflow">break</span>;
<a name="l02064"></a>02064                   <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a76af8c23138db907d1a486cd724a86f5b">HUMVEE</a>:
<a name="l02065"></a>02065                   <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a75f90b299525bc0859c82cf015baba03a">ELDORADO</a>:
<a name="l02066"></a>02066                   <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a754252ec441c8e71f72eb60e34320e0c7">ICECREAMTRUCK</a>:
<a name="l02067"></a>02067                   <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a795ca3a8c0c3270bc4d68f7b04553eaef">JEEP</a>:
<a name="l02068"></a>02068                   <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a708ba6f8fd9cf7e71998af76cccab9209">TANK_NW</a>:
<a name="l02069"></a>02069                   <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a774887c6043843fcb84d7e6b341257354">TANK_NE</a>:
<a name="l02070"></a>02070                         <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#eb633099940bc20ff5a969bce84eab42">uiStatusFlags</a> |= SOLDIER_VEHICLE;
<a name="l02071"></a>02071                         <span class="keywordflow">break</span>;
<a name="l02072"></a>02072             }
<a name="l02073"></a>02073             <a class="code" href="Animation_01Control_8cpp.html#e1c891c50668a158b16528d356ea6c37">SetSoldierAnimationSurface</a>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>, <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#1f73b62a5ea0dd26fa1bec1d9f522b41">usAnimState</a> );
<a name="l02074"></a>02074       }
<a name="l02075"></a>02075       <span class="comment">//Update the placement's info as well.</span>
<a name="l02076"></a>02076       <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#e2ee468828615ecf563e7a5e799ef59b">bBodyType</a> = (<a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>)iIndex;
<a name="l02077"></a>02077       <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> )
<a name="l02078"></a>02078       {
<a name="l02079"></a>02079             <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#1d351f2d5d9f2786c4afb5333ab0ceee">bBodyType</a> = (<a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>)iIndex;
<a name="l02080"></a>02080       }
<a name="l02081"></a>02081       <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#74a40a8aaf3efe840cdaf6be62556d82">bTeam</a> == CREATURE_TEAM )
<a name="l02082"></a>02082       {
<a name="l02083"></a>02083             <a class="code" href="EditorMercs_8cpp.html#d11c1bf8e2d6cd2aebd500ea2978de21">gbCurrCreature</a> = (<a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>)iIndex;
<a name="l02084"></a>02084             <a class="code" href="Inventory_01Choosing_8cpp.html#3720751e9cfe901bea91c7c5efeefcce">AssignCreatureInventory</a>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a> );
<a name="l02085"></a>02085       }
<a name="l02086"></a>02086       <a class="code" href="Soldier_01Control_8cpp.html#11353b21428c34b57d2cfb3ed2963588">CreateSoldierPalettes</a>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a> );
<a name="l02087"></a>02087 }
<a name="l02088"></a>02088 
<a name="l02089"></a><a class="code" href="EditorMercs_8h.html#7285a04378969f0b7c4d52d25502c4b6">02089</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#7285a04378969f0b7c4d52d25502c4b6">SetMercEditability</a>( <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> fEditable )
<a name="l02090"></a>02090 {
<a name="l02091"></a>02091       <a class="code" href="EditorMercs_8cpp.html#2411d22b871f9aaa6b8596afc913c909">gfRenderMercInfo</a> = TRUE;
<a name="l02092"></a>02092       <span class="keywordflow">if</span>( fEditable == <a class="code" href="EditorMercs_8cpp.html#2f7af5c422377e3f1100cc761a5805f0">gfCanEditMercs</a> )
<a name="l02093"></a>02093             <span class="keywordflow">return</span>;
<a name="l02094"></a>02094       <a class="code" href="EditorMercs_8cpp.html#2f7af5c422377e3f1100cc761a5805f0">gfCanEditMercs</a> = fEditable;
<a name="l02095"></a>02095       <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#2f7af5c422377e3f1100cc761a5805f0">gfCanEditMercs</a> )
<a name="l02096"></a>02096       { <span class="comment">//enable buttons to allow editing</span>
<a name="l02097"></a>02097             <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#ffd3302fd9ab9992dc9032f6b536aaf3">EnableEditorButtons</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b542f2f15e59a5e87932558eba327a1142">MERCS_EQUIPMENT_BAD</a>, <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b559d0a6aba82d0b8631745ce03f63e2b5">MERCS_ATTRIBUTES_GREAT</a> );
<a name="l02098"></a>02098             <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#ffd3302fd9ab9992dc9032f6b536aaf3">EnableEditorButtons</a>( FIRST_MERCS_COLORMODE_BUTTON, LAST_MERCS_COLORMODE_BUTTON );
<a name="l02099"></a>02099             <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> &amp;&amp; <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> &amp;&amp; !<a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#1e4eaba07de6a26b8c4c7d0ce1c231e2">fVisible</a> )
<a name="l02100"></a>02100                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#c2d8423a9e42d8e85e60c3317048c3cc">UnclickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5af54728e0adfb8bbcf531a682d018439">MERCS_TOGGLECOLOR_BUTTON</a> );
<a name="l02101"></a>02101             <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#68c280e02c75d16b26efc3a79a117fed">EnableEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b56581985bc9254f5991d0bd1edbe4e916">MERCS_PRIORITYEXISTANCE_CHECKBOX</a> );
<a name="l02102"></a>02102             <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#68c280e02c75d16b26efc3a79a117fed">EnableEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5438d15aa628496ddc29b265083f028bf">MERCS_CIVILIAN_GROUP</a> );
<a name="l02103"></a>02103       }
<a name="l02104"></a>02104       <span class="keywordflow">else</span>
<a name="l02105"></a>02105       { <span class="comment">//disable buttons to prevent editing</span>
<a name="l02106"></a>02106             <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#f8c352d03f30207ed74e324ef1afa7dc">DisableEditorButtons</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b542f2f15e59a5e87932558eba327a1142">MERCS_EQUIPMENT_BAD</a>, <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b559d0a6aba82d0b8631745ce03f63e2b5">MERCS_ATTRIBUTES_GREAT</a> );
<a name="l02107"></a>02107             <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#f8c352d03f30207ed74e324ef1afa7dc">DisableEditorButtons</a>( FIRST_MERCS_COLORMODE_BUTTON, LAST_MERCS_COLORMODE_BUTTON );
<a name="l02108"></a>02108             <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#85a4bb808c9aa3741d423bcf6efcb7b0">ClickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5af54728e0adfb8bbcf531a682d018439">MERCS_TOGGLECOLOR_BUTTON</a> );
<a name="l02109"></a>02109             <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#46dcbdf5e61703a2e880790c755592c7">DisableEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b56581985bc9254f5991d0bd1edbe4e916">MERCS_PRIORITYEXISTANCE_CHECKBOX</a> );
<a name="l02110"></a>02110             <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#46dcbdf5e61703a2e880790c755592c7">DisableEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5438d15aa628496ddc29b265083f028bf">MERCS_CIVILIAN_GROUP</a> );
<a name="l02111"></a>02111       }     
<a name="l02112"></a>02112 }
<a name="l02113"></a>02113 
<a name="l02114"></a>02114 
<a name="l02115"></a>02115 <span class="comment">//There are 4 exclusive entry points in a map.  Only one of each type can exist on a </span>
<a name="l02116"></a>02116 <span class="comment">//map, and these points are used to validate the map by attempting to connect the four</span>
<a name="l02117"></a>02117 <span class="comment">//points together.  If one of the points is isolated, then the map will be rejected.  It</span>
<a name="l02118"></a>02118 <span class="comment">//isn't necessary to specify all four points.  You wouldn't want to specify a north point if</span>
<a name="l02119"></a>02119 <span class="comment">//there isn't going to be any traversing to adjacent maps from that side.</span>
<a name="l02120"></a><a class="code" href="EditorMercs_8h.html#b501401d0b288193bd1c17673312340f">02120</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#b501401d0b288193bd1c17673312340f">SpecifyEntryPoint</a>( <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a> <a class="code" href="editscreen_8cpp.html#48f31659f64cd18c814b1612166c50b5">iMapIndex</a> )
<a name="l02121"></a>02121 {
<a name="l02122"></a>02122       <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> *psEntryGridNo;
<a name="l02123"></a>02123       <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> fErasing = FALSE;
<a name="l02124"></a>02124       <span class="keywordflow">if</span>( <a class="code" href="EditorDefines_8h.html#afbeb36e0996e51d4002709ddf9b3155">iDrawMode</a> &gt;= <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b940388946f975f3a41b9b8da5a86794b08258b">DRAW_MODE_ERASE</a> )
<a name="l02125"></a>02125       {
<a name="l02126"></a>02126             <a class="code" href="EditorDefines_8h.html#afbeb36e0996e51d4002709ddf9b3155">iDrawMode</a> -= <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b940388946f975f3a41b9b8da5a86794b08258b">DRAW_MODE_ERASE</a>;
<a name="l02127"></a>02127             fErasing = TRUE;
<a name="l02128"></a>02128       }
<a name="l02129"></a>02129       <span class="keywordflow">switch</span>( <a class="code" href="EditorDefines_8h.html#afbeb36e0996e51d4002709ddf9b3155">iDrawMode</a> )
<a name="l02130"></a>02130       {
<a name="l02131"></a>02131             <span class="keywordflow">case</span> <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b940388cfe618e163b650bcecdbecad6394814b">DRAW_MODE_NORTHPOINT</a>:          psEntryGridNo = &amp;<a class="code" href="Map_01Information_8cpp.html#9092e81f9a27bc1c300962e835ee7f22">gMapInformation</a>.<a class="code" href="structMAPCREATE__STRUCT.html#c67d26651fbd1ea3d481bca69f1e7d0e">sNorthGridNo</a>;        <span class="keywordflow">break</span>;
<a name="l02132"></a>02132             <span class="keywordflow">case</span> <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b94038870681e71c1ead9536661be6ca78fe97a">DRAW_MODE_WESTPOINT</a>:                 psEntryGridNo = &amp;<a class="code" href="Map_01Information_8cpp.html#9092e81f9a27bc1c300962e835ee7f22">gMapInformation</a>.<a class="code" href="structMAPCREATE__STRUCT.html#f1636b99e5e9b6e9e71e4b122dc39cf4">sWestGridNo</a>;               <span class="keywordflow">break</span>;
<a name="l02133"></a>02133             <span class="keywordflow">case</span> <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b94038833ba6280fc26976efb982599934c53db">DRAW_MODE_EASTPOINT</a>:                 psEntryGridNo = &amp;<a class="code" href="Map_01Information_8cpp.html#9092e81f9a27bc1c300962e835ee7f22">gMapInformation</a>.<a class="code" href="structMAPCREATE__STRUCT.html#a3756a1078687c553871ad10465aa5fe">sEastGridNo</a>;               <span class="keywordflow">break</span>;
<a name="l02134"></a>02134             <span class="keywordflow">case</span> <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b940388985bd5dff1facd3889f62e5d8ae8d88a">DRAW_MODE_SOUTHPOINT</a>:          psEntryGridNo = &amp;<a class="code" href="Map_01Information_8cpp.html#9092e81f9a27bc1c300962e835ee7f22">gMapInformation</a>.<a class="code" href="structMAPCREATE__STRUCT.html#6d2697a951899a5b38fa30393ec831f6">sSouthGridNo</a>;        <span class="keywordflow">break</span>;
<a name="l02135"></a>02135             <span class="keywordflow">case</span> <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b940388135ee3035d086c4b3ff30605e46dc4e3">DRAW_MODE_CENTERPOINT</a>:         psEntryGridNo = &amp;<a class="code" href="Map_01Information_8cpp.html#9092e81f9a27bc1c300962e835ee7f22">gMapInformation</a>.<a class="code" href="structMAPCREATE__STRUCT.html#6a007bef504e146fbdc2f94a5f093a3c">sCenterGridNo</a>;       <span class="keywordflow">break</span>;
<a name="l02136"></a>02136             <span class="keywordflow">case</span> <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b94038865c5e3a4bdc5f20740bfd21dd1e42b53">DRAW_MODE_ISOLATEDPOINT</a>: psEntryGridNo = &amp;<a class="code" href="Map_01Information_8cpp.html#9092e81f9a27bc1c300962e835ee7f22">gMapInformation</a>.<a class="code" href="structMAPCREATE__STRUCT.html#32f261aa963220b4e112971a79670863">sIsolatedGridNo</a>;     <span class="keywordflow">break</span>;
<a name="l02137"></a>02137             <span class="keywordflow">default</span>:                                                                                                                                                                                                                      <span class="keywordflow">return</span>;
<a name="l02138"></a>02138       }
<a name="l02139"></a>02139       <span class="keywordflow">if</span>( !fErasing )
<a name="l02140"></a>02140       {
<a name="l02141"></a>02141             <span class="keywordflow">if</span>( *psEntryGridNo &gt;= 0 )
<a name="l02142"></a>02142             {
<a name="l02143"></a>02143                   <a class="code" href="Editor_01Undo_8cpp.html#9b2fd306128d272a5745c07ff45478cc">AddToUndoList</a>( *psEntryGridNo );
<a name="l02144"></a>02144                   <a class="code" href="worldman_8cpp.html#7ce933e703b39ac61c59c955013bedb1">RemoveAllTopmostsOfTypeRange</a>( *psEntryGridNo, <a class="code" href="TileDat_8h.html#6a650646c036f06b5166f92a83f79748c0b590a4f043aa356f6825c28590bf7d">FIRSTPOINTERS</a>, <a class="code" href="TileDat_8h.html#6a650646c036f06b5166f92a83f79748c0b590a4f043aa356f6825c28590bf7d">FIRSTPOINTERS</a> );
<a name="l02145"></a>02145             }
<a name="l02146"></a>02146             *psEntryGridNo = (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)iMapIndex;
<a name="l02147"></a>02147             <a class="code" href="Map_01Information_8cpp.html#1c68313e4b497ab3565eca97b73d3132">ValidateEntryPointGridNo</a>( psEntryGridNo );
<a name="l02148"></a>02148             <a class="code" href="Editor_01Undo_8cpp.html#9b2fd306128d272a5745c07ff45478cc">AddToUndoList</a>( *psEntryGridNo );
<a name="l02149"></a>02149             <a class="code" href="worldman_8cpp.html#49eaa507c22050bfea2ecbd8a80be27b">AddTopmostToTail</a>( *psEntryGridNo, <a class="code" href="TileDat_8h.html#3626eb77a4f637f63497920a218cf0e2af9a569ceffddc5f9cbddacb727f20bb">FIRSTPOINTERS2</a> );
<a name="l02150"></a>02150       }
<a name="l02151"></a>02151       <span class="keywordflow">else</span>
<a name="l02152"></a>02152       {
<a name="l02153"></a>02153             <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usDummy;
<a name="l02154"></a>02154             <span class="keywordflow">if</span>( <a class="code" href="worldman_8cpp.html#724b7ebf282ab5982636ca1a9027cbc6">TypeExistsInTopmostLayer</a>( iMapIndex, <a class="code" href="TileDat_8h.html#6a650646c036f06b5166f92a83f79748c0b590a4f043aa356f6825c28590bf7d">FIRSTPOINTERS</a>, &amp;usDummy ) )
<a name="l02155"></a>02155             {
<a name="l02156"></a>02156                   <a class="code" href="Editor_01Undo_8cpp.html#9b2fd306128d272a5745c07ff45478cc">AddToUndoList</a>( iMapIndex );
<a name="l02157"></a>02157                   <a class="code" href="worldman_8cpp.html#7ce933e703b39ac61c59c955013bedb1">RemoveAllTopmostsOfTypeRange</a>( iMapIndex, <a class="code" href="TileDat_8h.html#6a650646c036f06b5166f92a83f79748c0b590a4f043aa356f6825c28590bf7d">FIRSTPOINTERS</a>, <a class="code" href="TileDat_8h.html#6a650646c036f06b5166f92a83f79748c0b590a4f043aa356f6825c28590bf7d">FIRSTPOINTERS</a> );
<a name="l02158"></a>02158                   *psEntryGridNo = -1;
<a name="l02159"></a>02159             }
<a name="l02160"></a>02160             <span class="comment">//restore the drawmode</span>
<a name="l02161"></a>02161             <a class="code" href="EditorDefines_8h.html#afbeb36e0996e51d4002709ddf9b3155">iDrawMode</a> += <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b940388946f975f3a41b9b8da5a86794b08258b">DRAW_MODE_ERASE</a>;
<a name="l02162"></a>02162       }
<a name="l02163"></a>02163 }
<a name="l02164"></a>02164 
<a name="l02165"></a><a class="code" href="EditorMercs_8h.html#8cd393f580ec7aab7177382c4d2c6984">02165</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#8cd393f580ec7aab7177382c4d2c6984">SetMercEditingMode</a>( <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubNewMode )
<a name="l02166"></a>02166 {
<a name="l02167"></a>02167       <span class="comment">//We need to update the taskbar for the buttons that were erased.</span>
<a name="l02168"></a>02168       <a class="code" href="EditorDefines_8h.html#3a8478611d591d976e9e594885e1811a">gfRenderTaskbar</a> = TRUE;
<a name="l02169"></a>02169 
<a name="l02170"></a>02170       <span class="comment">//set up the new mode values.</span>
<a name="l02171"></a>02171       <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#60bc6cddda8166a782f69d3899ae0803">gubCurrMercMode</a> &gt;= <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4df6a1f80107b74c70ab558b4d41e5a269">MERC_GENERALMODE</a> )
<a name="l02172"></a>02172             <a class="code" href="EditorMercs_8cpp.html#9f111865b1097d9afcc2ca25cf3d9bce">gubLastDetailedMercMode</a> = <a class="code" href="EditorMercs_8cpp.html#60bc6cddda8166a782f69d3899ae0803">gubCurrMercMode</a>;
<a name="l02173"></a>02173 
<a name="l02174"></a>02174       <span class="comment">//Depending on the mode we were just in, we may want to extract and update the</span>
<a name="l02175"></a>02175       <span class="comment">//merc first.  Then we change modes...</span>
<a name="l02176"></a>02176       <a class="code" href="EditorMercs_8cpp.html#a5a3a296fb3364d8188b97992f56da49">ExtractCurrentMercModeInfo</a>( TRUE );
<a name="l02177"></a>02177       
<a name="l02178"></a>02178       <span class="comment">//Change modes now.</span>
<a name="l02179"></a>02179       <a class="code" href="EditorMercs_8cpp.html#a21bd683566f910835c788ce1e742338">gubPrevMercMode</a> = <a class="code" href="EditorMercs_8cpp.html#60bc6cddda8166a782f69d3899ae0803">gubCurrMercMode</a>;
<a name="l02180"></a>02180       <a class="code" href="EditorMercs_8cpp.html#60bc6cddda8166a782f69d3899ae0803">gubCurrMercMode</a> = ubNewMode;
<a name="l02181"></a>02181 
<a name="l02182"></a>02182       <span class="comment">//Hide all of the merc buttons except the team buttons which are static.</span>
<a name="l02183"></a>02183       <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#31eb179427949e70cfdc29235183779b">HideEditorButtons</a>( FIRST_MERCS_BASICMODE_BUTTON, <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5e2f4da8205a999aa13736d9fd1b0288d">LAST_MERCS_BUTTON</a> );
<a name="l02184"></a>02184 
<a name="l02185"></a>02185       <span class="keywordflow">switch</span>( <a class="code" href="EditorMercs_8cpp.html#a21bd683566f910835c788ce1e742338">gubPrevMercMode</a> )
<a name="l02186"></a>02186       {
<a name="l02187"></a>02187             <span class="keywordflow">case</span> <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4d12c78c9b4d19e3d90268d70e3a1f2869">MERC_GETITEMMODE</a>:
<a name="l02188"></a>02188                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#ffd3302fd9ab9992dc9032f6b536aaf3">EnableEditorButtons</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5762fac8df24f622d76b91f21322a9078">TAB_TERRAIN</a>, <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5196a9bfbd70214428f2c213a2eb578d6">TAB_OPTIONS</a> );
<a name="l02189"></a>02189                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#31eb179427949e70cfdc29235183779b">HideEditorButtons</a>( FIRST_MERCS_GETITEM_BUTTON, LAST_MERCS_GETITEM_BUTTON );
<a name="l02190"></a>02190                   <a class="code" href="EditorMercs_8cpp.html#29a0f30cc20ae3da81c1929eeb261141">AddNewItemToSelectedMercsInventory</a>( TRUE );
<a name="l02191"></a>02191                   <span class="keywordflow">break</span>;
<a name="l02192"></a>02192             <span class="keywordflow">case</span> <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4d1c1120cd7ad9ec691fab0a247d09e869">MERC_INVENTORYMODE</a>:
<a name="l02193"></a>02193                   <a class="code" href="Item_01Statistics_8cpp.html#67bb16831838d1fc63d06fb6dea9201e">HideItemStatsPanel</a>();
<a name="l02194"></a>02194                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#6853fe8e5ce5d18290d86f1d47862fb4">DisableEditorRegion</a>( <a class="code" href="Editor_01Taskbar_01Utils_8h.html#61dadd085c1777f559549e05962b2c9e125a478dbadf2336405ea0f60ca98259">MERC_REGION_ID</a> );
<a name="l02195"></a>02195                   <span class="keywordflow">break</span>;
<a name="l02196"></a>02196             <span class="keywordflow">case</span> <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4df6a1f80107b74c70ab558b4d41e5a269">MERC_GENERALMODE</a>:
<a name="l02197"></a>02197                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#68c280e02c75d16b26efc3a79a117fed">EnableEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5048736987c2081cbe6f7c1c779288da0">MERCS_APPEARANCE</a> );
<a name="l02198"></a>02198                   <span class="keywordflow">break</span>;
<a name="l02199"></a>02199             <span class="keywordflow">case</span> <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4dfc5362f856b3f5e32545c6d922e4a1f3">MERC_SCHEDULEMODE</a>:
<a name="l02200"></a>02200                   <span class="comment">//ClearCurrentSchedule();</span>
<a name="l02201"></a>02201                   <span class="keywordflow">break</span>;
<a name="l02202"></a>02202       }
<a name="l02203"></a>02203       
<a name="l02204"></a>02204       <span class="comment">//If we leave the merc tab, then we want to update editable fields such as</span>
<a name="l02205"></a>02205       <span class="comment">//attributes, which was just handled above, then turn everything off, and exit.</span>
<a name="l02206"></a>02206       <span class="keywordflow">if</span>( ubNewMode == <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4da0f22b9326112543b6e624e369ed466f">MERC_NOMODE</a> )
<a name="l02207"></a>02207       {
<a name="l02208"></a>02208             <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#31eb179427949e70cfdc29235183779b">HideEditorButtons</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5de00e80f110d0877bd350232313d4a18">FIRST_MERCS_BUTTON</a>, LAST_MERCS_TEAMMODE_BUTTON );
<a name="l02209"></a>02209             <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#31eb179427949e70cfdc29235183779b">HideEditorButtons</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b521a634d897bd2669f7b90a621e4658b6">MERCS_SCHEDULE</a>, <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b524797bae420556561d923b7e9413bfe4">MERCS_GLOWSCHEDULE</a> );
<a name="l02210"></a>02210             <span class="keywordflow">return</span>;
<a name="l02211"></a>02211       }
<a name="l02212"></a>02212       <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#a21bd683566f910835c788ce1e742338">gubPrevMercMode</a> == <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4da0f22b9326112543b6e624e369ed466f">MERC_NOMODE</a> || <a class="code" href="EditorMercs_8cpp.html#a21bd683566f910835c788ce1e742338">gubPrevMercMode</a> == <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4d12c78c9b4d19e3d90268d70e3a1f2869">MERC_GETITEMMODE</a> )
<a name="l02213"></a>02213       {
<a name="l02214"></a>02214             <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#3689470286fe0806a91096deb9757a00">ShowEditorButtons</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5de00e80f110d0877bd350232313d4a18">FIRST_MERCS_BUTTON</a>, LAST_MERCS_TEAMMODE_BUTTON );
<a name="l02215"></a>02215       }
<a name="l02216"></a>02216       
<a name="l02217"></a>02217       <span class="comment">//Release the currently selected merc if you just selected a new team.</span>
<a name="l02218"></a>02218       <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#97092775cdf98eec280dbb127c7f8523">gsSelectedMercID</a> != -1 &amp;&amp; ubNewMode == <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4ded05397cb5e55ba364040c8409051427">MERC_TEAMMODE</a> )
<a name="l02219"></a>02219       {
<a name="l02220"></a>02220             <span class="comment">//attempt to weed out conditions where we select a team that matches the currently</span>
<a name="l02221"></a>02221             <span class="comment">//selected merc.  We don't want to deselect him in this case.</span>
<a name="l02222"></a>02222             <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#74a40a8aaf3efe840cdaf6be62556d82">bTeam</a> == ENEMY_TEAM &amp;&amp; <a class="code" href="EditorDefines_8h.html#afbeb36e0996e51d4002709ddf9b3155">iDrawMode</a> == <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b9403881f99fcda5f7ceb6101a94be4c21bd098">DRAW_MODE_ENEMY</a> ||
<a name="l02223"></a>02223                         <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#74a40a8aaf3efe840cdaf6be62556d82">bTeam</a> == CREATURE_TEAM &amp;&amp; <a class="code" href="EditorDefines_8h.html#afbeb36e0996e51d4002709ddf9b3155">iDrawMode</a> == <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b9403887047a6a6c1216b138a0953302334abaa">DRAW_MODE_CREATURE</a> ||
<a name="l02224"></a>02224                         <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#74a40a8aaf3efe840cdaf6be62556d82">bTeam</a> == MILITIA_TEAM &amp;&amp; <a class="code" href="EditorDefines_8h.html#afbeb36e0996e51d4002709ddf9b3155">iDrawMode</a> == <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b940388be3b49d2eabfea3723718b8b57715097">DRAW_MODE_REBEL</a> ||
<a name="l02225"></a>02225                         <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#74a40a8aaf3efe840cdaf6be62556d82">bTeam</a> == CIV_TEAM &amp;&amp; <a class="code" href="EditorDefines_8h.html#afbeb36e0996e51d4002709ddf9b3155">iDrawMode</a> == <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b940388dcfb5a1e1ac625bfe0ebeeeed6f9dbb9">DRAW_MODE_CIVILIAN</a> )
<a name="l02226"></a>02226             {     <span class="comment">//Same team, so don't deselect merc.  Instead, keep the previous editing mode</span>
<a name="l02227"></a>02227                   <span class="comment">//because we are still editing this merc.</span>
<a name="l02228"></a>02228                   <a class="code" href="EditorMercs_8cpp.html#60bc6cddda8166a782f69d3899ae0803">gubCurrMercMode</a> = <a class="code" href="EditorMercs_8cpp.html#a21bd683566f910835c788ce1e742338">gubPrevMercMode</a>;
<a name="l02229"></a>02229                   <span class="comment">//if we don't have a detailed placement, auto set to basic mode.</span>
<a name="l02230"></a>02230                   <span class="keywordflow">if</span>( !<a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> )
<a name="l02231"></a>02231                         <a class="code" href="EditorMercs_8cpp.html#60bc6cddda8166a782f69d3899ae0803">gubCurrMercMode</a> = <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4dfee679b1fd37287a0fd4c414d307e69a">MERC_BASICMODE</a>;
<a name="l02232"></a>02232             }
<a name="l02233"></a>02233             <span class="keywordflow">else</span>
<a name="l02234"></a>02234             {
<a name="l02235"></a>02235                   <span class="comment">//Different teams, so deselect the current merc and the detailed checkbox if applicable.</span>
<a name="l02236"></a>02236                   <a class="code" href="EditorMercs_8cpp.html#f298a8dfcc8c9b0580cc56c7cbd3b27d">IndicateSelectedMerc</a>( <a class="code" href="EditorMercs_8h.html#ac2e5fef5c3189d63a52aa8fdbcd136da386c8cf80ff330abc2b40bc89c45cd5">SELECT_NO_MERC</a> );
<a name="l02237"></a>02237                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#3689470286fe0806a91096deb9757a00">ShowEditorButtons</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5de00e80f110d0877bd350232313d4a18">FIRST_MERCS_BUTTON</a>, LAST_MERCS_TEAMMODE_BUTTON );
<a name="l02238"></a>02238                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#c2d8423a9e42d8e85e60c3317048c3cc">UnclickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b56fd2bb155757749c8e9247d589dc5fbf">MERCS_DETAILEDCHECKBOX</a> );
<a name="l02239"></a>02239             }
<a name="l02240"></a>02240       }
<a name="l02241"></a>02241 
<a name="l02242"></a>02242       <a class="code" href="Button_01System_8cpp.html#d6990e9195d7f7a046bd0978baf68b50">ShowButton</a>( <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[ <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b50fe6075b70e9209235d8a3469449c5b7">MERCS_NEXT</a> ] );
<a name="l02243"></a>02243       <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#97092775cdf98eec280dbb127c7f8523">gsSelectedMercID</a> != -1 )
<a name="l02244"></a>02244             <a class="code" href="Button_01System_8cpp.html#d6990e9195d7f7a046bd0978baf68b50">ShowButton</a>( <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[ <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b53411a116d98d74d4e1bb057f198627ac">MERCS_DELETE</a> ] );
<a name="l02245"></a>02245 
<a name="l02246"></a>02246       <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#60bc6cddda8166a782f69d3899ae0803">gubCurrMercMode</a> &gt; <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4ded05397cb5e55ba364040c8409051427">MERC_TEAMMODE</a> )
<a name="l02247"></a>02247       {     <span class="comment">//Add the basic buttons if applicable.</span>
<a name="l02248"></a>02248             <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#3689470286fe0806a91096deb9757a00">ShowEditorButtons</a>( FIRST_MERCS_BASICMODE_BUTTON, LAST_MERCS_BASICMODE_BUTTON );
<a name="l02249"></a>02249       }
<a name="l02250"></a>02250       <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#60bc6cddda8166a782f69d3899ae0803">gubCurrMercMode</a> &gt; <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4dfee679b1fd37287a0fd4c414d307e69a">MERC_BASICMODE</a> )
<a name="l02251"></a>02251       { <span class="comment">//Add the detailed buttons if applicable.</span>
<a name="l02252"></a>02252             <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#85a4bb808c9aa3741d423bcf6efcb7b0">ClickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b56fd2bb155757749c8e9247d589dc5fbf">MERCS_DETAILEDCHECKBOX</a> );
<a name="l02253"></a>02253             <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#3689470286fe0806a91096deb9757a00">ShowEditorButtons</a>( FIRST_MERCS_PRIORITYMODE_BUTTON, LAST_MERCS_PRIORITYMODE_BUTTON );
<a name="l02254"></a>02254       }
<a name="l02255"></a>02255       <span class="keywordflow">else</span>
<a name="l02256"></a>02256             <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#c2d8423a9e42d8e85e60c3317048c3cc">UnclickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b56fd2bb155757749c8e9247d589dc5fbf">MERCS_DETAILEDCHECKBOX</a> );
<a name="l02257"></a>02257       <span class="comment">//Now we are setting up the button states for the new mode, as well as show the </span>
<a name="l02258"></a>02258       <span class="comment">//applicable buttons for the detailed placement modes.</span>
<a name="l02259"></a>02259       <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#60bc6cddda8166a782f69d3899ae0803">gubCurrMercMode</a> == <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4d1269b47a8352551aa390f58cec8b1b7b">MERC_APPEARANCEMODE</a> &amp;&amp; <a class="code" href="EditorDefines_8h.html#afbeb36e0996e51d4002709ddf9b3155">iDrawMode</a> == <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b9403887047a6a6c1216b138a0953302334abaa">DRAW_MODE_CREATURE</a> || 
<a name="l02260"></a>02260                   <a class="code" href="EditorMercs_8cpp.html#60bc6cddda8166a782f69d3899ae0803">gubCurrMercMode</a> == <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4dfc5362f856b3f5e32545c6d922e4a1f3">MERC_SCHEDULEMODE</a> &amp;&amp; <a class="code" href="EditorDefines_8h.html#afbeb36e0996e51d4002709ddf9b3155">iDrawMode</a> != <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b940388dcfb5a1e1ac625bfe0ebeeeed6f9dbb9">DRAW_MODE_CIVILIAN</a> )
<a name="l02261"></a>02261       {
<a name="l02262"></a>02262             <a class="code" href="EditorMercs_8cpp.html#60bc6cddda8166a782f69d3899ae0803">gubCurrMercMode</a> = <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4df6a1f80107b74c70ab558b4d41e5a269">MERC_GENERALMODE</a>;
<a name="l02263"></a>02263       }
<a name="l02264"></a>02264       <span class="keywordflow">switch</span>( <a class="code" href="EditorMercs_8cpp.html#60bc6cddda8166a782f69d3899ae0803">gubCurrMercMode</a> )
<a name="l02265"></a>02265       {
<a name="l02266"></a>02266             <span class="keywordflow">case</span> <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4d12c78c9b4d19e3d90268d70e3a1f2869">MERC_GETITEMMODE</a>:
<a name="l02267"></a>02267                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#f8c352d03f30207ed74e324ef1afa7dc">DisableEditorButtons</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5762fac8df24f622d76b91f21322a9078">TAB_TERRAIN</a>, <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5196a9bfbd70214428f2c213a2eb578d6">TAB_OPTIONS</a> );
<a name="l02268"></a>02268                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#68c280e02c75d16b26efc3a79a117fed">EnableEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5a40ba102955898784661e310ccfa1bbb">TAB_MERCS</a> );
<a name="l02269"></a>02269                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#31eb179427949e70cfdc29235183779b">HideEditorButtons</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5de00e80f110d0877bd350232313d4a18">FIRST_MERCS_BUTTON</a>, LAST_MERCS_TEAMMODE_BUTTON );
<a name="l02270"></a>02270                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#31eb179427949e70cfdc29235183779b">HideEditorButtons</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b521a634d897bd2669f7b90a621e4658b6">MERCS_SCHEDULE</a>, <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b524797bae420556561d923b7e9413bfe4">MERCS_GLOWSCHEDULE</a> );
<a name="l02271"></a>02271                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#3689470286fe0806a91096deb9757a00">ShowEditorButtons</a>( FIRST_MERCS_GETITEM_BUTTON, LAST_MERCS_GETITEM_BUTTON );
<a name="l02272"></a>02272                   <a class="code" href="EditorItems_8cpp.html#ef64d3a3a3eadbc8a69453e6ee5f0172">InitEditorItemsInfo</a>( <a class="code" href="EditorItems_8cpp.html#18cb39d60cadb3baaf5d0f11a0c1252f">eInfo</a>.<a class="code" href="structEditorItemsInfo.html#2d69ff0f5418d59dd244a6f44637eb06">uiItemType</a> );
<a name="l02273"></a>02273                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#85a4bb808c9aa3741d423bcf6efcb7b0">ClickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b50033abacba1bd0596b0ccbb33f8a41aa">ITEMS_WEAPONS</a> + <a class="code" href="EditorItems_8cpp.html#18cb39d60cadb3baaf5d0f11a0c1252f">eInfo</a>.<a class="code" href="structEditorItemsInfo.html#2d69ff0f5418d59dd244a6f44637eb06">uiItemType</a> - <a class="code" href="EditorDefines_8h.html#0411cd49bb5b71852cecd93bcbf0ca2d1bccdf5e40cc3ede818d7d971f90dde8">TBAR_MODE_ITEM_WEAPONS</a> );
<a name="l02274"></a>02274                   <span class="keywordflow">break</span>;
<a name="l02275"></a>02275             <span class="keywordflow">case</span> <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4d1c1120cd7ad9ec691fab0a247d09e869">MERC_INVENTORYMODE</a>:
<a name="l02276"></a>02276                   <a class="code" href="EditorMercs_8cpp.html#da0ed6affc294644a7cd5a0a0578fa9f">UpdateMercItemSlots</a>();
<a name="l02277"></a>02277                   <a class="code" href="Item_01Statistics_8cpp.html#4115a1a6358d103008b9af81b23b3bdc">ShowItemStatsPanel</a>();
<a name="l02278"></a>02278                   <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#544bd12f560740d96e8c6fb33f308ea3">gbCurrSelect</a> == -1 )
<a name="l02279"></a>02279                         <a class="code" href="Item_01Statistics_8cpp.html#a7cde20c34f6dd22d4a6741140e23bbe">SpecifyItemToEdit</a>( NULL, -1 );
<a name="l02280"></a>02280                   <span class="keywordflow">else</span>
<a name="l02281"></a>02281                         <a class="code" href="Item_01Statistics_8cpp.html#a7cde20c34f6dd22d4a6741140e23bbe">SpecifyItemToEdit</a>( <a class="code" href="EditorMercs_8cpp.html#997f0a46700fb2fcb6fb0e31e4b09059">gpMercSlotItem</a>[ <a class="code" href="EditorMercs_8cpp.html#544bd12f560740d96e8c6fb33f308ea3">gbCurrSelect</a> ], -1 );
<a name="l02282"></a>02282                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#31eb179427949e70cfdc29235183779b">HideEditorButtons</a>( MERCS_DELETE, MERCS_NEXT );
<a name="l02283"></a>02283                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#3689470286fe0806a91096deb9757a00">ShowEditorButtons</a>( FIRST_MERCS_INVENTORY_BUTTON, LAST_MERCS_INVENTORY_BUTTON );
<a name="l02284"></a>02284                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#5128dcb0866f873f1f49f13f5dd9c30d">EnableEditorRegion</a>( <a class="code" href="Editor_01Taskbar_01Utils_8h.html#61dadd085c1777f559549e05962b2c9e125a478dbadf2336405ea0f60ca98259">MERC_REGION_ID</a> );
<a name="l02285"></a>02285                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#70560150a621778b61a3b7e2819e623c">UnclickEditorButtons</a>( FIRST_MERCS_PRIORITYMODE_BUTTON, LAST_MERCS_PRIORITYMODE_BUTTON );
<a name="l02286"></a>02286                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#85a4bb808c9aa3741d423bcf6efcb7b0">ClickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b50ac6da2b27c138f8c3a872f96e693949">MERCS_INVENTORY</a> );
<a name="l02287"></a>02287                   <span class="keywordflow">break</span>;
<a name="l02288"></a>02288             <span class="keywordflow">case</span> <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4dfee679b1fd37287a0fd4c414d307e69a">MERC_BASICMODE</a>:
<a name="l02289"></a>02289                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#3689470286fe0806a91096deb9757a00">ShowEditorButtons</a>( FIRST_MERCS_GENERAL_BUTTON, LAST_MERCS_GENERAL_BUTTON );
<a name="l02290"></a>02290                   <span class="keywordflow">if</span>( <a class="code" href="EditorDefines_8h.html#afbeb36e0996e51d4002709ddf9b3155">iDrawMode</a> == <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b9403887047a6a6c1216b138a0953302334abaa">DRAW_MODE_CREATURE</a> )
<a name="l02291"></a>02291                   { <span class="comment">//Set up alternate general mode.  This one doesn't allow you to specify relative attributes</span>
<a name="l02292"></a>02292                         <span class="comment">//but requires you to specify a body type.</span>
<a name="l02293"></a>02293                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#31eb179427949e70cfdc29235183779b">HideEditorButtons</a>( FIRST_MERCS_REL_EQUIPMENT_BUTTON, LAST_MERCS_REL_EQUIPMENT_BUTTON );
<a name="l02294"></a>02294                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#3689470286fe0806a91096deb9757a00">ShowEditorButtons</a>( FIRST_MERCS_BODYTYPE_BUTTON, LAST_MERCS_BODYTYPE_BUTTON );
<a name="l02295"></a>02295                   }
<a name="l02296"></a>02296                   <span class="keywordflow">if</span>( <a class="code" href="EditorDefines_8h.html#afbeb36e0996e51d4002709ddf9b3155">iDrawMode</a> != <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b9403881f99fcda5f7ceb6101a94be4c21bd098">DRAW_MODE_ENEMY</a> )
<a name="l02297"></a>02297                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#31eb179427949e70cfdc29235183779b">HideEditorButtons</a>( FIRST_MERCS_COLORCODE_BUTTON, LAST_MERCS_COLORCODE_BUTTON );
<a name="l02298"></a>02298                   <span class="keywordflow">if</span>( <a class="code" href="EditorDefines_8h.html#afbeb36e0996e51d4002709ddf9b3155">iDrawMode</a> == <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b940388dcfb5a1e1ac625bfe0ebeeeed6f9dbb9">DRAW_MODE_CIVILIAN</a> )
<a name="l02299"></a>02299                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#2d5bb4a12f3cfb9cc44d0c5181d37640">ShowEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5438d15aa628496ddc29b265083f028bf">MERCS_CIVILIAN_GROUP</a> );
<a name="l02300"></a>02300                   <span class="keywordflow">break</span>;
<a name="l02301"></a>02301             <span class="keywordflow">case</span> <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4df6a1f80107b74c70ab558b4d41e5a269">MERC_GENERALMODE</a>:
<a name="l02302"></a>02302                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#3689470286fe0806a91096deb9757a00">ShowEditorButtons</a>( FIRST_MERCS_GENERAL_BUTTON, LAST_MERCS_GENERAL_BUTTON );
<a name="l02303"></a>02303                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#70560150a621778b61a3b7e2819e623c">UnclickEditorButtons</a>( FIRST_MERCS_PRIORITYMODE_BUTTON, LAST_MERCS_PRIORITYMODE_BUTTON );
<a name="l02304"></a>02304                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#85a4bb808c9aa3741d423bcf6efcb7b0">ClickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5afbb955c4e718cbbd3d4820eeb3ef4d9">MERCS_GENERAL</a> );
<a name="l02305"></a>02305                   <span class="keywordflow">if</span>( <a class="code" href="EditorDefines_8h.html#afbeb36e0996e51d4002709ddf9b3155">iDrawMode</a> == <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b9403887047a6a6c1216b138a0953302334abaa">DRAW_MODE_CREATURE</a> )
<a name="l02306"></a>02306                   { <span class="comment">//Set up alternate general mode.  This one doesn't allow you to specify relative equipment</span>
<a name="l02307"></a>02307                         <span class="comment">//but requires you to specify a body type.</span>
<a name="l02308"></a>02308                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#31eb179427949e70cfdc29235183779b">HideEditorButtons</a>( FIRST_MERCS_REL_EQUIPMENT_BUTTON, LAST_MERCS_REL_EQUIPMENT_BUTTON );
<a name="l02309"></a>02309                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#3689470286fe0806a91096deb9757a00">ShowEditorButtons</a>( FIRST_MERCS_BODYTYPE_BUTTON, LAST_MERCS_BODYTYPE_BUTTON );
<a name="l02310"></a>02310                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#46dcbdf5e61703a2e880790c755592c7">DisableEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5048736987c2081cbe6f7c1c779288da0">MERCS_APPEARANCE</a> );
<a name="l02311"></a>02311                   }
<a name="l02312"></a>02312                   <span class="keywordflow">if</span>( <a class="code" href="EditorDefines_8h.html#afbeb36e0996e51d4002709ddf9b3155">iDrawMode</a> != <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b9403881f99fcda5f7ceb6101a94be4c21bd098">DRAW_MODE_ENEMY</a> )
<a name="l02313"></a>02313                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#31eb179427949e70cfdc29235183779b">HideEditorButtons</a>( FIRST_MERCS_COLORCODE_BUTTON, LAST_MERCS_COLORCODE_BUTTON );
<a name="l02314"></a>02314                   <span class="keywordflow">if</span>( <a class="code" href="EditorDefines_8h.html#afbeb36e0996e51d4002709ddf9b3155">iDrawMode</a> == <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b940388dcfb5a1e1ac625bfe0ebeeeed6f9dbb9">DRAW_MODE_CIVILIAN</a> )
<a name="l02315"></a>02315                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#2d5bb4a12f3cfb9cc44d0c5181d37640">ShowEditorButton</a>( MERCS_CIVILIAN_GROUP );
<a name="l02316"></a>02316                   <span class="keywordflow">break</span>;
<a name="l02317"></a>02317             <span class="keywordflow">case</span> <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4d79be38898c5768611ba7d6c4b308c356">MERC_ATTRIBUTEMODE</a>:
<a name="l02318"></a>02318                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#70560150a621778b61a3b7e2819e623c">UnclickEditorButtons</a>( FIRST_MERCS_PRIORITYMODE_BUTTON, LAST_MERCS_PRIORITYMODE_BUTTON );
<a name="l02319"></a>02319                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#85a4bb808c9aa3741d423bcf6efcb7b0">ClickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5b310810a79448c5932eaf87ebdcd9a7f">MERCS_ATTRIBUTES</a> );
<a name="l02320"></a>02320                   <a class="code" href="EditorMercs_8cpp.html#419513a60a3e23c5ff454cc15b8c57e6">SetupTextInputForMercAttributes</a>();
<a name="l02321"></a>02321                   <span class="keywordflow">break</span>;
<a name="l02322"></a>02322             <span class="keywordflow">case</span> <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4d1269b47a8352551aa390f58cec8b1b7b">MERC_APPEARANCEMODE</a>:
<a name="l02323"></a>02323                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#3689470286fe0806a91096deb9757a00">ShowEditorButtons</a>( FIRST_MERCS_COLORMODE_BUTTON, LAST_MERCS_COLORMODE_BUTTON );
<a name="l02324"></a>02324                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#70560150a621778b61a3b7e2819e623c">UnclickEditorButtons</a>( FIRST_MERCS_PRIORITYMODE_BUTTON, LAST_MERCS_PRIORITYMODE_BUTTON );
<a name="l02325"></a>02325                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#85a4bb808c9aa3741d423bcf6efcb7b0">ClickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5048736987c2081cbe6f7c1c779288da0">MERCS_APPEARANCE</a> );
<a name="l02326"></a>02326                   <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#2f7af5c422377e3f1100cc761a5805f0">gfCanEditMercs</a> &amp;&amp; <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> &amp;&amp; <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> )
<a name="l02327"></a>02327                   {
<a name="l02328"></a>02328                         <span class="keywordflow">if</span>( !<a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#1e4eaba07de6a26b8c4c7d0ce1c231e2">fVisible</a> )
<a name="l02329"></a>02329                         {
<a name="l02330"></a>02330                               <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#c2d8423a9e42d8e85e60c3317048c3cc">UnclickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5af54728e0adfb8bbcf531a682d018439">MERCS_TOGGLECOLOR_BUTTON</a> );
<a name="l02331"></a>02331                               <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#f8c352d03f30207ed74e324ef1afa7dc">DisableEditorButtons</a>( FIRST_MERCS_COLOR_BUTTON, LAST_MERCS_COLOR_BUTTON );
<a name="l02332"></a>02332                         }
<a name="l02333"></a>02333                         <span class="keywordflow">else</span>
<a name="l02334"></a>02334                         {
<a name="l02335"></a>02335                               <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#85a4bb808c9aa3741d423bcf6efcb7b0">ClickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5af54728e0adfb8bbcf531a682d018439">MERCS_TOGGLECOLOR_BUTTON</a> );
<a name="l02336"></a>02336                               <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#ffd3302fd9ab9992dc9032f6b536aaf3">EnableEditorButtons</a>( FIRST_MERCS_COLOR_BUTTON, LAST_MERCS_COLOR_BUTTON );
<a name="l02337"></a>02337                         }
<a name="l02338"></a>02338                   }
<a name="l02339"></a>02339                   <span class="keywordflow">break</span>;
<a name="l02340"></a>02340             <span class="keywordflow">case</span> <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4d109d2b74061257bb85b6de571ee96408">MERC_PROFILEMODE</a>:
<a name="l02341"></a>02341                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#70560150a621778b61a3b7e2819e623c">UnclickEditorButtons</a>( FIRST_MERCS_PRIORITYMODE_BUTTON, LAST_MERCS_PRIORITYMODE_BUTTON );
<a name="l02342"></a>02342                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#85a4bb808c9aa3741d423bcf6efcb7b0">ClickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b509653e1c8c6f3714d3eb2feb08553184">MERCS_PROFILE</a> );
<a name="l02343"></a>02343                   <a class="code" href="EditorMercs_8cpp.html#c8aa6c56654c23e9777c7dc99f34329e">SetupTextInputForMercProfile</a>();
<a name="l02344"></a>02344                   <span class="keywordflow">break</span>;
<a name="l02345"></a>02345             <span class="keywordflow">case</span> <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4dfc5362f856b3f5e32545c6d922e4a1f3">MERC_SCHEDULEMODE</a>:
<a name="l02346"></a>02346                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#3689470286fe0806a91096deb9757a00">ShowEditorButtons</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b55b3f49f5096a6ca2c2f4351a29db4bb8">MERCS_SCHEDULE_ACTION1</a>, <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b52b5b33667584ee0448ef9ca6281aa65c">MERCS_SCHEDULE_VARIANCE4</a> );
<a name="l02347"></a>02347                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#2d5bb4a12f3cfb9cc44d0c5181d37640">ShowEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5a5e8d282f6ece801de4707c426b646f8">MERCS_SCHEDULE_CLEAR</a> );
<a name="l02348"></a>02348                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#70560150a621778b61a3b7e2819e623c">UnclickEditorButtons</a>( FIRST_MERCS_PRIORITYMODE_BUTTON, LAST_MERCS_PRIORITYMODE_BUTTON );
<a name="l02349"></a>02349                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#85a4bb808c9aa3741d423bcf6efcb7b0">ClickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b521a634d897bd2669f7b90a621e4658b6">MERCS_SCHEDULE</a> );
<a name="l02350"></a>02350                   <a class="code" href="EditorMercs_8cpp.html#273566d96232de5c5a0024922b76cdaa">SetupTextInputForMercSchedule</a>();
<a name="l02351"></a>02351                   <a class="code" href="EditorMercs_8cpp.html#89a8b2c7b7d5fe4360c8549d61088175">UpdateScheduleInfo</a>();               
<a name="l02352"></a>02352                   <a class="code" href="EditorMercs_8cpp.html#7d38aec01f8c3081f9c77fd48f784151">DetermineScheduleEditability</a>();
<a name="l02353"></a>02353       }
<a name="l02354"></a>02354       <span class="comment">//Show or hide the schedule buttons</span>
<a name="l02355"></a>02355       <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> &amp;&amp; <a class="code" href="EditorMercs_8cpp.html#60bc6cddda8166a782f69d3899ae0803">gubCurrMercMode</a> != <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4d12c78c9b4d19e3d90268d70e3a1f2869">MERC_GETITEMMODE</a> )
<a name="l02356"></a>02356       {
<a name="l02357"></a>02357             <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> &amp;&amp; <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#8d57132b9da9a691e7dc5693d8d5fe82">ubScheduleID</a> )
<a name="l02358"></a>02358             {
<a name="l02359"></a>02359                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#fc2d8070000e2c718ab6ad15926fd054">HideEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b521a634d897bd2669f7b90a621e4658b6">MERCS_SCHEDULE</a> );
<a name="l02360"></a>02360                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#2d5bb4a12f3cfb9cc44d0c5181d37640">ShowEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b524797bae420556561d923b7e9413bfe4">MERCS_GLOWSCHEDULE</a> );
<a name="l02361"></a>02361             }
<a name="l02362"></a>02362             <span class="keywordflow">else</span>
<a name="l02363"></a>02363             {
<a name="l02364"></a>02364                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#fc2d8070000e2c718ab6ad15926fd054">HideEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b524797bae420556561d923b7e9413bfe4">MERCS_GLOWSCHEDULE</a> );
<a name="l02365"></a>02365                   <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> )
<a name="l02366"></a>02366                   {
<a name="l02367"></a>02367                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#2d5bb4a12f3cfb9cc44d0c5181d37640">ShowEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b521a634d897bd2669f7b90a621e4658b6">MERCS_SCHEDULE</a> );
<a name="l02368"></a>02368                         <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#74a40a8aaf3efe840cdaf6be62556d82">bTeam</a> == CIV_TEAM )
<a name="l02369"></a>02369                               <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#68c280e02c75d16b26efc3a79a117fed">EnableEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b521a634d897bd2669f7b90a621e4658b6">MERCS_SCHEDULE</a> );
<a name="l02370"></a>02370                         <span class="keywordflow">else</span>
<a name="l02371"></a>02371                               <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#46dcbdf5e61703a2e880790c755592c7">DisableEditorButton</a>( MERCS_SCHEDULE );
<a name="l02372"></a>02372                   }
<a name="l02373"></a>02373                   <span class="keywordflow">else</span>
<a name="l02374"></a>02374                   {
<a name="l02375"></a>02375                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#fc2d8070000e2c718ab6ad15926fd054">HideEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b521a634d897bd2669f7b90a621e4658b6">MERCS_SCHEDULE</a> );
<a name="l02376"></a>02376                   }
<a name="l02377"></a>02377             }
<a name="l02378"></a>02378       }
<a name="l02379"></a>02379       <span class="keywordflow">else</span>
<a name="l02380"></a>02380       {
<a name="l02381"></a>02381             <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#31eb179427949e70cfdc29235183779b">HideEditorButtons</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b521a634d897bd2669f7b90a621e4658b6">MERCS_SCHEDULE</a>, <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b524797bae420556561d923b7e9413bfe4">MERCS_GLOWSCHEDULE</a> );
<a name="l02382"></a>02382       }
<a name="l02383"></a>02383 }
<a name="l02384"></a>02384 
<a name="l02385"></a><a class="code" href="EditorMercs_8cpp.html#f145dad7bfec05b909bd30c9478d87cc">02385</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#f145dad7bfec05b909bd30c9478d87cc">DisplayBodyTypeInfo</a>()
<a name="l02386"></a>02386 {
<a name="l02387"></a>02387       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> <a class="code" href="Button_01System_8cpp.html#ac22642f3052cc77a6991a262ce4ad23">str</a>[20];
<a name="l02388"></a>02388       <span class="keywordflow">switch</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#e2ee468828615ecf563e7a5e799ef59b">bBodyType</a> )
<a name="l02389"></a>02389       {
<a name="l02390"></a>02390             <span class="keywordflow">case</span> RANDOM:                                          swprintf( str, L<span class="stringliteral">"Random"</span> );                           <span class="keywordflow">break</span>;
<a name="l02391"></a>02391             <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a788083a907978249a0160b5b1dd9ee4a4">REGMALE</a>:                                         swprintf( str, L<span class="stringliteral">"Reg Male"</span> );                   <span class="keywordflow">break</span>;
<a name="l02392"></a>02392             <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a7e6eac15857ce481c9ed507f7459a3507">BIGMALE</a>:                                         swprintf( str, L<span class="stringliteral">"Big Male"</span> );                   <span class="keywordflow">break</span>;
<a name="l02393"></a>02393             <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a73a7e8d65cd007e97390c6a3ae18062ce">STOCKYMALE</a>:                          swprintf( str, L<span class="stringliteral">"Stocky Male"</span> );          <span class="keywordflow">break</span>;
<a name="l02394"></a>02394             <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a7040d5c40e76c4103ced101507f96e2f6">REGFEMALE</a>:                                 swprintf( str, L<span class="stringliteral">"Reg Female"</span> );                 <span class="keywordflow">break</span>;
<a name="l02395"></a>02395             <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a774887c6043843fcb84d7e6b341257354">TANK_NE</a>:                                         swprintf( str, L<span class="stringliteral">"NE Tank"</span> );                    <span class="keywordflow">break</span>;
<a name="l02396"></a>02396             <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a708ba6f8fd9cf7e71998af76cccab9209">TANK_NW</a>:                                         swprintf( str, L<span class="stringliteral">"NW Tank"</span> );                    <span class="keywordflow">break</span>;
<a name="l02397"></a>02397             <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a72254b6f06629056dd86be50df5347676">FATCIV</a>:                                          swprintf( str, L<span class="stringliteral">"Fat Civilian"</span> );         <span class="keywordflow">break</span>;
<a name="l02398"></a>02398             <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a7f084d9af5cfa408362f35095268783f6">MANCIV</a>:                                          swprintf( str, L<span class="stringliteral">"M Civilian"</span> );                 <span class="keywordflow">break</span>;
<a name="l02399"></a>02399             <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a7af422ea2d015cab1eb7d0cf653186a05">MINICIV</a>:                                         swprintf( str, L<span class="stringliteral">"Miniskirt"</span> );                  <span class="keywordflow">break</span>;
<a name="l02400"></a>02400             <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a734700b4c6e766408a86e53420c62163c">DRESSCIV</a>:                                  swprintf( str, L<span class="stringliteral">"F Civilian"</span> );                 <span class="keywordflow">break</span>;
<a name="l02401"></a>02401             <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a7d280093211f32a309c7e52bc1e4570c8">HATKIDCIV</a>:                                 swprintf( str, L<span class="stringliteral">"Kid w/ Hat"</span> );                 <span class="keywordflow">break</span>;
<a name="l02402"></a>02402             <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a76af8c23138db907d1a486cd724a86f5b">HUMVEE</a>:                                          swprintf( str, L<span class="stringliteral">"Humvee"</span> );                           <span class="keywordflow">break</span>;
<a name="l02403"></a>02403             <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a75f90b299525bc0859c82cf015baba03a">ELDORADO</a>:                                  swprintf( str, L<span class="stringliteral">"Eldorado"</span> );                   <span class="keywordflow">break</span>;
<a name="l02404"></a>02404             <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a754252ec441c8e71f72eb60e34320e0c7">ICECREAMTRUCK</a>:                       swprintf( str, L<span class="stringliteral">"Icecream Truck"</span> ); <span class="keywordflow">break</span>;
<a name="l02405"></a>02405             <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a795ca3a8c0c3270bc4d68f7b04553eaef">JEEP</a>:                                            swprintf( str, L<span class="stringliteral">"Jeep"</span> );                                   <span class="keywordflow">break</span>;
<a name="l02406"></a>02406             <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a7572e26862c1a3864663d8fe55b2f7f4d">KIDCIV</a>:                                          swprintf( str, L<span class="stringliteral">"Kid Civilian"</span> );         <span class="keywordflow">break</span>;
<a name="l02407"></a>02407             <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a748505ba252c1ec37e34d882e6f4a3ecf">COW</a>:                                                   swprintf( str, L<span class="stringliteral">"Domestic Cow"</span> );         <span class="keywordflow">break</span>;
<a name="l02408"></a>02408             <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a75db4e8d299d195df30798a12cd332f5a">CRIPPLECIV</a>:                          swprintf( str, L<span class="stringliteral">"Cripple"</span> );                    <span class="keywordflow">break</span>;
<a name="l02409"></a>02409             <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a7ecd13f015271b5b87d3e53037a5011bb">ROBOTNOWEAPON</a>:                       swprintf( str, L<span class="stringliteral">"Unarmed Robot"</span> );  <span class="keywordflow">break</span>;
<a name="l02410"></a>02410             <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a7c6b7363ef12dbe5ad2377613a3d33db9">LARVAE_MONSTER</a>:                swprintf( str, L<span class="stringliteral">"Larvae"</span> );                           <span class="keywordflow">break</span>;
<a name="l02411"></a>02411             <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a7e687bcc336b8be3ac4aac1346046d095">INFANT_MONSTER</a>:                swprintf( str, L<span class="stringliteral">"Infant"</span> );                           <span class="keywordflow">break</span>;
<a name="l02412"></a>02412             <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a75f60be3c60e156d8cec34802d7f3607b">YAF_MONSTER</a>:                         swprintf( str, L<span class="stringliteral">"Yng F Monster"</span> );  <span class="keywordflow">break</span>;
<a name="l02413"></a>02413             <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a725460f03079c143c4456f779763fa23b">YAM_MONSTER</a>:                         swprintf( str, L<span class="stringliteral">"Yng M Monster"</span> );  <span class="keywordflow">break</span>;
<a name="l02414"></a>02414             <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a78e8f2de8ab141e991ee2b34ebb1dfda1">ADULTFEMALEMONSTER</a>:      swprintf( str, L<span class="stringliteral">"Adt F Monster"</span> );  <span class="keywordflow">break</span>;
<a name="l02415"></a>02415             <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a79dec21a470d88f8b8a8704cb9b5ac827">AM_MONSTER</a>:                          swprintf( str, L<span class="stringliteral">"Adt M Monster"</span> );  <span class="keywordflow">break</span>;
<a name="l02416"></a>02416             <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a75f327a7c32f4f979f42e8d6f6adbf587">QUEENMONSTER</a>:                        swprintf( str, L<span class="stringliteral">"Queen Monster"</span> );  <span class="keywordflow">break</span>;
<a name="l02417"></a>02417             <span class="keywordflow">case</span> <a class="code" href="Animation_01Data_8h.html#d295a916825180b548473dec560093a7fa470b7d78ba43f21bfd04c49f02a70b">BLOODCAT</a>:                                  swprintf( str, L<span class="stringliteral">"Bloodcat"</span> );                   <span class="keywordflow">break</span>;
<a name="l02418"></a>02418       }
<a name="l02419"></a>02419       <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#d63aa150b012b4c8ff7db66b872ed157">DrawEditorInfoBox</a>( str, FONT10ARIAL, 490, 364, 70, 20 );
<a name="l02420"></a>02420 }
<a name="l02421"></a>02421 
<a name="l02422"></a><a class="code" href="EditorMercs_8h.html#1efdd79a0e7892f198b17aa5023169b6">02422</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#1efdd79a0e7892f198b17aa5023169b6">UpdateMercsInfo</a>()
<a name="l02423"></a>02423 {
<a name="l02424"></a>02424       <span class="keywordflow">if</span>( !<a class="code" href="EditorMercs_8cpp.html#2411d22b871f9aaa6b8596afc913c909">gfRenderMercInfo</a> )
<a name="l02425"></a>02425             <span class="keywordflow">return</span>;
<a name="l02426"></a>02426 
<a name="l02427"></a>02427       <span class="comment">//We are rendering it now, so signify that it has been done, so</span>
<a name="l02428"></a>02428       <span class="comment">//it doesn't get rendered every frame.</span>
<a name="l02429"></a>02429       <a class="code" href="EditorMercs_8cpp.html#2411d22b871f9aaa6b8596afc913c909">gfRenderMercInfo</a> = FALSE;
<a name="l02430"></a>02430 
<a name="l02431"></a>02431       <span class="keywordflow">switch</span>( <a class="code" href="EditorMercs_8cpp.html#60bc6cddda8166a782f69d3899ae0803">gubCurrMercMode</a> )
<a name="l02432"></a>02432       {
<a name="l02433"></a>02433             <span class="keywordflow">case</span> <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4d12c78c9b4d19e3d90268d70e3a1f2869">MERC_GETITEMMODE</a>:
<a name="l02434"></a>02434                   <a class="code" href="EditorItems_8cpp.html#d6ded5ff6a885d1206887232f36d1b20">RenderEditorItemsInfo</a>();
<a name="l02435"></a>02435                   <span class="keywordflow">break</span>;
<a name="l02436"></a>02436             <span class="keywordflow">case</span> <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4d1c1120cd7ad9ec691fab0a247d09e869">MERC_INVENTORYMODE</a>:
<a name="l02437"></a>02437                   <span class="keywordflow">if</span>( <a class="code" href="EditorDefines_8h.html#3d74c085ebd782d09e8f164f467620af">gfMercGetItem</a> )
<a name="l02438"></a>02438                         <a class="code" href="EditorMercs_8cpp.html#8cd393f580ec7aab7177382c4d2c6984">SetMercEditingMode</a>( <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4d12c78c9b4d19e3d90268d70e3a1f2869">MERC_GETITEMMODE</a> );
<a name="l02439"></a>02439                   <span class="keywordflow">else</span>
<a name="l02440"></a>02440                         <a class="code" href="EditorMercs_8cpp.html#68a12fb1e8ef3cf9605cca34e4a9f1d2">RenderMercInventoryPanel</a>();
<a name="l02441"></a>02441                   <span class="keywordflow">break</span>;
<a name="l02442"></a>02442             <span class="keywordflow">case</span> <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4dfee679b1fd37287a0fd4c414d307e69a">MERC_BASICMODE</a>:
<a name="l02443"></a>02443             <span class="keywordflow">case</span> <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4df6a1f80107b74c70ab558b4d41e5a269">MERC_GENERALMODE</a>:
<a name="l02444"></a>02444                   <a class="code" href="vobject_8cpp.html#8599b65a72008f87d4f9083c8c280d3a">BltVideoObjectFromIndex</a>( FRAME_BUFFER, <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#2a4a2e68f0c3f840018d279c22bb9694">guiExclamation</a>, 0, 188, 362, VO_BLT_SRCTRANSPARENCY, NULL );
<a name="l02445"></a>02445                   <a class="code" href="vobject_8cpp.html#8599b65a72008f87d4f9083c8c280d3a">BltVideoObjectFromIndex</a>( FRAME_BUFFER, <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#230b617298f0c3125fae71ed5cb28c7f">guiKeyImage</a>, 0, 186, 387, VO_BLT_SRCTRANSPARENCY, NULL );
<a name="l02446"></a>02446                   <a class="code" href="Font_8cpp.html#fa4871009f0473cca0380217753947dc">SetFont</a>( SMALLCOMPFONT );
<a name="l02447"></a>02447                   <a class="code" href="Font_8cpp.html#388be5810478c3f3bdb861f144085d70">SetFontForeground</a>( FONT_YELLOW );
<a name="l02448"></a>02448                   <a class="code" href="Font_8cpp.html#1513b9080348f45e52cc45e68cbeddee">SetFontShadow</a>( FONT_NEARBLACK );
<a name="l02449"></a>02449                   <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 240, 363, L<span class="stringliteral">" --=ORDERS=-- "</span>);
<a name="l02450"></a>02450                   <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 240, 419, L<span class="stringliteral">"--=ATTITUDE=--"</span>);
<a name="l02451"></a>02451                   <span class="keywordflow">if</span>( <a class="code" href="EditorDefines_8h.html#afbeb36e0996e51d4002709ddf9b3155">iDrawMode</a> == <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b9403887047a6a6c1216b138a0953302334abaa">DRAW_MODE_CREATURE</a> )
<a name="l02452"></a>02452                   {
<a name="l02453"></a>02453                         <a class="code" href="EditorMercs_8cpp.html#f145dad7bfec05b909bd30c9478d87cc">DisplayBodyTypeInfo</a>();
<a name="l02454"></a>02454                         <a class="code" href="Font_8cpp.html#fa4871009f0473cca0380217753947dc">SetFont</a>( SMALLCOMPFONT );
<a name="l02455"></a>02455                         <a class="code" href="Font_8cpp.html#388be5810478c3f3bdb861f144085d70">SetFontForeground</a>( FONT_LTBLUE );
<a name="l02456"></a>02456                         <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 493, 416, L<span class="stringliteral">"RELATIVE"</span>); 
<a name="l02457"></a>02457                         <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 480, 422, L<span class="stringliteral">"ATTRIBUTES"</span>); 
<a name="l02458"></a>02458                   }
<a name="l02459"></a>02459                   <span class="keywordflow">else</span>
<a name="l02460"></a>02460                   {
<a name="l02461"></a>02461                         <a class="code" href="Font_8cpp.html#388be5810478c3f3bdb861f144085d70">SetFontForeground</a>( FONT_LTGREEN );
<a name="l02462"></a>02462                         <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 480, 363, L<span class="stringliteral">"RELATIVE"</span>); 
<a name="l02463"></a>02463                         <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 480, 371, L<span class="stringliteral">"EQUIPMENT"</span>); 
<a name="l02464"></a>02464                         <a class="code" href="Font_8cpp.html#388be5810478c3f3bdb861f144085d70">SetFontForeground</a>( FONT_LTBLUE );
<a name="l02465"></a>02465                         <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 530, 363, L<span class="stringliteral">"RELATIVE"</span>); 
<a name="l02466"></a>02466                         <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 530, 371, L<span class="stringliteral">"ATTRIBUTES"</span>); 
<a name="l02467"></a>02467                   }
<a name="l02468"></a>02468                   <span class="keywordflow">if</span>( <a class="code" href="EditorDefines_8h.html#afbeb36e0996e51d4002709ddf9b3155">iDrawMode</a> == <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b9403881f99fcda5f7ceb6101a94be4c21bd098">DRAW_MODE_ENEMY</a> )
<a name="l02469"></a>02469                   {
<a name="l02470"></a>02470                         <a class="code" href="Font_8cpp.html#fa4871009f0473cca0380217753947dc">SetFont</a>( FONT10ARIAL );
<a name="l02471"></a>02471                         <a class="code" href="Font_8cpp.html#388be5810478c3f3bdb861f144085d70">SetFontForeground</a>( FONT_YELLOW );
<a name="l02472"></a>02472                         <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 590, 411, L<span class="stringliteral">"Army"</span> );
<a name="l02473"></a>02473                         <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 590, 425, L<span class="stringliteral">"Admin"</span> );
<a name="l02474"></a>02474                         <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 590, 439, L<span class="stringliteral">"Elite"</span> );
<a name="l02475"></a>02475                   }
<a name="l02476"></a>02476                   <span class="keywordflow">break</span>;
<a name="l02477"></a>02477             <span class="keywordflow">case</span> <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4d79be38898c5768611ba7d6c4b308c356">MERC_ATTRIBUTEMODE</a>:
<a name="l02478"></a>02478                   <a class="code" href="Font_8cpp.html#fa4871009f0473cca0380217753947dc">SetFont</a>( FONT10ARIAL );
<a name="l02479"></a>02479                   <a class="code" href="Font_8cpp.html#388be5810478c3f3bdb861f144085d70">SetFontForeground</a>( FONT_YELLOW );
<a name="l02480"></a>02480                   <a class="code" href="Font_8cpp.html#1513b9080348f45e52cc45e68cbeddee">SetFontShadow</a>( FONT_NEARBLACK );
<a name="l02481"></a>02481                   <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 225, 370, L<span class="stringliteral">"Exp. Level"</span>);
<a name="l02482"></a>02482                   <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 225, 395, L<span class="stringliteral">"Life"</span>);
<a name="l02483"></a>02483                   <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 225, 420, L<span class="stringliteral">"LifeMax"</span>);
<a name="l02484"></a>02484                   <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 225, 445, L<span class="stringliteral">"Marksmanship"</span>);
<a name="l02485"></a>02485                   <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 325, 370, L<span class="stringliteral">"Strength"</span>);
<a name="l02486"></a>02486                   <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 325, 395, L<span class="stringliteral">"Agility"</span>);
<a name="l02487"></a>02487                   <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 325, 420, L<span class="stringliteral">"Dexterity"</span>);
<a name="l02488"></a>02488                   <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 325, 445, L<span class="stringliteral">"Wisdom"</span>);
<a name="l02489"></a>02489                   <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 425, 370, L<span class="stringliteral">"Leadership"</span>);
<a name="l02490"></a>02490                   <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 425, 395, L<span class="stringliteral">"Explosives"</span>);
<a name="l02491"></a>02491                   <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 425, 420, L<span class="stringliteral">"Medical"</span>);
<a name="l02492"></a>02492                   <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 425, 445, L<span class="stringliteral">"Mechanical"</span>);
<a name="l02493"></a>02493                   <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 525, 370, L<span class="stringliteral">"Morale"</span>);
<a name="l02494"></a>02494                   <span class="keywordflow">break</span>;
<a name="l02495"></a>02495             <span class="keywordflow">case</span> <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4d1269b47a8352551aa390f58cec8b1b7b">MERC_APPEARANCEMODE</a>:
<a name="l02496"></a>02496                   <a class="code" href="Font_8cpp.html#fa4871009f0473cca0380217753947dc">SetFont</a>( FONT10ARIAL );
<a name="l02497"></a>02497                   <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#1e4eaba07de6a26b8c4c7d0ce1c231e2">fVisible</a> || <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#10663f9fc2265e92b6ae3e5f2615578f">ubProfile</a> != NO_PROFILE )
<a name="l02498"></a>02498                         <a class="code" href="Font_8cpp.html#388be5810478c3f3bdb861f144085d70">SetFontForeground</a>( FONT_YELLOW );
<a name="l02499"></a>02499                   <span class="keywordflow">else</span>
<a name="l02500"></a>02500                         <a class="code" href="Font_8cpp.html#388be5810478c3f3bdb861f144085d70">SetFontForeground</a>( FONT_DKYELLOW );
<a name="l02501"></a>02501                   <a class="code" href="Font_8cpp.html#1513b9080348f45e52cc45e68cbeddee">SetFontShadow</a>( FONT_NEARBLACK );
<a name="l02502"></a>02502 
<a name="l02503"></a>02503                   <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 396, 364, L<span class="stringliteral">"Hair color:"</span>);
<a name="l02504"></a>02504                   <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 396, 388, L<span class="stringliteral">"Skin color:"</span>);
<a name="l02505"></a>02505                   <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 396, 412, L<span class="stringliteral">"Vest color:"</span>); 
<a name="l02506"></a>02506                   <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 396, 436, L<span class="stringliteral">"Pant color:"</span>);
<a name="l02507"></a>02507 
<a name="l02508"></a>02508                   <a class="code" href="Font_8cpp.html#fa4871009f0473cca0380217753947dc">SetFont</a>( SMALLCOMPFONT );
<a name="l02509"></a>02509                   <a class="code" href="Font_8cpp.html#388be5810478c3f3bdb861f144085d70">SetFontForeground</a>( FONT_BLACK );
<a name="l02510"></a>02510                   <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#1e4eaba07de6a26b8c4c7d0ce1c231e2">fVisible</a> || <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#10663f9fc2265e92b6ae3e5f2615578f">ubProfile</a> != NO_PROFILE )
<a name="l02511"></a>02511                   {
<a name="l02512"></a>02512                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#334629e306bc8b40fe86e6ad49cd8ace">mprintfEditor</a>( 396, 374, L<span class="stringliteral">"%S    "</span>, <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#7eac56265178b4c6b14b3c4e57b0cf59">HeadPal</a> );
<a name="l02513"></a>02513                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#334629e306bc8b40fe86e6ad49cd8ace">mprintfEditor</a>( 396, 398, L<span class="stringliteral">"%S    "</span>, <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#c138d8e83ecb9e6afc7fbe505f756775">SkinPal</a> );
<a name="l02514"></a>02514                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#334629e306bc8b40fe86e6ad49cd8ace">mprintfEditor</a>( 396, 422, L<span class="stringliteral">"%S    "</span>, <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#0234867384fe2f03608cf551edf81506">VestPal</a> );
<a name="l02515"></a>02515                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#334629e306bc8b40fe86e6ad49cd8ace">mprintfEditor</a>( 396, 446, L<span class="stringliteral">"%S    "</span>, <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#2466fb9ff2f6d03d77f3d34eb6d2dba6">PantsPal</a> );
<a name="l02516"></a>02516                         <a class="code" href="EditorMercs_8cpp.html#bebfc4cbeb436e8bd34b9d316460a0cf">ShowEditMercPalettes</a>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a> );
<a name="l02517"></a>02517                   }
<a name="l02518"></a>02518                   <span class="keywordflow">else</span>
<a name="l02519"></a>02519                   {
<a name="l02520"></a>02520                         <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 396, 374, L<span class="stringliteral">"RANDOM"</span>);
<a name="l02521"></a>02521                         <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 396, 398, L<span class="stringliteral">"RANDOM"</span>);
<a name="l02522"></a>02522                         <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 396, 422, L<span class="stringliteral">"RANDOM"</span>);
<a name="l02523"></a>02523                         <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 396, 446, L<span class="stringliteral">"RANDOM"</span>);
<a name="l02524"></a>02524                         <a class="code" href="EditorMercs_8cpp.html#bebfc4cbeb436e8bd34b9d316460a0cf">ShowEditMercPalettes</a>( NULL ); <span class="comment">//will display grey scale to signify random</span>
<a name="l02525"></a>02525                   }
<a name="l02526"></a>02526                   <a class="code" href="EditorMercs_8cpp.html#f145dad7bfec05b909bd30c9478d87cc">DisplayBodyTypeInfo</a>();
<a name="l02527"></a>02527                   <span class="keywordflow">break</span>;
<a name="l02528"></a>02528             <span class="keywordflow">case</span> <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4d109d2b74061257bb85b6de571ee96408">MERC_PROFILEMODE</a>:
<a name="l02529"></a>02529                   <a class="code" href="Font_8cpp.html#fa4871009f0473cca0380217753947dc">SetFont</a>( FONT10ARIAL );
<a name="l02530"></a>02530                   <a class="code" href="Font_8cpp.html#388be5810478c3f3bdb861f144085d70">SetFontForeground</a>( FONT_YELLOW );
<a name="l02531"></a>02531                   <a class="code" href="Font_8cpp.html#1513b9080348f45e52cc45e68cbeddee">SetFontShadow</a>( FONT_NEARBLACK );
<a name="l02532"></a>02532                   { <span class="comment">//scope trick</span>
<a name="l02533"></a>02533                         <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> tempStr[500];
<a name="l02534"></a>02534                         swprintf( tempStr, L<span class="stringliteral">"%s%s%s%s%s%d."</span>,
<a name="l02535"></a>02535                               L<span class="stringliteral">"By specifying a profile index, all of the information will be extracted from the profile "</span>,
<a name="l02536"></a>02536                               L<span class="stringliteral">"and override any values that you have edited.  It will also disable the editing features "</span>, 
<a name="l02537"></a>02537                               L<span class="stringliteral">"though, you will still be able to view stats, etc.  Pressing ENTER will automatically "</span>,
<a name="l02538"></a>02538                               L<span class="stringliteral">"extract the number you have typed.  A blank field will clear the profile.  The current "</span>,
<a name="l02539"></a>02539                               L<span class="stringliteral">"number of profiles range from 0 to "</span>, NUM_PROFILES );
<a name="l02540"></a>02540                         <a class="code" href="WordWrap_8cpp.html#b17ac632920394af93f027727a77ea4e">DisplayWrappedString</a>(180, 370, 400, 2, FONT10ARIAL, 146, tempStr, FONT_BLACK, FALSE, LEFT_JUSTIFIED );
<a name="l02541"></a>02541                         <a class="code" href="Font_8cpp.html#fa4871009f0473cca0380217753947dc">SetFont</a>( FONT12POINT1 );
<a name="l02542"></a>02542                         <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#10663f9fc2265e92b6ae3e5f2615578f">ubProfile</a> == NO_PROFILE )
<a name="l02543"></a>02543                         {
<a name="l02544"></a>02544                               <a class="code" href="Font_8cpp.html#388be5810478c3f3bdb861f144085d70">SetFontForeground</a>( FONT_GRAY3 );
<a name="l02545"></a>02545                               <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#334629e306bc8b40fe86e6ad49cd8ace">mprintfEditor</a>( 240, 435, L<span class="stringliteral">"Current Profile:  n/a                            "</span>);
<a name="l02546"></a>02546                         }
<a name="l02547"></a>02547                         <span class="keywordflow">else</span>
<a name="l02548"></a>02548                         {
<a name="l02549"></a>02549                               <a class="code" href="Font_8cpp.html#388be5810478c3f3bdb861f144085d70">SetFontForeground</a>( FONT_WHITE );
<a name="l02550"></a>02550                               <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#9500ed8ec9338ceda446f8b993c8b752">ClearTaskbarRegion</a>( 240, 435, 580, 445 );
<a name="l02551"></a>02551                               <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 240, 435, L<span class="stringliteral">"Current Profile:  %s"</span>, <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#10663f9fc2265e92b6ae3e5f2615578f">ubProfile</a> ].zName );
<a name="l02552"></a>02552                         }
<a name="l02553"></a>02553                   }
<a name="l02554"></a>02554                   <span class="keywordflow">break</span>;
<a name="l02555"></a>02555             <span class="keywordflow">case</span> <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4dfc5362f856b3f5e32545c6d922e4a1f3">MERC_SCHEDULEMODE</a>:
<a name="l02556"></a>02556                   <a class="code" href="Font_8cpp.html#fa4871009f0473cca0380217753947dc">SetFont</a>( FONT10ARIAL );
<a name="l02557"></a>02557                   <a class="code" href="Font_8cpp.html#388be5810478c3f3bdb861f144085d70">SetFontForeground</a>( FONT_WHITE );
<a name="l02558"></a>02558                   <a class="code" href="Font_8cpp.html#1513b9080348f45e52cc45e68cbeddee">SetFontShadow</a>( FONT_NEARBLACK );
<a name="l02559"></a>02559                   <span class="keywordflow">switch</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#76cf3cb25fe41d314c711377ee8dbfad">bOrders</a> )
<a name="l02560"></a>02560                   {
<a name="l02561"></a>02561                         <span class="keywordflow">case</span> <a class="code" href="Overhead_01Types_8h.html#5e7fba63eebd783231b18f414e8a138fc84bd0ee013c388bd7cc8139be7206a2">STATIONARY</a>:  <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 430, 363, L<span class="stringliteral">"STATIONARY"</span> );             <span class="keywordflow">break</span>;
<a name="l02562"></a>02562                         <span class="keywordflow">case</span> <a class="code" href="Overhead_01Types_8h.html#5e7fba63eebd783231b18f414e8a138ffbc5202d0fef4bcd4a4625750d02a724">ONCALL</a>:                  <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 430, 363, L<span class="stringliteral">"ON CALL"</span> );                      <span class="keywordflow">break</span>;
<a name="l02563"></a>02563                         <span class="keywordflow">case</span> <a class="code" href="Overhead_01Types_8h.html#5e7fba63eebd783231b18f414e8a138fdb56c8891ff3ae7edaab609e648d959e">ONGUARD</a>:                 <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 430, 363, L<span class="stringliteral">"ON GUARD"</span> );                     <span class="keywordflow">break</span>;
<a name="l02564"></a>02564                         <span class="keywordflow">case</span> <a class="code" href="Overhead_01Types_8h.html#5e7fba63eebd783231b18f414e8a138f5aa440b40aa8e6f41bfba3b0b8b4ed95">SEEKENEMY</a>:         <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 430, 363, L<span class="stringliteral">"SEEK ENEMY"</span> );             <span class="keywordflow">break</span>;
<a name="l02565"></a>02565                         <span class="keywordflow">case</span> <a class="code" href="Overhead_01Types_8h.html#5e7fba63eebd783231b18f414e8a138ffe820c85dbe7ec3fed2fb2f40995bb5e">CLOSEPATROL</a>: <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 430, 363, L<span class="stringliteral">"CLOSE PATROL"</span> );           <span class="keywordflow">break</span>;
<a name="l02566"></a>02566                         <span class="keywordflow">case</span> <a class="code" href="Overhead_01Types_8h.html#5e7fba63eebd783231b18f414e8a138fddbbeee5695e4be7e9f148315873ce2b">FARPATROL</a>:         <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 430, 363, L<span class="stringliteral">"FAR PATROL"</span> );             <span class="keywordflow">break</span>;
<a name="l02567"></a>02567                         <span class="keywordflow">case</span> <a class="code" href="Overhead_01Types_8h.html#5e7fba63eebd783231b18f414e8a138f7dc5dd2cff7953315a832e7a457deb9d">POINTPATROL</a>: <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 430, 363, L<span class="stringliteral">"POINT PATROL"</span> );           <span class="keywordflow">break</span>;
<a name="l02568"></a>02568                         <span class="keywordflow">case</span> <a class="code" href="Overhead_01Types_8h.html#5e7fba63eebd783231b18f414e8a138f4f7b012e8cbd1e2cc2b3fa9e1b5c9f9f">RNDPTPATROL</a>: <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 430, 363, L<span class="stringliteral">"RND PT PATROL"</span> );    <span class="keywordflow">break</span>;
<a name="l02569"></a>02569                   }
<a name="l02570"></a>02570                   <a class="code" href="Font_8cpp.html#388be5810478c3f3bdb861f144085d70">SetFontForeground</a>( FONT_YELLOW );
<a name="l02571"></a>02571                   <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 186, 363, L<span class="stringliteral">"Action"</span> );
<a name="l02572"></a>02572                   <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 268, 363, L<span class="stringliteral">"Time"</span> );
<a name="l02573"></a>02573                   <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 309, 363, L<span class="stringliteral">"V"</span> );
<a name="l02574"></a>02574                   <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 331, 363, L<span class="stringliteral">"GridNo 1"</span> );
<a name="l02575"></a>02575                   <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 381, 363, L<span class="stringliteral">"GridNo 2"</span> );
<a name="l02576"></a>02576                   <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 172, 376, L<span class="stringliteral">"1)"</span> );
<a name="l02577"></a>02577                   <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 172, 397, L<span class="stringliteral">"2)"</span> );
<a name="l02578"></a>02578                   <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 172, 418, L<span class="stringliteral">"3)"</span> );
<a name="l02579"></a>02579                   <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( 172, 439, L<span class="stringliteral">"4)"</span> );
<a name="l02580"></a>02580                   <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#933ff7513fdbec27dc7f83237622aa89">gubScheduleInstructions</a> )
<a name="l02581"></a>02581                   {
<a name="l02582"></a>02582                         <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> <a class="code" href="Button_01System_8cpp.html#ac22642f3052cc77a6991a262ce4ad23">str</a>[255];
<a name="l02583"></a>02583                         <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> keyword[10] = L<span class="stringliteral">""</span>;
<a name="l02584"></a>02584                         <a class="code" href="vsurface_8cpp.html#10d0257b54c4d27b2d82ead2a46cd581">ColorFillVideoSurfaceArea</a>( FRAME_BUFFER, 431, 388, 590, 450, <a class="code" href="himage_8cpp.html#d29939ffcd39c7d1cc0a91222702d361">Get16BPPColor</a>( FROMRGB( 32, 45, 72 ) ) );
<a name="l02585"></a>02585                         <span class="keywordflow">switch</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#7254a407b8916738ea5e706b6b503b7b">ubAction</a>[ <a class="code" href="EditorMercs_8cpp.html#5af8e495c28c76340ef0301509722b12">gubCurrentScheduleActionIndex</a> ] )
<a name="l02586"></a>02586                         {
<a name="l02587"></a>02587                               <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e423e5ee19f521d74b55669c1f2dae0fc2">SCHEDULE_ACTION_LOCKDOOR</a>:                  swprintf( keyword, L<span class="stringliteral">"lock"</span> );             <span class="keywordflow">break</span>;
<a name="l02588"></a>02588                               <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e4dd9a7da2cf3e0d23fd16e026b3ed3556">SCHEDULE_ACTION_UNLOCKDOOR</a>:          swprintf( keyword, L<span class="stringliteral">"unlock"</span> );           <span class="keywordflow">break</span>;
<a name="l02589"></a>02589                               <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e46b07b5a8f9415aeeefd8696b54cdb463">SCHEDULE_ACTION_OPENDOOR</a>:                  swprintf( keyword, L<span class="stringliteral">"open"</span> );             <span class="keywordflow">break</span>;
<a name="l02590"></a>02590                               <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e4faa15a022490b37b5083048b0734a8a4">SCHEDULE_ACTION_CLOSEDOOR</a>:                 swprintf( keyword, L<span class="stringliteral">"close"</span> );            <span class="keywordflow">break</span>;
<a name="l02591"></a>02591                         }
<a name="l02592"></a>02592                         <span class="keywordflow">switch</span>( <a class="code" href="EditorMercs_8cpp.html#933ff7513fdbec27dc7f83237622aa89">gubScheduleInstructions</a> )
<a name="l02593"></a>02593                         {
<a name="l02594"></a>02594                               <span class="keywordflow">case</span> <a class="code" href="EditorMercs_8cpp.html#c36f475ca5b446f4fde4c9b90bec77c8637f75597c2cc43738a5ea3317b9936a">SCHEDULE_INSTRUCTIONS_DOOR1</a>:
<a name="l02595"></a>02595                                     swprintf( str, L<span class="stringliteral">"Click on the gridno adjacent to the door that you wish to %s."</span>, keyword );
<a name="l02596"></a>02596                                     <span class="keywordflow">break</span>;
<a name="l02597"></a>02597                               <span class="keywordflow">case</span> <a class="code" href="EditorMercs_8cpp.html#c36f475ca5b446f4fde4c9b90bec77c8926e41b8ddb37b1dff7cc84bccc6e5c7">SCHEDULE_INSTRUCTIONS_DOOR2</a>:
<a name="l02598"></a>02598                                     swprintf( str, L<span class="stringliteral">"Click on the gridno where you wish to move after you %s the door."</span>, keyword );
<a name="l02599"></a>02599                                     <span class="keywordflow">break</span>;
<a name="l02600"></a>02600                               <span class="keywordflow">case</span> <a class="code" href="EditorMercs_8cpp.html#c36f475ca5b446f4fde4c9b90bec77c881a68e90424ca40e2e0a515f7b18b7bf">SCHEDULE_INSTRUCTIONS_GRIDNO</a>:
<a name="l02601"></a>02601                                     swprintf( str, L<span class="stringliteral">"Click on the gridno where you wish to move to."</span> );
<a name="l02602"></a>02602                                     <span class="keywordflow">break</span>;
<a name="l02603"></a>02603                               <span class="keywordflow">case</span> <a class="code" href="EditorMercs_8cpp.html#c36f475ca5b446f4fde4c9b90bec77c840c8c8571f411e6d4801795685655c16">SCHEDULE_INSTRUCTIONS_SLEEP</a>:
<a name="l02604"></a>02604                                     swprintf( str, L<span class="stringliteral">"Click on the gridno where you wish to sleep at.  Person will automatically return to original position after waking up."</span> );
<a name="l02605"></a>02605                               <span class="keywordflow">default</span>:
<a name="l02606"></a>02606                                     <span class="keywordflow">return</span>;
<a name="l02607"></a>02607                         }
<a name="l02608"></a>02608                         <a class="code" href="Sys_01Globals_8h.html#92a23b0a8bea9679b6f78aa26b1715e7">wcscat</a>( str, L<span class="stringliteral">"  Hit ESC to abort entering this line in the schedule."</span> );
<a name="l02609"></a>02609                         <a class="code" href="WordWrap_8cpp.html#b17ac632920394af93f027727a77ea4e">DisplayWrappedString</a>( 436, 392, 149, 2, FONT10ARIAL, FONT_YELLOW, str, FONT_BLACK, FALSE, LEFT_JUSTIFIED );
<a name="l02610"></a>02610                   }
<a name="l02611"></a>02611                   <span class="keywordflow">break</span>;
<a name="l02612"></a>02612       }
<a name="l02613"></a>02613 }
<a name="l02614"></a>02614 
<a name="l02615"></a>02615 <span class="comment">//When a detailed placement merc is in the inventory panel, there is a overall region</span>
<a name="l02616"></a>02616 <span class="comment">//blanketing this panel.  As the user moves the mouse around and clicks, etc., this function </span>
<a name="l02617"></a>02617 <span class="comment">//is called by the region callback functions to handle these cases.  The event types are defined</span>
<a name="l02618"></a>02618 <span class="comment">//in Editor Taskbar Utils.h.  Here are the internal functions...</span>
<a name="l02619"></a>02619 
<a name="l02620"></a><a class="code" href="EditorMercs_8cpp.html#5e66ae6335e108a09afd5020c4537cec">02620</a> <a class="code" href="structSGPRect.html">SGPRect</a> <a class="code" href="EditorMercs_8cpp.html#5e66ae6335e108a09afd5020c4537cec">mercRects</a>[9] = 
<a name="l02621"></a>02621 {
<a name="l02622"></a>02622       {  75,  0, 104, 19 }, <span class="comment">//head</span>
<a name="l02623"></a>02623       {  75, 22, 104, 41 }, <span class="comment">//body</span>
<a name="l02624"></a>02624       {  76, 73, 105, 92 }, <span class="comment">//legs</span>
<a name="l02625"></a>02625       {  26, 43,  78, 62 }, <span class="comment">//left hand</span>
<a name="l02626"></a>02626       { 104, 42, 156, 61 }, <span class="comment">//right hand</span>
<a name="l02627"></a>02627       { 180,  6, 232, 25 }, <span class="comment">//pack 1</span>
<a name="l02628"></a>02628       { 180, 29, 232, 48 }, <span class="comment">//pack 2</span>
<a name="l02629"></a>02629       { 180, 52, 232, 71 }, <span class="comment">//pack 3</span>
<a name="l02630"></a>02630       { 180, 75, 232, 94 }  <span class="comment">//pack 4</span>
<a name="l02631"></a>02631 };
<a name="l02632"></a>02632 
<a name="l02633"></a>02633 
<a name="l02634"></a><a class="code" href="EditorMercs_8cpp.html#ea93243a9af40b20adb6a80982b30936">02634</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> <a class="code" href="EditorMercs_8cpp.html#ea93243a9af40b20adb6a80982b30936">PointInRect</a>( <a class="code" href="structSGPRect.html">SGPRect</a> *pRect, <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> <a class="code" href="Sound_01Control_8cpp.html#6150e0515f7202e2fb518f7206ed97dc">x</a>, <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> y )
<a name="l02635"></a>02635 {
<a name="l02636"></a>02636       <span class="keywordflow">return</span>( x &gt;= pRect-&gt;<a class="code" href="structSGPRect.html#ff8e2060cadeb6fe24800e83e9eb7041">iLeft</a> &amp;&amp; x &lt;= pRect-&gt;iRight &amp;&amp; y &gt;= pRect-&gt;<a class="code" href="structSGPRect.html#d4c794d3a2deda1031b2bd5fa500dea7">iTop</a> &amp;&amp; y &lt;= pRect-&gt;iBottom );
<a name="l02637"></a>02637 }
<a name="l02638"></a>02638 
<a name="l02639"></a><a class="code" href="EditorMercs_8cpp.html#c65fe7eaac03c0d1d92260fe589a5ecf">02639</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#c65fe7eaac03c0d1d92260fe589a5ecf">DrawRect</a>( <a class="code" href="structSGPRect.html">SGPRect</a> *pRect, <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> color )
<a name="l02640"></a>02640 {
<a name="l02641"></a>02641       <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      uiDestPitchBYTES;
<a name="l02642"></a>02642       <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>       *pDestBuf;
<a name="l02643"></a>02643       pDestBuf = <a class="code" href="vsurface_8cpp.html#592b2aeda6075fcbf9d7c67dc44fbd47">LockVideoSurface</a>( FRAME_BUFFER, &amp;uiDestPitchBYTES );
<a name="l02644"></a>02644       <a class="code" href="line_8cpp.html#03cb6a8fa3b4bbdfcdab02c903bc7b7e">SetClippingRegionAndImageWidth</a>( uiDestPitchBYTES, 0, 0, 640, 480 );
<a name="l02645"></a>02645       <a class="code" href="line_8cpp.html#2806e958344a513567053e98757e64b3">RectangleDraw</a>( TRUE, pRect-&gt;<a class="code" href="structSGPRect.html#ff8e2060cadeb6fe24800e83e9eb7041">iLeft</a>+MERCPANEL_X, pRect-&gt;<a class="code" href="structSGPRect.html#d4c794d3a2deda1031b2bd5fa500dea7">iTop</a>+MERCPANEL_Y, pRect-&gt;<a class="code" href="structSGPRect.html#555fe85d97dec81ee8fe61c365bf741a">iRight</a>+MERCPANEL_X, pRect-&gt;<a class="code" href="structSGPRect.html#3da8351ad1e68d9f710a57d7a7d8cb21">iBottom</a>+MERCPANEL_Y, color, pDestBuf );
<a name="l02646"></a>02646       <a class="code" href="vsurface_8cpp.html#abe4e4124597b70b046a3b3567002cb2">UnLockVideoSurface</a>( FRAME_BUFFER );
<a name="l02647"></a>02647       <span class="comment">//InvalidateRegion( pRect-&gt;iLeft+175, pRect-&gt;iTop+361, pRect-&gt;iRight+176, pRect-&gt;iBottom+362 );</span>
<a name="l02648"></a>02648 }
<a name="l02649"></a>02649 
<a name="l02650"></a><a class="code" href="EditorMercs_8cpp.html#97fede88104802646b8d4afa4c1dc3cf">02650</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#97fede88104802646b8d4afa4c1dc3cf">RenderSelectedMercsInventory</a>()
<a name="l02651"></a>02651 {
<a name="l02652"></a>02652       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> i;
<a name="l02653"></a>02653       <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> *pSrc, *pDst;
<a name="l02654"></a>02654       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> xp, yp;
<a name="l02655"></a>02655       <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a> uiSrcPitchBYTES, uiDstPitchBYTES;
<a name="l02656"></a>02656       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> pItemName[100];
<a name="l02657"></a>02657       <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubFontColor;
<a name="l02658"></a>02658       <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#97092775cdf98eec280dbb127c7f8523">gsSelectedMercID</a> == -1 )
<a name="l02659"></a>02659             <span class="keywordflow">return</span>;
<a name="l02660"></a>02660       <span class="keywordflow">for</span>( i = 0; i &lt; 9; i++ )
<a name="l02661"></a>02661       {
<a name="l02662"></a>02662             <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#997f0a46700fb2fcb6fb0e31e4b09059">gpMercSlotItem</a>[i] )
<a name="l02663"></a>02663             { <span class="comment">//Render the current image.</span>
<a name="l02664"></a>02664                   xp = <a class="code" href="EditorMercs_8cpp.html#5e66ae6335e108a09afd5020c4537cec">mercRects</a>[ i ].iLeft + 4 + MERCPANEL_X;
<a name="l02665"></a>02665                   yp = <a class="code" href="EditorMercs_8cpp.html#5e66ae6335e108a09afd5020c4537cec">mercRects</a>[ i ].<a class="code" href="structSGPRect.html#d4c794d3a2deda1031b2bd5fa500dea7">iTop</a> + MERCPANEL_Y;
<a name="l02666"></a>02666                   pDst = <a class="code" href="vsurface_8cpp.html#592b2aeda6075fcbf9d7c67dc44fbd47">LockVideoSurface</a>( FRAME_BUFFER,                                        &amp;uiDstPitchBYTES );
<a name="l02667"></a>02667                   pSrc = <a class="code" href="vsurface_8cpp.html#592b2aeda6075fcbf9d7c67dc44fbd47">LockVideoSurface</a>( <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#d6e7fade438151f442e1647b1a0fe3fe">guiMercInvPanelBuffers</a>[i], &amp;uiSrcPitchBYTES );
<a name="l02668"></a>02668                   <a class="code" href="vobject__blitters_8cpp.html#8408590c36321c7b2f3648b8fb5f1ab8">Blt16BPPTo16BPPTrans</a>( (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>*)pDst, uiDstPitchBYTES, 
<a name="l02669"></a>02669                         (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> *)pSrc, uiSrcPitchBYTES, xp, yp, 0, 0, i&lt;3 ? 22 : 44, 15, 0 );
<a name="l02670"></a>02670                   <a class="code" href="vsurface_8cpp.html#abe4e4124597b70b046a3b3567002cb2">UnLockVideoSurface</a>( FRAME_BUFFER );
<a name="l02671"></a>02671                   <a class="code" href="vsurface_8cpp.html#abe4e4124597b70b046a3b3567002cb2">UnLockVideoSurface</a>( <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#d6e7fade438151f442e1647b1a0fe3fe">guiMercInvPanelBuffers</a>[i] );
<a name="l02672"></a>02672                   <a class="code" href="Text_01Utils_8cpp.html#6a2ef0eb25e1a7ba806cf7eb6271d5e9">LoadItemInfo</a>( <a class="code" href="EditorMercs_8cpp.html#997f0a46700fb2fcb6fb0e31e4b09059">gpMercSlotItem</a>[i]-&gt;usItem, pItemName, NULL );
<a name="l02673"></a>02673                   <span class="comment">//Render the text</span>
<a name="l02674"></a>02674                   <span class="keywordflow">switch</span>( i )
<a name="l02675"></a>02675                   {
<a name="l02676"></a>02676                         <span class="keywordflow">case</span> 2: <span class="comment">//legs (to the right of the box, but move it down to make room for right hand text)</span>
<a name="l02677"></a>02677                               xp = <a class="code" href="EditorMercs_8cpp.html#5e66ae6335e108a09afd5020c4537cec">mercRects</a>[i].<a class="code" href="structSGPRect.html#555fe85d97dec81ee8fe61c365bf741a">iRight</a> + 2;
<a name="l02678"></a>02678                               yp = <a class="code" href="EditorMercs_8cpp.html#5e66ae6335e108a09afd5020c4537cec">mercRects</a>[i].<a class="code" href="structSGPRect.html#d4c794d3a2deda1031b2bd5fa500dea7">iTop</a> + 8;
<a name="l02679"></a>02679                               <span class="keywordflow">break</span>;
<a name="l02680"></a>02680                         <span class="keywordflow">case</span> 3: <span class="comment">//left hand (underneath box and to the left -- obscurred by checkbox)</span>
<a name="l02681"></a>02681                               xp = <a class="code" href="EditorMercs_8cpp.html#5e66ae6335e108a09afd5020c4537cec">mercRects</a>[i].<a class="code" href="structSGPRect.html#ff8e2060cadeb6fe24800e83e9eb7041">iLeft</a> - 20;
<a name="l02682"></a>02682                               yp = <a class="code" href="EditorMercs_8cpp.html#5e66ae6335e108a09afd5020c4537cec">mercRects</a>[i].<a class="code" href="structSGPRect.html#3da8351ad1e68d9f710a57d7a7d8cb21">iBottom</a> + 2;
<a name="l02683"></a>02683                               <span class="keywordflow">break</span>;
<a name="l02684"></a>02684                         <span class="keywordflow">case</span> 4: <span class="comment">//right hand (underneath box)</span>
<a name="l02685"></a>02685                               xp = <a class="code" href="EditorMercs_8cpp.html#5e66ae6335e108a09afd5020c4537cec">mercRects</a>[i].<a class="code" href="structSGPRect.html#ff8e2060cadeb6fe24800e83e9eb7041">iLeft</a>;
<a name="l02686"></a>02686                               yp = <a class="code" href="EditorMercs_8cpp.html#5e66ae6335e108a09afd5020c4537cec">mercRects</a>[i].<a class="code" href="structSGPRect.html#3da8351ad1e68d9f710a57d7a7d8cb21">iBottom</a> + 2;
<a name="l02687"></a>02687                               <span class="keywordflow">break</span>;
<a name="l02688"></a>02688                         <span class="keywordflow">default</span>: <span class="comment">//normal cases (to the right of the box)</span>
<a name="l02689"></a>02689                               xp = <a class="code" href="EditorMercs_8cpp.html#5e66ae6335e108a09afd5020c4537cec">mercRects</a>[i].<a class="code" href="structSGPRect.html#555fe85d97dec81ee8fe61c365bf741a">iRight</a> + 2;
<a name="l02690"></a>02690                               yp = <a class="code" href="EditorMercs_8cpp.html#5e66ae6335e108a09afd5020c4537cec">mercRects</a>[i].<a class="code" href="structSGPRect.html#d4c794d3a2deda1031b2bd5fa500dea7">iTop</a>;
<a name="l02691"></a>02691                               <span class="keywordflow">break</span>;
<a name="l02692"></a>02692                   }
<a name="l02693"></a>02693                   xp += MERCPANEL_X;
<a name="l02694"></a>02694                   yp += MERCPANEL_Y;
<a name="l02695"></a>02695                   <a class="code" href="Font_8cpp.html#fa4871009f0473cca0380217753947dc">SetFont</a>( SMALLCOMPFONT );
<a name="l02696"></a>02696                   <span class="keywordflow">if</span>( i == <a class="code" href="EditorMercs_8cpp.html#544bd12f560740d96e8c6fb33f308ea3">gbCurrSelect</a> )
<a name="l02697"></a>02697                         ubFontColor = FONT_LTRED;
<a name="l02698"></a>02698                   <span class="keywordflow">else</span> <span class="keywordflow">if</span>( i == <a class="code" href="EditorMercs_8cpp.html#7b43ee2651872b41410c6d56bbf9ae79">gbCurrHilite</a> )
<a name="l02699"></a>02699                         ubFontColor = FONT_YELLOW;
<a name="l02700"></a>02700                   <span class="keywordflow">else</span>
<a name="l02701"></a>02701                         ubFontColor = FONT_WHITE;
<a name="l02702"></a>02702                   <a class="code" href="WordWrap_8cpp.html#b17ac632920394af93f027727a77ea4e">DisplayWrappedString</a>( (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)xp, (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)yp, 60, 2, SMALLCOMPFONT, ubFontColor, pItemName, 0, FALSE, LEFT_JUSTIFIED );
<a name="l02703"></a>02703             }
<a name="l02704"></a>02704       }
<a name="l02705"></a>02705 }
<a name="l02706"></a>02706 
<a name="l02707"></a><a class="code" href="editscreen_8cpp.html#2aae6b95dd42d3987b13e139d91ca793">02707</a> <span class="keywordtype">void</span> <a class="code" href="EditorItems_8cpp.html#2aae6b95dd42d3987b13e139d91ca793">DeleteSelectedMercsItem</a>()
<a name="l02708"></a>02708 {
<a name="l02709"></a>02709       <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#544bd12f560740d96e8c6fb33f308ea3">gbCurrSelect</a> != -1 )
<a name="l02710"></a>02710       {
<a name="l02711"></a>02711             <a class="code" href="EditorMercs_8cpp.html#54a1eba5cf567ba5c1e123a83dcb38af">gusMercsNewItemIndex</a> = 0;
<a name="l02712"></a>02712             <a class="code" href="EditorMercs_8cpp.html#29a0f30cc20ae3da81c1929eeb261141">AddNewItemToSelectedMercsInventory</a>( TRUE );
<a name="l02713"></a>02713       }
<a name="l02714"></a>02714 }
<a name="l02715"></a>02715 
<a name="l02716"></a>02716 <span class="comment">//This function does two main things:</span>
<a name="l02717"></a>02717 <span class="comment">// 1)  Allows a new item to be created via usItem and assigned to the currently selected merc.</span>
<a name="l02718"></a>02718 <span class="comment">// 2)  Converts the image from interface size to the smaller panel used by the editor.  The slots</span>
<a name="l02719"></a>02719 <span class="comment">//           in the editor are approximately 80% of that size.  This involves scaling calculations.  These</span>
<a name="l02720"></a>02720 <span class="comment">//           images are saved in individual slots are are blitted to the screen during rendering, not here.</span>
<a name="l02721"></a>02721 <span class="comment">// NOTE:  Step one can be skipped (when selecting an existing merc).  By setting the </span>
<a name="l02722"></a><a class="code" href="EditorMercs_8cpp.html#29a0f30cc20ae3da81c1929eeb261141">02722</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#29a0f30cc20ae3da81c1929eeb261141">AddNewItemToSelectedMercsInventory</a>( <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> fCreate )
<a name="l02723"></a>02723 {
<a name="l02724"></a>02724       <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a> uiVideoObjectIndex;
<a name="l02725"></a>02725       <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a> uiSrcID, uiDstID;
<a name="l02726"></a>02726       <a class="code" href="structTAG__HVOBJECT.html">HVOBJECT</a> hVObject;
<a name="l02727"></a>02727       <a class="code" href="structtagETRLEObject.html">ETRLEObject</a> *pObject;
<a name="l02728"></a>02728       <a class="code" href="structINVTYPE.html">INVTYPE</a> *item;
<a name="l02729"></a>02729       <a class="code" href="structSGPRect.html">SGPRect</a>     SrcRect, DstRect;
<a name="l02730"></a>02730       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iSrcWidth, iSrcHeight;
<a name="l02731"></a>02731       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iDstWidth, iDstHeight;
<a name="l02732"></a>02732       <span class="keywordtype">float</span> rScalar, rWidthScalar, rHeightScalar;
<a name="l02733"></a>02733       <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> fUnDroppable;
<a name="l02734"></a>02734 
<a name="l02735"></a>02735       <span class="keywordflow">if</span>( fCreate )
<a name="l02736"></a>02736       {
<a name="l02737"></a>02737             <span class="comment">/*</span>
<a name="l02738"></a>02738 <span class="comment">            if( gpMercSlotItem[ gbCurrSelect ] &amp;&amp; gpMercSlotItem[ gbCurrSelect ]-&gt;usItem == gusMercsNewItemIndex )</span>
<a name="l02739"></a>02739 <span class="comment">            { //User selected same item, so ignore.</span>
<a name="l02740"></a>02740 <span class="comment">                  gusMercsNewItemIndex = 0xffff;</span>
<a name="l02741"></a>02741 <span class="comment">                  return;</span>
<a name="l02742"></a>02742 <span class="comment">            }</span>
<a name="l02743"></a>02743 <span class="comment">            */</span>
<a name="l02744"></a>02744             <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#54a1eba5cf567ba5c1e123a83dcb38af">gusMercsNewItemIndex</a> == 0xffff )
<a name="l02745"></a>02745             { <span class="comment">//User selected no item, so ignore.</span>
<a name="l02746"></a>02746                   <span class="keywordflow">return</span>;
<a name="l02747"></a>02747             }
<a name="l02748"></a>02748             <span class="comment">//Create the item, and set up the slot.</span>
<a name="l02749"></a>02749             fUnDroppable = <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#77f67dd5bf56fd387974309de1a5d3ea">Inv</a>[ <a class="code" href="EditorMercs_8cpp.html#20a3a478089d3e7ef31904fa69dc934f">gbMercSlotTypes</a>[ <a class="code" href="EditorMercs_8cpp.html#544bd12f560740d96e8c6fb33f308ea3">gbCurrSelect</a> ] ].<a class="code" href="structOBJECTTYPE.html#0f1e67bac22f1b89c4040ef8a5ea48c2">fFlags</a> &amp; OBJECT_UNDROPPABLE ? TRUE : FALSE;
<a name="l02750"></a>02750 
<a name="l02751"></a>02751             <span class="keywordflow">if</span> ( <a class="code" href="Item_01Types_8h.html#f9dc4cc7a3a99ad5944940cfb7c82237">Item</a>[ <a class="code" href="EditorMercs_8cpp.html#54a1eba5cf567ba5c1e123a83dcb38af">gusMercsNewItemIndex</a> ].usItemClass == IC_KEY )
<a name="l02752"></a>02752             {
<a name="l02753"></a>02753                   <a class="code" href="Items_8cpp.html#586cb2a6f62ea8b5967025cc3507c4e3">CreateKeyObject</a>( &amp;<a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#77f67dd5bf56fd387974309de1a5d3ea">Inv</a>[ <a class="code" href="EditorMercs_8cpp.html#20a3a478089d3e7ef31904fa69dc934f">gbMercSlotTypes</a>[ <a class="code" href="EditorMercs_8cpp.html#544bd12f560740d96e8c6fb33f308ea3">gbCurrSelect</a> ] ], 1, (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>) <a class="code" href="EditorItems_8cpp.html#18cb39d60cadb3baaf5d0f11a0c1252f">eInfo</a>.<a class="code" href="structEditorItemsInfo.html#b15f78270b0861a86d899055b3ebd7b5">sSelItemIndex</a> );
<a name="l02754"></a>02754             }
<a name="l02755"></a>02755             <span class="keywordflow">else</span>
<a name="l02756"></a>02756             {
<a name="l02757"></a>02757                   <a class="code" href="Items_8cpp.html#153f1fcda178d6758ff8b01cf7999170">CreateItem</a>( <a class="code" href="EditorMercs_8cpp.html#54a1eba5cf567ba5c1e123a83dcb38af">gusMercsNewItemIndex</a>, 100, &amp;<a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#77f67dd5bf56fd387974309de1a5d3ea">Inv</a>[ <a class="code" href="EditorMercs_8cpp.html#20a3a478089d3e7ef31904fa69dc934f">gbMercSlotTypes</a>[ <a class="code" href="EditorMercs_8cpp.html#544bd12f560740d96e8c6fb33f308ea3">gbCurrSelect</a> ] ] );
<a name="l02758"></a>02758             }
<a name="l02759"></a>02759             <span class="keywordflow">if</span>( fUnDroppable )
<a name="l02760"></a>02760             {
<a name="l02761"></a>02761                   <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#77f67dd5bf56fd387974309de1a5d3ea">Inv</a>[ <a class="code" href="EditorMercs_8cpp.html#20a3a478089d3e7ef31904fa69dc934f">gbMercSlotTypes</a>[ <a class="code" href="EditorMercs_8cpp.html#544bd12f560740d96e8c6fb33f308ea3">gbCurrSelect</a> ] ].<a class="code" href="structOBJECTTYPE.html#0f1e67bac22f1b89c4040ef8a5ea48c2">fFlags</a> |= OBJECT_UNDROPPABLE;
<a name="l02762"></a>02762             }
<a name="l02763"></a>02763 
<a name="l02764"></a>02764             <span class="comment">//randomize the status on non-ammo items.</span>
<a name="l02765"></a>02765             <span class="keywordflow">if</span>( !(<a class="code" href="Item_01Types_8h.html#f9dc4cc7a3a99ad5944940cfb7c82237">Item</a>[ <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#77f67dd5bf56fd387974309de1a5d3ea">Inv</a>[ <a class="code" href="EditorMercs_8cpp.html#20a3a478089d3e7ef31904fa69dc934f">gbMercSlotTypes</a>[ <a class="code" href="EditorMercs_8cpp.html#544bd12f560740d96e8c6fb33f308ea3">gbCurrSelect</a> ] ].usItem ].usItemClass &amp; IC_AMMO) )
<a name="l02766"></a>02766                   <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#77f67dd5bf56fd387974309de1a5d3ea">Inv</a>[ <a class="code" href="EditorMercs_8cpp.html#20a3a478089d3e7ef31904fa69dc934f">gbMercSlotTypes</a>[ <a class="code" href="EditorMercs_8cpp.html#544bd12f560740d96e8c6fb33f308ea3">gbCurrSelect</a> ] ].<a class="code" href="structOBJECTTYPE.html#aa0827e15c8e54d285d2850ea5ffbb07">bStatus</a>[0] = (<a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>)(80 + <a class="code" href="Random_8cpp.html#49f938d1313ab6ef09ac6223a16ac334">Random</a>( 21 ));
<a name="l02767"></a>02767 
<a name="l02768"></a>02768             <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#54a1eba5cf567ba5c1e123a83dcb38af">gusMercsNewItemIndex</a> )
<a name="l02769"></a>02769             {
<a name="l02770"></a>02770                   <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#77f67dd5bf56fd387974309de1a5d3ea">Inv</a>[ <a class="code" href="EditorMercs_8cpp.html#20a3a478089d3e7ef31904fa69dc934f">gbMercSlotTypes</a>[ <a class="code" href="EditorMercs_8cpp.html#544bd12f560740d96e8c6fb33f308ea3">gbCurrSelect</a> ] ].<a class="code" href="structOBJECTTYPE.html#0f1e67bac22f1b89c4040ef8a5ea48c2">fFlags</a> |= OBJECT_NO_OVERWRITE;
<a name="l02771"></a>02771             }
<a name="l02772"></a>02772       }
<a name="l02773"></a>02773       <span class="comment">//allow the slot to point to the selected merc's inventory for editing/rendering purposes.</span>
<a name="l02774"></a>02774       <a class="code" href="EditorMercs_8cpp.html#997f0a46700fb2fcb6fb0e31e4b09059">gpMercSlotItem</a>[ <a class="code" href="EditorMercs_8cpp.html#544bd12f560740d96e8c6fb33f308ea3">gbCurrSelect</a> ] = &amp;<a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#77f67dd5bf56fd387974309de1a5d3ea">Inv</a>[ <a class="code" href="EditorMercs_8cpp.html#20a3a478089d3e7ef31904fa69dc934f">gbMercSlotTypes</a>[ <a class="code" href="EditorMercs_8cpp.html#544bd12f560740d96e8c6fb33f308ea3">gbCurrSelect</a> ] ];
<a name="l02775"></a>02775 
<a name="l02776"></a>02776       <span class="keywordflow">if</span>( !fCreate )
<a name="l02777"></a>02777       { <span class="comment">//it is possible to have a null item which we don't want to blit!  Also, we need to set the</span>
<a name="l02778"></a>02778             <span class="comment">//new item index, so that it can extract the item's image using that.</span>
<a name="l02779"></a>02779             <a class="code" href="EditorMercs_8cpp.html#54a1eba5cf567ba5c1e123a83dcb38af">gusMercsNewItemIndex</a> = <a class="code" href="EditorMercs_8cpp.html#997f0a46700fb2fcb6fb0e31e4b09059">gpMercSlotItem</a>[ <a class="code" href="EditorMercs_8cpp.html#544bd12f560740d96e8c6fb33f308ea3">gbCurrSelect</a> ]-&gt;<a class="code" href="structOBJECTTYPE.html#4fbe05335f161f08f354566b8e5a0a19">usItem</a>;
<a name="l02780"></a>02780             <span class="keywordflow">if</span>( !<a class="code" href="EditorMercs_8cpp.html#997f0a46700fb2fcb6fb0e31e4b09059">gpMercSlotItem</a>[ <a class="code" href="EditorMercs_8cpp.html#544bd12f560740d96e8c6fb33f308ea3">gbCurrSelect</a> ] )
<a name="l02781"></a>02781                   <span class="keywordflow">return</span>;
<a name="l02782"></a>02782       }
<a name="l02783"></a>02783       <span class="comment">//GOAL:</span>
<a name="l02784"></a>02784       <span class="comment">//From here on, we are going to first render the new item into a temp buffer, then crop the image in</span>
<a name="l02785"></a>02785       <span class="comment">//the buffer and scale it down to fit into it's associated slot in the panel (which on average will</span>
<a name="l02786"></a>02786       <span class="comment">//require scaling the item by 80%).  We have to do a bunch of calculations to override the offsets, etc.</span>
<a name="l02787"></a>02787       <span class="comment">//Each slot has it's own smaller version buffer, and this is what gets drawn when the rendering happens.</span>
<a name="l02788"></a>02788       
<a name="l02789"></a>02789       <span class="comment">//assign the buffers</span>
<a name="l02790"></a>02790       uiSrcID = <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#76101cf42dbcf309808506a070f66f94">guiMercTempBuffer</a>;
<a name="l02791"></a>02791       uiDstID = <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#d6e7fade438151f442e1647b1a0fe3fe">guiMercInvPanelBuffers</a>[ <a class="code" href="EditorMercs_8cpp.html#544bd12f560740d96e8c6fb33f308ea3">gbCurrSelect</a> ];
<a name="l02792"></a>02792 
<a name="l02793"></a>02793       <span class="comment">//build the rects</span>
<a name="l02794"></a>02794       iDstWidth = <a class="code" href="EditorMercs_8cpp.html#544bd12f560740d96e8c6fb33f308ea3">gbCurrSelect</a> &lt; 3 ? MERCINV_SMSLOT_WIDTH : MERCINV_LGSLOT_WIDTH;
<a name="l02795"></a>02795       iDstHeight = MERCINV_SLOT_HEIGHT;
<a name="l02796"></a>02796       SrcRect.<a class="code" href="structSGPRect.html#ff8e2060cadeb6fe24800e83e9eb7041">iLeft</a> = 0;
<a name="l02797"></a>02797       SrcRect.<a class="code" href="structSGPRect.html#d4c794d3a2deda1031b2bd5fa500dea7">iTop</a> = 0;
<a name="l02798"></a>02798       SrcRect.<a class="code" href="structSGPRect.html#555fe85d97dec81ee8fe61c365bf741a">iRight</a> = 60;
<a name="l02799"></a>02799       SrcRect.<a class="code" href="structSGPRect.html#3da8351ad1e68d9f710a57d7a7d8cb21">iBottom</a> = 25;
<a name="l02800"></a>02800       DstRect.<a class="code" href="structSGPRect.html#ff8e2060cadeb6fe24800e83e9eb7041">iLeft</a> = 0;
<a name="l02801"></a>02801       DstRect.<a class="code" href="structSGPRect.html#d4c794d3a2deda1031b2bd5fa500dea7">iTop</a> = 0;
<a name="l02802"></a>02802       DstRect.<a class="code" href="structSGPRect.html#555fe85d97dec81ee8fe61c365bf741a">iRight</a> = iDstWidth;
<a name="l02803"></a>02803       DstRect.<a class="code" href="structSGPRect.html#3da8351ad1e68d9f710a57d7a7d8cb21">iBottom</a> = iDstHeight;
<a name="l02804"></a>02804 
<a name="l02805"></a>02805       <span class="comment">//clear both buffers (fill with black to erase previous graphic)</span>
<a name="l02806"></a>02806       <a class="code" href="vsurface_8cpp.html#10d0257b54c4d27b2d82ead2a46cd581">ColorFillVideoSurfaceArea</a>( uiSrcID, SrcRect.<a class="code" href="structSGPRect.html#ff8e2060cadeb6fe24800e83e9eb7041">iLeft</a>, SrcRect.<a class="code" href="structSGPRect.html#d4c794d3a2deda1031b2bd5fa500dea7">iTop</a>, SrcRect.<a class="code" href="structSGPRect.html#555fe85d97dec81ee8fe61c365bf741a">iRight</a>, SrcRect.<a class="code" href="structSGPRect.html#3da8351ad1e68d9f710a57d7a7d8cb21">iBottom</a>, 0 );
<a name="l02807"></a>02807       <a class="code" href="vsurface_8cpp.html#10d0257b54c4d27b2d82ead2a46cd581">ColorFillVideoSurfaceArea</a>( uiDstID, DstRect.<a class="code" href="structSGPRect.html#ff8e2060cadeb6fe24800e83e9eb7041">iLeft</a>, DstRect.<a class="code" href="structSGPRect.html#d4c794d3a2deda1031b2bd5fa500dea7">iTop</a>, DstRect.<a class="code" href="structSGPRect.html#555fe85d97dec81ee8fe61c365bf741a">iRight</a>, DstRect.<a class="code" href="structSGPRect.html#3da8351ad1e68d9f710a57d7a7d8cb21">iBottom</a>, 0 );
<a name="l02808"></a>02808 
<a name="l02809"></a>02809       <span class="comment">//if the index is 0, then there is no item.</span>
<a name="l02810"></a>02810       <span class="keywordflow">if</span>( !<a class="code" href="EditorMercs_8cpp.html#54a1eba5cf567ba5c1e123a83dcb38af">gusMercsNewItemIndex</a> )
<a name="l02811"></a>02811             <span class="keywordflow">return</span>;
<a name="l02812"></a>02812 
<a name="l02813"></a>02813       <span class="comment">//now draw the fullsize item into the temp buffer</span>
<a name="l02814"></a>02814       item = &amp;<a class="code" href="Item_01Types_8h.html#f9dc4cc7a3a99ad5944940cfb7c82237">Item</a>[ <a class="code" href="EditorMercs_8cpp.html#54a1eba5cf567ba5c1e123a83dcb38af">gusMercsNewItemIndex</a> ];
<a name="l02815"></a>02815       uiVideoObjectIndex = <a class="code" href="Interface_01Items_8cpp.html#c9b2f29b00a51b21310fa8f4755f0e82">GetInterfaceGraphicForItem</a>( item );
<a name="l02816"></a>02816       <a class="code" href="vobject_8cpp.html#bda2b0eae4cb40e612dffd307ad5c692">GetVideoObject</a>( &amp;hVObject, uiVideoObjectIndex );
<a name="l02817"></a>02817       <a class="code" href="vobject_8cpp.html#ba1c4dfd0f78eaf40edc0ecbce62ea80">BltVideoObjectOutlineFromIndex</a>( uiSrcID, uiVideoObjectIndex, item-&gt;<a class="code" href="structINVTYPE.html#cde6a8ffabb6cfea789cc3e29fdd650a">ubGraphicNum</a>, 0, 0, 0, FALSE );
<a name="l02818"></a>02818 
<a name="l02819"></a>02819       <span class="comment">//crop the source image</span>
<a name="l02820"></a>02820       pObject = &amp;hVObject-&gt;<a class="code" href="structTAG__HVOBJECT.html#5af164bcbef17ed088d55268ea4d7ffd">pETRLEObject</a>[ item-&gt;<a class="code" href="structINVTYPE.html#cde6a8ffabb6cfea789cc3e29fdd650a">ubGraphicNum</a> ];
<a name="l02821"></a>02821       iSrcWidth                     =           pObject-&gt;<a class="code" href="structtagETRLEObject.html#77505acd5ca79cbc055f7c9e840d5996">usWidth</a>;
<a name="l02822"></a>02822       iSrcHeight              =           pObject-&gt;<a class="code" href="structtagETRLEObject.html#78bb78f025afb71c9bb5026f8823c2c5">usHeight</a>;
<a name="l02823"></a>02823       SrcRect.<a class="code" href="structSGPRect.html#ff8e2060cadeb6fe24800e83e9eb7041">iLeft</a>   +=      pObject-&gt;<a class="code" href="structtagETRLEObject.html#3849d30f42f8102e789cce737ff2359f">sOffsetX</a>;
<a name="l02824"></a>02824       SrcRect.<a class="code" href="structSGPRect.html#555fe85d97dec81ee8fe61c365bf741a">iRight</a>  =       SrcRect.<a class="code" href="structSGPRect.html#ff8e2060cadeb6fe24800e83e9eb7041">iLeft</a> + iSrcWidth;
<a name="l02825"></a>02825       SrcRect.<a class="code" href="structSGPRect.html#d4c794d3a2deda1031b2bd5fa500dea7">iTop</a>    +=      pObject-&gt;<a class="code" href="structtagETRLEObject.html#5b58d99112f1498e1f03b42f6c66dd76">sOffsetY</a>;
<a name="l02826"></a>02826       SrcRect.<a class="code" href="structSGPRect.html#3da8351ad1e68d9f710a57d7a7d8cb21">iBottom</a> =       SrcRect.<a class="code" href="structSGPRect.html#d4c794d3a2deda1031b2bd5fa500dea7">iTop</a> + iSrcHeight;
<a name="l02827"></a>02827 
<a name="l02828"></a>02828       <span class="comment">//if the source image width is less than 30 (small slot), then modify the DstRect.</span>
<a name="l02829"></a>02829       <span class="keywordflow">if</span>( iSrcWidth &lt; 30 )
<a name="l02830"></a>02830             iDstWidth = MERCINV_SMSLOT_WIDTH;
<a name="l02831"></a>02831       <span class="keywordflow">else</span>
<a name="l02832"></a>02832             iDstWidth = MERCINV_LGSLOT_WIDTH;
<a name="l02833"></a>02833 
<a name="l02834"></a>02834       <span class="comment">//compare the sizes of the cropped image to the destination buffer size, and calculate the</span>
<a name="l02835"></a>02835       <span class="comment">//scalar value.  It is possible to have scalars &gt; 1.0, in which case, we change it to 1.0 and</span>
<a name="l02836"></a>02836       <span class="comment">//use the other value.  </span>
<a name="l02837"></a>02837       rWidthScalar =  (float)iDstWidth/(<span class="keywordtype">float</span>)iSrcWidth;
<a name="l02838"></a>02838       <span class="keywordflow">if</span>( rWidthScalar &gt; 1.0 )
<a name="l02839"></a>02839             rWidthScalar = 1.0;
<a name="l02840"></a>02840       rHeightScalar = (float)iDstHeight/(<span class="keywordtype">float</span>)iSrcHeight;
<a name="l02841"></a>02841       <span class="keywordflow">if</span>( rHeightScalar &gt; 1.0 )
<a name="l02842"></a>02842             rHeightScalar = 1.0;
<a name="l02843"></a>02843 
<a name="l02844"></a>02844       <span class="comment">//determine which scalar to use.</span>
<a name="l02845"></a>02845       <span class="keywordflow">if</span>( rWidthScalar == 1.0 )
<a name="l02846"></a>02846             rScalar = rHeightScalar;
<a name="l02847"></a>02847       <span class="keywordflow">else</span> <span class="keywordflow">if</span>( rHeightScalar == 1.0 )
<a name="l02848"></a>02848             rScalar = rWidthScalar ;
<a name="l02849"></a>02849       <span class="keywordflow">else</span>
<a name="l02850"></a>02850             rScalar = max( rWidthScalar, rHeightScalar );
<a name="l02851"></a>02851       
<a name="l02852"></a>02852       <span class="comment">//apply the scalar to the destination width and height</span>
<a name="l02853"></a>02853       iDstWidth = (<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a>)( iSrcWidth * rScalar );
<a name="l02854"></a>02854       iDstHeight = (<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a>)( iSrcHeight * rScalar );
<a name="l02855"></a>02855 
<a name="l02856"></a>02856       <span class="comment">//sometimes it is possible to scale too big, so clip if applicable</span>
<a name="l02857"></a>02857       <span class="keywordflow">if</span>( iDstWidth &gt; MERCINV_LGSLOT_WIDTH )
<a name="l02858"></a>02858             iDstWidth = MERCINV_LGSLOT_WIDTH;
<a name="l02859"></a>02859       <span class="keywordflow">else</span> <span class="keywordflow">if</span>( gbCurrSelect &lt; 3 &amp;&amp; iDstWidth &gt; MERCINV_SMSLOT_WIDTH )
<a name="l02860"></a>02860             iDstWidth = MERCINV_SMSLOT_WIDTH;
<a name="l02861"></a>02861       <span class="keywordflow">if</span>( iDstHeight &gt; MERCINV_SLOT_HEIGHT )
<a name="l02862"></a>02862             iDstHeight = MERCINV_SLOT_HEIGHT;
<a name="l02863"></a>02863       
<a name="l02864"></a>02864       <span class="comment">//use the new width and height values to calculate the new dest rect (center the item)</span>
<a name="l02865"></a>02865       DstRect.<a class="code" href="structSGPRect.html#ff8e2060cadeb6fe24800e83e9eb7041">iLeft</a>           = (DstRect.<a class="code" href="structSGPRect.html#555fe85d97dec81ee8fe61c365bf741a">iRight</a> - DstRect.<a class="code" href="structSGPRect.html#ff8e2060cadeb6fe24800e83e9eb7041">iLeft</a> - iDstWidth) / 2;
<a name="l02866"></a>02866       DstRect.<a class="code" href="structSGPRect.html#555fe85d97dec81ee8fe61c365bf741a">iRight</a>    = DstRect.<a class="code" href="structSGPRect.html#ff8e2060cadeb6fe24800e83e9eb7041">iLeft</a> + iDstWidth;
<a name="l02867"></a>02867       DstRect.<a class="code" href="structSGPRect.html#d4c794d3a2deda1031b2bd5fa500dea7">iTop</a>            = (DstRect.<a class="code" href="structSGPRect.html#3da8351ad1e68d9f710a57d7a7d8cb21">iBottom</a> - DstRect.<a class="code" href="structSGPRect.html#d4c794d3a2deda1031b2bd5fa500dea7">iTop</a> - iDstHeight) / 2;
<a name="l02868"></a>02868       DstRect.<a class="code" href="structSGPRect.html#3da8351ad1e68d9f710a57d7a7d8cb21">iBottom</a> = DstRect.<a class="code" href="structSGPRect.html#d4c794d3a2deda1031b2bd5fa500dea7">iTop</a> + iDstHeight;
<a name="l02869"></a>02869 
<a name="l02870"></a>02870       <span class="comment">//scale the item down to the smaller buffer.</span>
<a name="l02871"></a>02871       <a class="code" href="vsurface_8cpp.html#7c522fd54b287a737a2d8a9d274a0807">BltStretchVideoSurface</a>( uiDstID, uiSrcID, 0, 0, VO_BLT_SRCTRANSPARENCY, &amp;SrcRect, &amp;DstRect );
<a name="l02872"></a>02872 
<a name="l02873"></a>02873       <span class="comment">//invalidate the mercs new item index</span>
<a name="l02874"></a>02874       <a class="code" href="EditorMercs_8cpp.html#54a1eba5cf567ba5c1e123a83dcb38af">gusMercsNewItemIndex</a> = 0xffff;
<a name="l02875"></a>02875 }
<a name="l02876"></a>02876 
<a name="l02877"></a><a class="code" href="EditorMercs_8cpp.html#68a12fb1e8ef3cf9605cca34e4a9f1d2">02877</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#68a12fb1e8ef3cf9605cca34e4a9f1d2">RenderMercInventoryPanel</a>()
<a name="l02878"></a>02878 {
<a name="l02879"></a>02879       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> <a class="code" href="Sound_01Control_8cpp.html#6150e0515f7202e2fb518f7206ed97dc">x</a>;
<a name="l02880"></a>02880       <span class="comment">//Draw the graphical panel</span>
<a name="l02881"></a>02881       <a class="code" href="vobject_8cpp.html#8599b65a72008f87d4f9083c8c280d3a">BltVideoObjectFromIndex</a>( FRAME_BUFFER, <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#4f179eed86ae070a7a32d8cc6d00bc57">guiMercInventoryPanel</a>, 0, MERCPANEL_X, MERCPANEL_Y, VO_BLT_SRCTRANSPARENCY, NULL );
<a name="l02882"></a>02882       <span class="comment">//Mark the buttons dirty, so they don't disappear.</span>
<a name="l02883"></a>02883       <span class="keywordflow">for</span>( x = FIRST_MERCS_INVENTORY_BUTTON; x &lt;= LAST_MERCS_INVENTORY_BUTTON; x++ )
<a name="l02884"></a>02884       {
<a name="l02885"></a>02885             <a class="code" href="Button_01System_8cpp.html#605b42e0c86f72a16652a90ef09e5fa6">MarkAButtonDirty</a>( <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[ x ] );
<a name="l02886"></a>02886       }
<a name="l02887"></a>02887       <a class="code" href="Button_01System_8cpp.html#d82e5028df813b9f64bea43abe59ea79">RenderButtons</a>();
<a name="l02888"></a>02888       <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#7b43ee2651872b41410c6d56bbf9ae79">gbCurrHilite</a> != -1 )
<a name="l02889"></a>02889             <a class="code" href="EditorMercs_8cpp.html#c65fe7eaac03c0d1d92260fe589a5ecf">DrawRect</a>( &amp;<a class="code" href="EditorMercs_8cpp.html#5e66ae6335e108a09afd5020c4537cec">mercRects</a>[ <a class="code" href="EditorMercs_8cpp.html#7b43ee2651872b41410c6d56bbf9ae79">gbCurrHilite</a> ], <a class="code" href="himage_8cpp.html#d29939ffcd39c7d1cc0a91222702d361">Get16BPPColor</a>( FROMRGB( 200, 200, 0 ) ) );
<a name="l02890"></a>02890       <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#544bd12f560740d96e8c6fb33f308ea3">gbCurrSelect</a> != -1 )
<a name="l02891"></a>02891             <a class="code" href="EditorMercs_8cpp.html#c65fe7eaac03c0d1d92260fe589a5ecf">DrawRect</a>( &amp;<a class="code" href="EditorMercs_8cpp.html#5e66ae6335e108a09afd5020c4537cec">mercRects</a>[ <a class="code" href="EditorMercs_8cpp.html#544bd12f560740d96e8c6fb33f308ea3">gbCurrSelect</a> ], <a class="code" href="himage_8cpp.html#d29939ffcd39c7d1cc0a91222702d361">Get16BPPColor</a>( FROMRGB( 200,   0, 0 ) ) );
<a name="l02892"></a>02892       <a class="code" href="EditorMercs_8cpp.html#97fede88104802646b8d4afa4c1dc3cf">RenderSelectedMercsInventory</a>();
<a name="l02893"></a>02893       <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>( MERCPANEL_X, MERCPANEL_Y, 475, 460 );
<a name="l02894"></a>02894       <a class="code" href="Item_01Statistics_8cpp.html#b0238d32ce4aa421546df3d010e2b5bc">UpdateItemStatsPanel</a>();
<a name="l02895"></a>02895 }
<a name="l02896"></a>02896 
<a name="l02897"></a>02897 
<a name="l02898"></a>02898 <span class="comment">//This function is called by the move and click callback functions for the region blanketing the</span>
<a name="l02899"></a>02899 <span class="comment">//9 slots in the inventory panel.  It passes the event type as well as the relative x and y positions</span>
<a name="l02900"></a>02900 <span class="comment">//which are processed here.  This basically checks for new changes in hilighting and selections, which</span>
<a name="l02901"></a>02901 <span class="comment">//will set the rendering flag, and getitem flag if the user wishes to choose an item.</span>
<a name="l02902"></a><a class="code" href="EditorMercs_8h.html#9d1e37aab8aa81e879b84b923518aa35">02902</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#9d1e37aab8aa81e879b84b923518aa35">HandleMercInventoryPanel</a>( <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sX, <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sY, <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a> bEvent )
<a name="l02903"></a>02903 {
<a name="l02904"></a>02904       <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a> <a class="code" href="Sound_01Control_8cpp.html#6150e0515f7202e2fb518f7206ed97dc">x</a>;
<a name="l02905"></a>02905       <span class="keywordflow">if</span>( !<a class="code" href="EditorMercs_8cpp.html#2f7af5c422377e3f1100cc761a5805f0">gfCanEditMercs</a> &amp;&amp; bEvent == <a class="code" href="Editor_01Taskbar_01Utils_8h.html#dc29c2ff13d900c2f185ee95427fb06c1594744008641adeb93b7e8a89f9fdd4">GUI_RCLICK_EVENT</a> )
<a name="l02906"></a>02906       { <span class="comment">//if we are dealing with a profile merc, we can't allow editing</span>
<a name="l02907"></a>02907             <span class="comment">//of items, but we can look at them.  So, treat all right clicks </span>
<a name="l02908"></a>02908             <span class="comment">//as if they were left clicks.</span>
<a name="l02909"></a>02909             bEvent = <a class="code" href="Editor_01Taskbar_01Utils_8h.html#dc29c2ff13d900c2f185ee95427fb06c81c20d0f5dc0fa64f7313c18bebf4e20">GUI_LCLICK_EVENT</a>;
<a name="l02910"></a>02910       }
<a name="l02911"></a>02911       <span class="keywordflow">switch</span>( bEvent )
<a name="l02912"></a>02912       {
<a name="l02913"></a>02913             <span class="keywordflow">case</span> <a class="code" href="Editor_01Taskbar_01Utils_8h.html#dc29c2ff13d900c2f185ee95427fb06ca6cf16f9a2017e028855729c218c8e1b">GUI_MOVE_EVENT</a>:
<a name="l02914"></a>02914                   <span class="comment">//user is moving the mouse around the panel, so determine which slot</span>
<a name="l02915"></a>02915                   <span class="comment">//needs to be hilighted yellow.</span>
<a name="l02916"></a>02916                   <span class="keywordflow">for</span>( x = 0; x &lt; 9; x++ )
<a name="l02917"></a>02917                   {
<a name="l02918"></a>02918                         <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#ea93243a9af40b20adb6a80982b30936">PointInRect</a>( &amp;<a class="code" href="EditorMercs_8cpp.html#5e66ae6335e108a09afd5020c4537cec">mercRects</a>[x], sX, sY ) )
<a name="l02919"></a>02919                         {
<a name="l02920"></a>02920                               <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#7b43ee2651872b41410c6d56bbf9ae79">gbCurrHilite</a> != x ) <span class="comment">//only render if the slot isn't the same one.</span>
<a name="l02921"></a>02921                                     <a class="code" href="EditorMercs_8cpp.html#2411d22b871f9aaa6b8596afc913c909">gfRenderMercInfo</a> = TRUE;
<a name="l02922"></a>02922                               <a class="code" href="EditorMercs_8cpp.html#7b43ee2651872b41410c6d56bbf9ae79">gbCurrHilite</a> = x;
<a name="l02923"></a>02923                               <span class="keywordflow">return</span>;
<a name="l02924"></a>02924                         }
<a name="l02925"></a>02925                   }
<a name="l02926"></a>02926                   <span class="comment">//if we don't find a valid slot, then we need to turn it off.</span>
<a name="l02927"></a>02927                   <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#7b43ee2651872b41410c6d56bbf9ae79">gbCurrHilite</a> != -1 ) 
<a name="l02928"></a>02928                   { <span class="comment">//only turn off if it isn't already off.  This avoids unecessary rendering.</span>
<a name="l02929"></a>02929                         <a class="code" href="EditorMercs_8cpp.html#7b43ee2651872b41410c6d56bbf9ae79">gbCurrHilite</a> = -1;
<a name="l02930"></a>02930                         <a class="code" href="EditorMercs_8cpp.html#2411d22b871f9aaa6b8596afc913c909">gfRenderMercInfo</a> = TRUE;
<a name="l02931"></a>02931                   }
<a name="l02932"></a>02932                   <span class="keywordflow">break</span>;
<a name="l02933"></a>02933             <span class="keywordflow">case</span> <a class="code" href="Editor_01Taskbar_01Utils_8h.html#dc29c2ff13d900c2f185ee95427fb06c81c20d0f5dc0fa64f7313c18bebf4e20">GUI_LCLICK_EVENT</a>:
<a name="l02934"></a>02934             <span class="keywordflow">case</span> <a class="code" href="Editor_01Taskbar_01Utils_8h.html#dc29c2ff13d900c2f185ee95427fb06c1594744008641adeb93b7e8a89f9fdd4">GUI_RCLICK_EVENT</a>:
<a name="l02935"></a>02935                   <span class="comment">//The user has clicked in the inventory panel.  Determine if he clicked in</span>
<a name="l02936"></a>02936                   <span class="comment">//a slot.  Left click selects the slot for editing, right clicking enables</span>
<a name="l02937"></a>02937                   <span class="comment">//the user to choose an item for that slot.</span>
<a name="l02938"></a>02938                   <span class="keywordflow">for</span>( x = 0; x &lt; 9; x++ )
<a name="l02939"></a>02939                   {
<a name="l02940"></a>02940                         <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#ea93243a9af40b20adb6a80982b30936">PointInRect</a>( &amp;<a class="code" href="EditorMercs_8cpp.html#5e66ae6335e108a09afd5020c4537cec">mercRects</a>[x], sX, sY ) )
<a name="l02941"></a>02941                         {
<a name="l02942"></a>02942                               <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#544bd12f560740d96e8c6fb33f308ea3">gbCurrSelect</a> != x ) <span class="comment">//only if it isn't the same slot.</span>
<a name="l02943"></a>02943                               {
<a name="l02944"></a>02944                                     <a class="code" href="EditorMercs_8cpp.html#2411d22b871f9aaa6b8596afc913c909">gfRenderMercInfo</a> = TRUE;
<a name="l02945"></a>02945                                     <span class="keywordflow">if</span>( bEvent == <a class="code" href="Editor_01Taskbar_01Utils_8h.html#dc29c2ff13d900c2f185ee95427fb06c81c20d0f5dc0fa64f7313c18bebf4e20">GUI_LCLICK_EVENT</a> )
<a name="l02946"></a>02946                                           <a class="code" href="Item_01Statistics_8cpp.html#a7cde20c34f6dd22d4a6741140e23bbe">SpecifyItemToEdit</a>( <a class="code" href="EditorMercs_8cpp.html#997f0a46700fb2fcb6fb0e31e4b09059">gpMercSlotItem</a>[ x ], -1 );
<a name="l02947"></a>02947                               }
<a name="l02948"></a>02948                               <span class="keywordflow">if</span>( bEvent == <a class="code" href="Editor_01Taskbar_01Utils_8h.html#dc29c2ff13d900c2f185ee95427fb06c1594744008641adeb93b7e8a89f9fdd4">GUI_RCLICK_EVENT</a> ) <span class="comment">//user r-clicked, so enable item choosing</span>
<a name="l02949"></a>02949                                     <a class="code" href="EditorDefines_8h.html#3d74c085ebd782d09e8f164f467620af">gfMercGetItem</a> = TRUE;
<a name="l02950"></a>02950                               <a class="code" href="EditorMercs_8cpp.html#544bd12f560740d96e8c6fb33f308ea3">gbCurrSelect</a> = x;
<a name="l02951"></a>02951                               <span class="keywordflow">return</span>;
<a name="l02952"></a>02952                         }
<a name="l02953"></a>02953                   }
<a name="l02954"></a>02954                   <span class="keywordflow">break</span>;
<a name="l02955"></a>02955       }
<a name="l02956"></a>02956 }
<a name="l02957"></a>02957 
<a name="l02958"></a><a class="code" href="EditorMercs_8cpp.html#da0ed6affc294644a7cd5a0a0578fa9f">02958</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#da0ed6affc294644a7cd5a0a0578fa9f">UpdateMercItemSlots</a>()
<a name="l02959"></a>02959 {
<a name="l02960"></a>02960       <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a> <a class="code" href="Sound_01Control_8cpp.html#6150e0515f7202e2fb518f7206ed97dc">x</a>;
<a name="l02961"></a>02961       <span class="keywordflow">if</span>( !<a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> )
<a name="l02962"></a>02962       {
<a name="l02963"></a>02963             <span class="keywordflow">for</span>( x = 0; x &lt; 9; x++ )
<a name="l02964"></a>02964             {
<a name="l02965"></a>02965                   <a class="code" href="EditorMercs_8cpp.html#997f0a46700fb2fcb6fb0e31e4b09059">gpMercSlotItem</a>[ x ] = NULL;
<a name="l02966"></a>02966             }
<a name="l02967"></a>02967       }
<a name="l02968"></a>02968       <span class="keywordflow">else</span> 
<a name="l02969"></a>02969       {
<a name="l02970"></a>02970             <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#10663f9fc2265e92b6ae3e5f2615578f">ubProfile</a> != NO_PROFILE )
<a name="l02971"></a>02971             {
<a name="l02972"></a>02972                   memcpy( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#77f67dd5bf56fd387974309de1a5d3ea">Inv</a>, <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#13c875b952b6d634680165d127a9870b">inv</a>, <span class="keyword">sizeof</span>( <a class="code" href="structOBJECTTYPE.html">OBJECTTYPE</a> ) * <a class="code" href="Soldier_01Control_8h.html#2a5937706f1724c8f06a0396bdc878553e9a668bdf9e2a72b855424ee1bdabcf">NUM_INV_SLOTS</a> );
<a name="l02973"></a>02973             }
<a name="l02974"></a>02974             <span class="keywordflow">for</span>( x = 0; x &lt; 9; x++ )
<a name="l02975"></a>02975             {
<a name="l02976"></a>02976                   <span class="comment">//Set the curr select and the addnewitem function will handle the rest, including rebuilding</span>
<a name="l02977"></a>02977                   <span class="comment">//the nine slot buffers, etc.</span>
<a name="l02978"></a>02978                   <a class="code" href="EditorMercs_8cpp.html#544bd12f560740d96e8c6fb33f308ea3">gbCurrSelect</a> = x; 
<a name="l02979"></a>02979                   <a class="code" href="EditorMercs_8cpp.html#29a0f30cc20ae3da81c1929eeb261141">AddNewItemToSelectedMercsInventory</a>( FALSE );
<a name="l02980"></a>02980             }
<a name="l02981"></a>02981       }
<a name="l02982"></a>02982       <a class="code" href="EditorMercs_8cpp.html#b488e306f2fca040798a76c9a2ba9107">SetDroppableCheckboxesBasedOnMercsInventory</a>();
<a name="l02983"></a>02983       <a class="code" href="Item_01Statistics_8cpp.html#a7cde20c34f6dd22d4a6741140e23bbe">SpecifyItemToEdit</a>( NULL, -1 );
<a name="l02984"></a>02984       <a class="code" href="EditorMercs_8cpp.html#544bd12f560740d96e8c6fb33f308ea3">gbCurrSelect</a> = -1;
<a name="l02985"></a>02985       <a class="code" href="EditorMercs_8cpp.html#7b43ee2651872b41410c6d56bbf9ae79">gbCurrHilite</a> = -1;
<a name="l02986"></a>02986 }
<a name="l02987"></a>02987 
<a name="l02988"></a><a class="code" href="EditorMercs_8cpp.html#b488e306f2fca040798a76c9a2ba9107">02988</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#b488e306f2fca040798a76c9a2ba9107">SetDroppableCheckboxesBasedOnMercsInventory</a>()
<a name="l02989"></a>02989 {
<a name="l02990"></a>02990       <a class="code" href="structOBJECTTYPE.html">OBJECTTYPE</a> *pItem;
<a name="l02991"></a>02991       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> i;
<a name="l02992"></a>02992       <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> &amp;&amp; <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> )
<a name="l02993"></a>02993       {
<a name="l02994"></a>02994             <span class="keywordflow">for</span>( i = 0; i &lt; 9; i++ )
<a name="l02995"></a>02995             {
<a name="l02996"></a>02996                   pItem = &amp;<a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#77f67dd5bf56fd387974309de1a5d3ea">Inv</a>[ <a class="code" href="EditorMercs_8cpp.html#20a3a478089d3e7ef31904fa69dc934f">gbMercSlotTypes</a>[ i ] ];
<a name="l02997"></a>02997                   <span class="keywordflow">if</span>( pItem-&gt;<a class="code" href="structOBJECTTYPE.html#0f1e67bac22f1b89c4040ef8a5ea48c2">fFlags</a> &amp; OBJECT_UNDROPPABLE )
<a name="l02998"></a>02998                   {     <span class="comment">//check box is clear</span>
<a name="l02999"></a>02999                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#c2d8423a9e42d8e85e60c3317048c3cc">UnclickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5e4c1f403e0588bf489287436a4144aac">MERCS_HEAD_SLOT</a> + i );
<a name="l03000"></a>03000                   }
<a name="l03001"></a>03001                   <span class="keywordflow">else</span>
<a name="l03002"></a>03002                   {
<a name="l03003"></a>03003                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#85a4bb808c9aa3741d423bcf6efcb7b0">ClickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5e4c1f403e0588bf489287436a4144aac">MERCS_HEAD_SLOT</a> + i );
<a name="l03004"></a>03004                   }
<a name="l03005"></a>03005             }
<a name="l03006"></a>03006       }
<a name="l03007"></a>03007 }
<a name="l03008"></a>03008 
<a name="l03009"></a><a class="code" href="EditorMercs_8h.html#1cdf67dacabea6d88997b9e005714954">03009</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#1cdf67dacabea6d88997b9e005714954">SetEnemyColorCode</a>( <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubColorCode )
<a name="l03010"></a>03010 {
<a name="l03011"></a>03011       <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> &amp;&amp; <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#10663f9fc2265e92b6ae3e5f2615578f">ubProfile</a> != NO_PROFILE )
<a name="l03012"></a>03012             <span class="keywordflow">return</span>;
<a name="l03013"></a>03013 
<a name="l03014"></a>03014       <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#70560150a621778b61a3b7e2819e623c">UnclickEditorButtons</a>( FIRST_MERCS_COLORCODE_BUTTON, LAST_MERCS_COLORCODE_BUTTON );
<a name="l03015"></a>03015       <span class="keywordflow">switch</span>( ubColorCode )
<a name="l03016"></a>03016       {
<a name="l03017"></a>03017             <span class="keywordflow">case</span> <a class="code" href="Soldier_01Control_8h.html#d559b3ed307be626eacea8b56942de61e155251ca19fc71034c52119253642b8">SOLDIER_CLASS_ARMY</a>:
<a name="l03018"></a>03018                   <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#6f8b4186867f69e234b40ed1c87730c6">ubSoldierClass</a> = <a class="code" href="Soldier_01Control_8h.html#d559b3ed307be626eacea8b56942de61e155251ca19fc71034c52119253642b8">SOLDIER_CLASS_ARMY</a>;
<a name="l03019"></a>03019                   <a class="code" href="EditorMercs_8cpp.html#f724bce39c86756cf49adebc2bc120bf">gubSoldierClass</a> = <a class="code" href="Soldier_01Control_8h.html#d559b3ed307be626eacea8b56942de61e155251ca19fc71034c52119253642b8">SOLDIER_CLASS_ARMY</a>;
<a name="l03020"></a>03020                   <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> )
<a name="l03021"></a>03021                         <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#8c94f66e6fe51672802ee1ea24dddf07">ubSoldierClass</a> = <a class="code" href="Soldier_01Control_8h.html#d559b3ed307be626eacea8b56942de61e155251ca19fc71034c52119253642b8">SOLDIER_CLASS_ARMY</a>;
<a name="l03022"></a>03022                   SET_PALETTEREP_ID( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#0234867384fe2f03608cf551edf81506">VestPal</a>, <span class="stringliteral">"REDVEST"</span>  );
<a name="l03023"></a>03023                   SET_PALETTEREP_ID( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#2466fb9ff2f6d03d77f3d34eb6d2dba6">PantsPal</a>, <span class="stringliteral">"GREENPANTS"</span>   );
<a name="l03024"></a>03024                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#85a4bb808c9aa3741d423bcf6efcb7b0">ClickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5ec6845ebe3aa6865d1bb8ab746385411">MERCS_ARMY_CODE</a> );
<a name="l03025"></a>03025                   <span class="keywordflow">break</span>;
<a name="l03026"></a>03026             <span class="keywordflow">case</span> <a class="code" href="Soldier_01Control_8h.html#d559b3ed307be626eacea8b56942de61b149e8fdf658384dd176ef9e706f10dd">SOLDIER_CLASS_ADMINISTRATOR</a>:
<a name="l03027"></a>03027                   <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#6f8b4186867f69e234b40ed1c87730c6">ubSoldierClass</a> = <a class="code" href="Soldier_01Control_8h.html#d559b3ed307be626eacea8b56942de61b149e8fdf658384dd176ef9e706f10dd">SOLDIER_CLASS_ADMINISTRATOR</a>;
<a name="l03028"></a>03028                   <a class="code" href="EditorMercs_8cpp.html#f724bce39c86756cf49adebc2bc120bf">gubSoldierClass</a> = <a class="code" href="Soldier_01Control_8h.html#d559b3ed307be626eacea8b56942de61b149e8fdf658384dd176ef9e706f10dd">SOLDIER_CLASS_ADMINISTRATOR</a>;
<a name="l03029"></a>03029                   <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> )
<a name="l03030"></a>03030                         <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#8c94f66e6fe51672802ee1ea24dddf07">ubSoldierClass</a> = <a class="code" href="Soldier_01Control_8h.html#d559b3ed307be626eacea8b56942de61b149e8fdf658384dd176ef9e706f10dd">SOLDIER_CLASS_ADMINISTRATOR</a>;
<a name="l03031"></a>03031                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#85a4bb808c9aa3741d423bcf6efcb7b0">ClickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b51efeb849738a44d9554fbe2b4122e293">MERCS_ADMIN_CODE</a> );
<a name="l03032"></a>03032                   SET_PALETTEREP_ID( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#0234867384fe2f03608cf551edf81506">VestPal</a>, <span class="stringliteral">"BLUEVEST"</span>  );
<a name="l03033"></a>03033                   SET_PALETTEREP_ID( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#2466fb9ff2f6d03d77f3d34eb6d2dba6">PantsPal</a>, <span class="stringliteral">"BLUEPANTS"</span>   );
<a name="l03034"></a>03034                   <span class="keywordflow">break</span>;
<a name="l03035"></a>03035             <span class="keywordflow">case</span> <a class="code" href="Soldier_01Control_8h.html#d559b3ed307be626eacea8b56942de61a3398ebdb00774b852a6dc6a1ba38764">SOLDIER_CLASS_ELITE</a>:
<a name="l03036"></a>03036                   <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#6f8b4186867f69e234b40ed1c87730c6">ubSoldierClass</a> = <a class="code" href="Soldier_01Control_8h.html#d559b3ed307be626eacea8b56942de61a3398ebdb00774b852a6dc6a1ba38764">SOLDIER_CLASS_ELITE</a>;
<a name="l03037"></a>03037                   <a class="code" href="EditorMercs_8cpp.html#f724bce39c86756cf49adebc2bc120bf">gubSoldierClass</a> = <a class="code" href="Soldier_01Control_8h.html#d559b3ed307be626eacea8b56942de61a3398ebdb00774b852a6dc6a1ba38764">SOLDIER_CLASS_ELITE</a>;
<a name="l03038"></a>03038                   <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> )
<a name="l03039"></a>03039                         <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#8c94f66e6fe51672802ee1ea24dddf07">ubSoldierClass</a> = <a class="code" href="Soldier_01Control_8h.html#d559b3ed307be626eacea8b56942de61a3398ebdb00774b852a6dc6a1ba38764">SOLDIER_CLASS_ELITE</a>;
<a name="l03040"></a>03040                   SET_PALETTEREP_ID( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#0234867384fe2f03608cf551edf81506">VestPal</a>, <span class="stringliteral">"BLACKSHIRT"</span>  );
<a name="l03041"></a>03041                   SET_PALETTEREP_ID( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#2466fb9ff2f6d03d77f3d34eb6d2dba6">PantsPal</a>, <span class="stringliteral">"BLACKPANTS"</span>   );
<a name="l03042"></a>03042                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#85a4bb808c9aa3741d423bcf6efcb7b0">ClickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5756242c06aad8873b969149ff4280402">MERCS_ELITE_CODE</a> );
<a name="l03043"></a>03043                   <span class="keywordflow">break</span>;
<a name="l03044"></a>03044             <span class="keywordflow">case</span> <a class="code" href="Soldier_01Control_8h.html#d559b3ed307be626eacea8b56942de618d13f000b4b5195727feae9b48454950">SOLDIER_CLASS_MINER</a>:
<a name="l03045"></a>03045                   <span class="comment">//will probably never get called</span>
<a name="l03046"></a>03046                   <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#6f8b4186867f69e234b40ed1c87730c6">ubSoldierClass</a> = <a class="code" href="Soldier_01Control_8h.html#d559b3ed307be626eacea8b56942de61a3398ebdb00774b852a6dc6a1ba38764">SOLDIER_CLASS_ELITE</a>;
<a name="l03047"></a>03047                   <a class="code" href="EditorMercs_8cpp.html#f724bce39c86756cf49adebc2bc120bf">gubSoldierClass</a> = <a class="code" href="Soldier_01Control_8h.html#d559b3ed307be626eacea8b56942de618d13f000b4b5195727feae9b48454950">SOLDIER_CLASS_MINER</a>;
<a name="l03048"></a>03048                   <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> )
<a name="l03049"></a>03049                         <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#8c94f66e6fe51672802ee1ea24dddf07">ubSoldierClass</a> = <a class="code" href="Soldier_01Control_8h.html#d559b3ed307be626eacea8b56942de61a3398ebdb00774b852a6dc6a1ba38764">SOLDIER_CLASS_ELITE</a>;
<a name="l03050"></a>03050                   SET_PALETTEREP_ID( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#0234867384fe2f03608cf551edf81506">VestPal</a>, <span class="stringliteral">"greyVEST"</span>  );
<a name="l03051"></a>03051                   SET_PALETTEREP_ID( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#2466fb9ff2f6d03d77f3d34eb6d2dba6">PantsPal</a>, <span class="stringliteral">"BEIGEPANTS"</span>   );
<a name="l03052"></a>03052                   <span class="keywordflow">break</span>;
<a name="l03053"></a>03053 
<a name="l03054"></a>03054             <span class="keywordflow">default</span>:
<a name="l03055"></a>03055                   <span class="keywordflow">return</span>;
<a name="l03056"></a>03056       }
<a name="l03057"></a>03057       <a class="code" href="Soldier_01Control_8cpp.html#11353b21428c34b57d2cfb3ed2963588">CreateSoldierPalettes</a>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a> );
<a name="l03058"></a>03058 }
<a name="l03059"></a>03059 
<a name="l03060"></a><a class="code" href="EditorMercs_8h.html#678c62a8e907d60fd216df4252842296">03060</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#678c62a8e907d60fd216df4252842296">SetEnemyDroppableStatus</a>( <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a> uiSlot, <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> fDroppable )
<a name="l03061"></a>03061 {
<a name="l03062"></a>03062       <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> ) 
<a name="l03063"></a>03063       {
<a name="l03064"></a>03064             <span class="keywordflow">if</span>( fDroppable )
<a name="l03065"></a>03065             {
<a name="l03066"></a>03066                   <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> )
<a name="l03067"></a>03067                         <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#77f67dd5bf56fd387974309de1a5d3ea">Inv</a>[ uiSlot ].<a class="code" href="structOBJECTTYPE.html#0f1e67bac22f1b89c4040ef8a5ea48c2">fFlags</a> &amp;= (~OBJECT_UNDROPPABLE);
<a name="l03068"></a>03068                   <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a> )
<a name="l03069"></a>03069                         <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#13c875b952b6d634680165d127a9870b">inv</a>[ uiSlot ].<a class="code" href="structOBJECTTYPE.html#0f1e67bac22f1b89c4040ef8a5ea48c2">fFlags</a> &amp;= (~OBJECT_UNDROPPABLE);
<a name="l03070"></a>03070             }
<a name="l03071"></a>03071             <span class="keywordflow">else</span>
<a name="l03072"></a>03072             {
<a name="l03073"></a>03073                   <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> )
<a name="l03074"></a>03074                         <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#77f67dd5bf56fd387974309de1a5d3ea">Inv</a>[ uiSlot ].<a class="code" href="structOBJECTTYPE.html#0f1e67bac22f1b89c4040ef8a5ea48c2">fFlags</a> |= OBJECT_UNDROPPABLE;
<a name="l03075"></a>03075                   <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a> )
<a name="l03076"></a>03076                         <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#13c875b952b6d634680165d127a9870b">inv</a>[ uiSlot ].<a class="code" href="structOBJECTTYPE.html#0f1e67bac22f1b89c4040ef8a5ea48c2">fFlags</a> |= OBJECT_UNDROPPABLE;
<a name="l03077"></a>03077             }
<a name="l03078"></a>03078       }
<a name="l03079"></a>03079       <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#544bd12f560740d96e8c6fb33f308ea3">gbCurrSelect</a> != -1 &amp;&amp; uiSlot == (<a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>)<a class="code" href="EditorMercs_8cpp.html#20a3a478089d3e7ef31904fa69dc934f">gbMercSlotTypes</a>[ <a class="code" href="EditorMercs_8cpp.html#544bd12f560740d96e8c6fb33f308ea3">gbCurrSelect</a> ] )
<a name="l03080"></a>03080       {
<a name="l03081"></a>03081             <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#997f0a46700fb2fcb6fb0e31e4b09059">gpMercSlotItem</a>[ gbCurrSelect ]-&gt;usItem == NOTHING )
<a name="l03082"></a>03082                   <a class="code" href="Item_01Statistics_8cpp.html#a7cde20c34f6dd22d4a6741140e23bbe">SpecifyItemToEdit</a>( <a class="code" href="EditorMercs_8cpp.html#997f0a46700fb2fcb6fb0e31e4b09059">gpMercSlotItem</a>[ gbCurrSelect ], -1 );
<a name="l03083"></a>03083       }
<a name="l03084"></a>03084 }
<a name="l03085"></a>03085 
<a name="l03086"></a><a class="code" href="EditorMercs_8h.html#2911409a58f041f97af83c44aaeb5ef5">03086</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#2911409a58f041f97af83c44aaeb5ef5">ChangeCivGroup</a>( <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubNewCivGroup )
<a name="l03087"></a>03087 {
<a name="l03088"></a>03088       Assert( ubNewCivGroup &lt; <a class="code" href="Overhead_01Types_8h.html#e6cdb622357fec6e889e47579a0785243f6e24328cb224b93d72e04eb3a34e76">NUM_CIV_GROUPS</a> );
<a name="l03089"></a>03089       <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#730825eabcaa2a47486695078d8a55e6">gubCivGroup</a> == ubNewCivGroup )
<a name="l03090"></a>03090             <span class="keywordflow">return</span>;
<a name="l03091"></a>03091       <a class="code" href="EditorMercs_8cpp.html#730825eabcaa2a47486695078d8a55e6">gubCivGroup</a> = ubNewCivGroup;
<a name="l03092"></a>03092       <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> &amp;&amp; <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a> )
<a name="l03093"></a>03093       {
<a name="l03094"></a>03094             <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#c32e19edfc3eae79e96bbdc11819aa90">ubCivilianGroup</a> = <a class="code" href="EditorMercs_8cpp.html#730825eabcaa2a47486695078d8a55e6">gubCivGroup</a>;
<a name="l03095"></a>03095             <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> )
<a name="l03096"></a>03096                   <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#1190d364df3bb96d0c0931d8b5126ac7">ubCivilianGroup</a> = <a class="code" href="EditorMercs_8cpp.html#730825eabcaa2a47486695078d8a55e6">gubCivGroup</a>;
<a name="l03097"></a>03097             <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#d250d43185690987945d6884efdf79fc">ubCivilianGroup</a> = <a class="code" href="EditorMercs_8cpp.html#730825eabcaa2a47486695078d8a55e6">gubCivGroup</a>;
<a name="l03098"></a>03098       }
<a name="l03099"></a>03099       <span class="comment">//Adjust the text on the button</span>
<a name="l03100"></a>03100       <a class="code" href="Button_01System_8cpp.html#927e98ae8d3535e396faf9ade7f5feb8">SpecifyButtonText</a>( <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[ <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5438d15aa628496ddc29b265083f028bf">MERCS_CIVILIAN_GROUP</a> ], <a class="code" href="EditorMercs_8cpp.html#f66d3aaa0318dca6feaac3a43266e42e">gszCivGroupNames</a>[ <a class="code" href="EditorMercs_8cpp.html#730825eabcaa2a47486695078d8a55e6">gubCivGroup</a> ] );
<a name="l03101"></a>03101 }
<a name="l03102"></a>03102 
<a name="l03103"></a><a class="code" href="EditorMercs_8h.html#8c3872feeb2ee3a3fcf2c98f47160093">03103</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#8c3872feeb2ee3a3fcf2c98f47160093">RenderMercStrings</a>()
<a name="l03104"></a>03104 {
<a name="l03105"></a>03105       <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a>                                            *<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>;
<a name="l03106"></a>03106       <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sXPos, sYPos;
<a name="l03107"></a>03107       <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sX, sY;
<a name="l03108"></a>03108       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> *pStr;
<a name="l03109"></a>03109       <a class="code" href="structSOLDIERINITNODE.html">SOLDIERINITNODE</a> *curr;
<a name="l03110"></a>03110       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> <a class="code" href="Button_01System_8cpp.html#ac22642f3052cc77a6991a262ce4ad23">str</a>[50];
<a name="l03111"></a>03111 
<a name="l03112"></a>03112       curr = <a class="code" href="Soldier_01Init_01List_8cpp.html#eccf141fe2ea32a7ced15016e8593439">gSoldierInitHead</a>;
<a name="l03113"></a>03113       <span class="keywordflow">while</span>( curr )
<a name="l03114"></a>03114       {
<a name="l03115"></a>03115             <span class="keywordflow">if</span>( curr-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a> &amp;&amp; curr-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#73246323764393ce2a5ece7fcb7b7cf8">bVisible</a> == 1 )
<a name="l03116"></a>03116             { <span class="comment">//Render the health text</span>
<a name="l03117"></a>03117                   <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> = curr-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>;
<a name="l03118"></a>03118                   <a class="code" href="EditorMercs_8cpp.html#d755e45c524d7ae88713e840e1c2aee3">GetSoldierAboveGuyPositions</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>, &amp;sXPos, &amp;sYPos, FALSE );
<a name="l03119"></a>03119                   <span class="comment">// Display name</span>
<a name="l03120"></a>03120                   <a class="code" href="Font_8cpp.html#fa4871009f0473cca0380217753947dc">SetFont</a>( TINYFONT1 );
<a name="l03121"></a>03121                   <a class="code" href="Font_8cpp.html#a1fe8cc526be9e2c96b5dd66e348506f">SetFontBackground</a>( FONT_BLACK );
<a name="l03122"></a>03122                   <a class="code" href="Font_8cpp.html#388be5810478c3f3bdb861f144085d70">SetFontForeground</a>( FONT_WHITE );
<a name="l03123"></a>03123                   <span class="keywordflow">if</span> ( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#5a5648a1bb3507cc41f6be199c51a3f8">ubProfile</a> != NO_PROFILE )
<a name="l03124"></a>03124                   {
<a name="l03125"></a>03125                         <a class="code" href="Font_8cpp.html#d08dcd11daa6a1189cb123dff18cd7c8">FindFontCenterCoordinates</a>( sXPos, sYPos, (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(80 ), 1, <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#7bf7231f416aa66f38010b7a7e8f2341">name</a>, TINYFONT1, &amp;sX, &amp;sY );
<a name="l03126"></a>03126                         <span class="keywordflow">if</span>( sY &lt; 352 )
<a name="l03127"></a>03127                         {
<a name="l03128"></a>03128                               <a class="code" href="Render_01Dirty_8cpp.html#ae5c011dc4af8d9a67af870a92f56e1f">gprintfdirty</a>( sX, sY, <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#7bf7231f416aa66f38010b7a7e8f2341">name</a> );
<a name="l03129"></a>03129                               <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( sX, sY, <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#7bf7231f416aa66f38010b7a7e8f2341">name</a> );
<a name="l03130"></a>03130                         }
<a name="l03131"></a>03131                         sYPos += 10;
<a name="l03132"></a>03132 
<a name="l03133"></a>03133                         pStr = <a class="code" href="Interface_8cpp.html#7bdd8d084540a0d7be7b3d887cd75810">GetSoldierHealthString</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> );
<a name="l03134"></a>03134 
<a name="l03135"></a>03135                         <a class="code" href="Font_8cpp.html#fa4871009f0473cca0380217753947dc">SetFont</a>( TINYFONT1 );
<a name="l03136"></a>03136                         <a class="code" href="Font_8cpp.html#a1fe8cc526be9e2c96b5dd66e348506f">SetFontBackground</a>( FONT_BLACK  );
<a name="l03137"></a>03137                         <a class="code" href="Font_8cpp.html#388be5810478c3f3bdb861f144085d70">SetFontForeground</a>( FONT_RED );
<a name="l03138"></a>03138 
<a name="l03139"></a>03139                         <a class="code" href="Font_8cpp.html#d08dcd11daa6a1189cb123dff18cd7c8">FindFontCenterCoordinates</a>( sXPos, sYPos, 80, 1, pStr, TINYFONT1, &amp;sX, &amp;sY );
<a name="l03140"></a>03140                         <span class="keywordflow">if</span>( sY &lt; 352 )
<a name="l03141"></a>03141                         {
<a name="l03142"></a>03142                               <a class="code" href="Render_01Dirty_8cpp.html#ae5c011dc4af8d9a67af870a92f56e1f">gprintfdirty</a>( sX, sY, pStr );
<a name="l03143"></a>03143                               <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( sX, sY, pStr );
<a name="l03144"></a>03144                         }
<a name="l03145"></a>03145                         sYPos += 10;
<a name="l03146"></a>03146 
<a name="l03147"></a>03147                         <a class="code" href="Font_8cpp.html#388be5810478c3f3bdb861f144085d70">SetFontForeground</a>( FONT_GRAY2 );
<a name="l03148"></a>03148                         swprintf( str, L<span class="stringliteral">"Slot #%d"</span>, <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#18aef170576da81b10d00e7b6cd3627b">ubID</a> );
<a name="l03149"></a>03149                         <a class="code" href="Font_8cpp.html#d08dcd11daa6a1189cb123dff18cd7c8">FindFontCenterCoordinates</a>( sXPos, sYPos, 80, 1, str, TINYFONT1, &amp;sX, &amp;sY );
<a name="l03150"></a>03150                         <span class="keywordflow">if</span>( sY &lt; 352 )
<a name="l03151"></a>03151                         {
<a name="l03152"></a>03152                               <a class="code" href="Render_01Dirty_8cpp.html#ae5c011dc4af8d9a67af870a92f56e1f">gprintfdirty</a>( sX, sY, str );
<a name="l03153"></a>03153                               <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( sX, sY, str );
<a name="l03154"></a>03154                         }
<a name="l03155"></a>03155                         sYPos += 10;
<a name="l03156"></a>03156                   }
<a name="l03157"></a>03157                   <span class="keywordflow">else</span>
<a name="l03158"></a>03158                   {
<a name="l03159"></a>03159                         pStr = <a class="code" href="Interface_8cpp.html#7bdd8d084540a0d7be7b3d887cd75810">GetSoldierHealthString</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> );
<a name="l03160"></a>03160 
<a name="l03161"></a>03161                         <a class="code" href="Font_8cpp.html#fa4871009f0473cca0380217753947dc">SetFont</a>( TINYFONT1 );
<a name="l03162"></a>03162                         <a class="code" href="Font_8cpp.html#a1fe8cc526be9e2c96b5dd66e348506f">SetFontBackground</a>( FONT_BLACK );
<a name="l03163"></a>03163                         <a class="code" href="Font_8cpp.html#388be5810478c3f3bdb861f144085d70">SetFontForeground</a>( FONT_RED );
<a name="l03164"></a>03164 
<a name="l03165"></a>03165                         <a class="code" href="Font_8cpp.html#d08dcd11daa6a1189cb123dff18cd7c8">FindFontCenterCoordinates</a>( sXPos, sYPos, 80, 1, pStr, TINYFONT1, &amp;sX, &amp;sY );
<a name="l03166"></a>03166                         <span class="keywordflow">if</span>( sY &lt; 352 )
<a name="l03167"></a>03167                         {
<a name="l03168"></a>03168                               <a class="code" href="Render_01Dirty_8cpp.html#ae5c011dc4af8d9a67af870a92f56e1f">gprintfdirty</a>( sX, sY, pStr );
<a name="l03169"></a>03169                               <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( sX, sY, pStr );
<a name="l03170"></a>03170                         }
<a name="l03171"></a>03171                         sYPos += 10;
<a name="l03172"></a>03172 
<a name="l03173"></a>03173                         <a class="code" href="Font_8cpp.html#388be5810478c3f3bdb861f144085d70">SetFontForeground</a>( FONT_GRAY2 );
<a name="l03174"></a>03174                         swprintf( str, L<span class="stringliteral">"Slot #%d"</span>, <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#18aef170576da81b10d00e7b6cd3627b">ubID</a> );
<a name="l03175"></a>03175                         <a class="code" href="Font_8cpp.html#d08dcd11daa6a1189cb123dff18cd7c8">FindFontCenterCoordinates</a>( sXPos, sYPos, 80, 1, str, TINYFONT1, &amp;sX, &amp;sY );
<a name="l03176"></a>03176                         <span class="keywordflow">if</span>( sY &lt; 352 )
<a name="l03177"></a>03177                         {
<a name="l03178"></a>03178                               <a class="code" href="Render_01Dirty_8cpp.html#ae5c011dc4af8d9a67af870a92f56e1f">gprintfdirty</a>( sX, sY, str );
<a name="l03179"></a>03179                               <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( sX, sY, str );
<a name="l03180"></a>03180                         }
<a name="l03181"></a>03181                         sYPos += 10;
<a name="l03182"></a>03182                   }
<a name="l03183"></a>03183                   <span class="keywordflow">if</span>( curr-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#88e4f58ca15daeb28ee87c47c5eb2306">bOrders</a> == <a class="code" href="Overhead_01Types_8h.html#5e7fba63eebd783231b18f414e8a138f4f7b012e8cbd1e2cc2b3fa9e1b5c9f9f">RNDPTPATROL</a> || curr-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#88e4f58ca15daeb28ee87c47c5eb2306">bOrders</a> == <a class="code" href="Overhead_01Types_8h.html#5e7fba63eebd783231b18f414e8a138f7dc5dd2cff7953315a832e7a457deb9d">POINTPATROL</a> )
<a name="l03184"></a>03184                   { <span class="comment">//make sure the placement has at least one waypoint.</span>
<a name="l03185"></a>03185                         <span class="keywordflow">if</span>( !curr-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#8fb0d3b6b3bfd0f4abd7598cd8c29e4f">bPatrolCnt</a> )
<a name="l03186"></a>03186                         {
<a name="l03187"></a>03187                               <span class="keywordflow">if</span>( GetJA2Clock() % 1000 &lt; 500 )
<a name="l03188"></a>03188                                     <a class="code" href="Font_8cpp.html#388be5810478c3f3bdb861f144085d70">SetFontForeground</a>( FONT_DKRED );
<a name="l03189"></a>03189                               <span class="keywordflow">else</span> 
<a name="l03190"></a>03190                                     <a class="code" href="Font_8cpp.html#388be5810478c3f3bdb861f144085d70">SetFontForeground</a>( FONT_RED );
<a name="l03191"></a>03191                               swprintf( str, L<span class="stringliteral">"Patrol orders with no waypoints"</span> );
<a name="l03192"></a>03192                               <a class="code" href="Font_8cpp.html#d08dcd11daa6a1189cb123dff18cd7c8">FindFontCenterCoordinates</a>( sXPos, sYPos, 80, 1, str, TINYFONT1, &amp;sX, &amp;sY );
<a name="l03193"></a>03193                               <span class="keywordflow">if</span>( sY &lt; 352 )
<a name="l03194"></a>03194                               {
<a name="l03195"></a>03195                                     <a class="code" href="Render_01Dirty_8cpp.html#ae5c011dc4af8d9a67af870a92f56e1f">gprintfdirty</a>( sX, sY, str );
<a name="l03196"></a>03196                                     <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( sX, sY, str );
<a name="l03197"></a>03197                               }
<a name="l03198"></a>03198                               sYPos += 10;
<a name="l03199"></a>03199                         }
<a name="l03200"></a>03200                   }
<a name="l03201"></a>03201                   <span class="keywordflow">else</span> <span class="keywordflow">if</span>( curr-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#8fb0d3b6b3bfd0f4abd7598cd8c29e4f">bPatrolCnt</a> )
<a name="l03202"></a>03202                   {
<a name="l03203"></a>03203                         <span class="keywordflow">if</span>( GetJA2Clock() % 1000 &lt; 500 )
<a name="l03204"></a>03204                               <a class="code" href="Font_8cpp.html#388be5810478c3f3bdb861f144085d70">SetFontForeground</a>( FONT_DKRED );
<a name="l03205"></a>03205                         <span class="keywordflow">else</span> 
<a name="l03206"></a>03206                               <a class="code" href="Font_8cpp.html#388be5810478c3f3bdb861f144085d70">SetFontForeground</a>( FONT_RED );
<a name="l03207"></a>03207                         swprintf( str, L<span class="stringliteral">"Waypoints with no patrol orders"</span> );
<a name="l03208"></a>03208                         <a class="code" href="Font_8cpp.html#d08dcd11daa6a1189cb123dff18cd7c8">FindFontCenterCoordinates</a>( sXPos, sYPos, 80, 1, str, TINYFONT1, &amp;sX, &amp;sY );
<a name="l03209"></a>03209                         <span class="keywordflow">if</span>( sY &lt; 352 )
<a name="l03210"></a>03210                         {
<a name="l03211"></a>03211                               <a class="code" href="Render_01Dirty_8cpp.html#ae5c011dc4af8d9a67af870a92f56e1f">gprintfdirty</a>( sX, sY, str );
<a name="l03212"></a>03212                               <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( sX, sY, str );
<a name="l03213"></a>03213                         }
<a name="l03214"></a>03214                         sYPos += 10;
<a name="l03215"></a>03215                   }
<a name="l03216"></a>03216             }
<a name="l03217"></a>03217             curr = curr-&gt;<a class="code" href="structSOLDIERINITNODE.html#3b53e7c8ba8232dfeb0b0306de1700d9">next</a>;
<a name="l03218"></a>03218       }
<a name="l03219"></a>03219       <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#60bc6cddda8166a782f69d3899ae0803">gubCurrMercMode</a> == <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4dfc5362f856b3f5e32545c6d922e4a1f3">MERC_SCHEDULEMODE</a> )
<a name="l03220"></a>03220       {
<a name="l03221"></a>03221             <a class="code" href="EditorMercs_8cpp.html#9b5f58a38022156898d06642c353e67b">RenderCurrentSchedule</a>();
<a name="l03222"></a>03222       }
<a name="l03223"></a>03223 }
<a name="l03224"></a>03224 
<a name="l03225"></a><a class="code" href="EditorMercs_8h.html#e191c7bd9ae37ba2774e757a8b97d7e7">03225</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#e191c7bd9ae37ba2774e757a8b97d7e7">SetMercTeamVisibility</a>( <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a> bTeam, <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> fVisible )
<a name="l03226"></a>03226 {
<a name="l03227"></a>03227       <a class="code" href="structSOLDIERINITNODE.html">SOLDIERINITNODE</a> *curr;
<a name="l03228"></a>03228       <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a> bVisible;
<a name="l03229"></a>03229       curr = <a class="code" href="Soldier_01Init_01List_8cpp.html#eccf141fe2ea32a7ced15016e8593439">gSoldierInitHead</a>;
<a name="l03230"></a>03230       bVisible = fVisible ? 1 : -1;
<a name="l03231"></a>03231       <span class="keywordflow">while</span>( curr ) 
<a name="l03232"></a>03232       {
<a name="l03233"></a>03233             <span class="keywordflow">if</span>( curr-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#bd255e877f2966dbbd17ffbaa254a025">bTeam</a> == bTeam )
<a name="l03234"></a>03234             {
<a name="l03235"></a>03235                   <span class="keywordflow">if</span>( curr-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a> )
<a name="l03236"></a>03236                   {
<a name="l03237"></a>03237                         curr-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#a241a93ffddc42954bb878f9bcf4392c">bLastRenderVisibleValue</a> = bVisible;
<a name="l03238"></a>03238                         curr-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#73246323764393ce2a5ece7fcb7b7cf8">bVisible</a> = bVisible;
<a name="l03239"></a>03239                   }
<a name="l03240"></a>03240             }
<a name="l03241"></a>03241             curr = curr-&gt;<a class="code" href="structSOLDIERINITNODE.html#3b53e7c8ba8232dfeb0b0306de1700d9">next</a>;
<a name="l03242"></a>03242       }
<a name="l03243"></a>03243       <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a> &amp;&amp; <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a> &amp;&amp; <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#74a40a8aaf3efe840cdaf6be62556d82">bTeam</a> == bTeam &amp;&amp; !fVisible )
<a name="l03244"></a>03244       {
<a name="l03245"></a>03245             <a class="code" href="EditorMercs_8cpp.html#f298a8dfcc8c9b0580cc56c7cbd3b27d">IndicateSelectedMerc</a>( <a class="code" href="EditorMercs_8h.html#ac2e5fef5c3189d63a52aa8fdbcd136da386c8cf80ff330abc2b40bc89c45cd5">SELECT_NO_MERC</a> );
<a name="l03246"></a>03246       }
<a name="l03247"></a>03247 }
<a name="l03248"></a>03248 
<a name="l03249"></a><a class="code" href="EditorMercs_8cpp.html#7d38aec01f8c3081f9c77fd48f784151">03249</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#7d38aec01f8c3081f9c77fd48f784151">DetermineScheduleEditability</a>()
<a name="l03250"></a>03250 {
<a name="l03251"></a>03251       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> i;
<a name="l03252"></a>03252       <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#ffd3302fd9ab9992dc9032f6b536aaf3">EnableEditorButtons</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b55b3f49f5096a6ca2c2f4351a29db4bb8">MERCS_SCHEDULE_ACTION1</a>, <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5f4d9c4efd0d42858f99a6b005f324d6d">MERCS_SCHEDULE_DATA4B</a> );
<a name="l03253"></a>03253       <a class="code" href="Text_01Input_8cpp.html#c6922e2aa24f9c30c0cbd4c1858c339b">EnableTextFields</a>( 1, 4 );
<a name="l03254"></a>03254       <span class="keywordflow">for</span>( i = 0; i &lt; 4; i++ )
<a name="l03255"></a>03255       {
<a name="l03256"></a>03256             <span class="keywordflow">switch</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#7254a407b8916738ea5e706b6b503b7b">ubAction</a>[i] )
<a name="l03257"></a>03257             {
<a name="l03258"></a>03258                   <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e43f9eeab3ab94abb1acaa1d65a06ddc7a">SCHEDULE_ACTION_NONE</a>:
<a name="l03259"></a>03259                   <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e48684b9c6b6fbc854be685ed3d66354b5">SCHEDULE_ACTION_LEAVESECTOR</a>:
<a name="l03260"></a>03260                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#68c280e02c75d16b26efc3a79a117fed">EnableEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b55b3f49f5096a6ca2c2f4351a29db4bb8">MERCS_SCHEDULE_ACTION1</a> + i );
<a name="l03261"></a>03261                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#68c280e02c75d16b26efc3a79a117fed">EnableEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5106afd90db096bc4291a8609d2c9ba27">MERCS_SCHEDULE_VARIANCE1</a> + i );
<a name="l03262"></a>03262                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#fc2d8070000e2c718ab6ad15926fd054">HideEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b53b12bc050755f852d0836ebc184b3a22">MERCS_SCHEDULE_DATA1A</a> + i );
<a name="l03263"></a>03263                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#fc2d8070000e2c718ab6ad15926fd054">HideEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5480ecd764a58f18d89d67e71edc7f850">MERCS_SCHEDULE_DATA1B</a> + i );
<a name="l03264"></a>03264                         <span class="keywordflow">break</span>;
<a name="l03265"></a>03265                   <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e423e5ee19f521d74b55669c1f2dae0fc2">SCHEDULE_ACTION_LOCKDOOR</a>:
<a name="l03266"></a>03266                   <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e4dd9a7da2cf3e0d23fd16e026b3ed3556">SCHEDULE_ACTION_UNLOCKDOOR</a>:
<a name="l03267"></a>03267                   <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e46b07b5a8f9415aeeefd8696b54cdb463">SCHEDULE_ACTION_OPENDOOR</a>:
<a name="l03268"></a>03268                   <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e4faa15a022490b37b5083048b0734a8a4">SCHEDULE_ACTION_CLOSEDOOR</a>:
<a name="l03269"></a>03269                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#68c280e02c75d16b26efc3a79a117fed">EnableEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b55b3f49f5096a6ca2c2f4351a29db4bb8">MERCS_SCHEDULE_ACTION1</a> + i );
<a name="l03270"></a>03270                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#68c280e02c75d16b26efc3a79a117fed">EnableEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5106afd90db096bc4291a8609d2c9ba27">MERCS_SCHEDULE_VARIANCE1</a> + i );
<a name="l03271"></a>03271                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#2d5bb4a12f3cfb9cc44d0c5181d37640">ShowEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b53b12bc050755f852d0836ebc184b3a22">MERCS_SCHEDULE_DATA1A</a> + i );
<a name="l03272"></a>03272                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#2d5bb4a12f3cfb9cc44d0c5181d37640">ShowEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5480ecd764a58f18d89d67e71edc7f850">MERCS_SCHEDULE_DATA1B</a> + i );
<a name="l03273"></a>03273                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#68c280e02c75d16b26efc3a79a117fed">EnableEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b53b12bc050755f852d0836ebc184b3a22">MERCS_SCHEDULE_DATA1A</a> + i );
<a name="l03274"></a>03274                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#68c280e02c75d16b26efc3a79a117fed">EnableEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5480ecd764a58f18d89d67e71edc7f850">MERCS_SCHEDULE_DATA1B</a> + i );
<a name="l03275"></a>03275                         <span class="keywordflow">break</span>;
<a name="l03276"></a>03276                   <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e4a190b1ac60466d94d259433f8ad8c8ce">SCHEDULE_ACTION_GRIDNO</a>:
<a name="l03277"></a>03277                   <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e4172cb1d471fc65e9e6619666132c483b">SCHEDULE_ACTION_ENTERSECTOR</a>:
<a name="l03278"></a>03278                   <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e48c5c747492f34c4cc8480539c7500bb5">SCHEDULE_ACTION_SLEEP</a>:
<a name="l03279"></a>03279                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#68c280e02c75d16b26efc3a79a117fed">EnableEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b55b3f49f5096a6ca2c2f4351a29db4bb8">MERCS_SCHEDULE_ACTION1</a> + i );
<a name="l03280"></a>03280                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#68c280e02c75d16b26efc3a79a117fed">EnableEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5106afd90db096bc4291a8609d2c9ba27">MERCS_SCHEDULE_VARIANCE1</a> + i );
<a name="l03281"></a>03281                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#2d5bb4a12f3cfb9cc44d0c5181d37640">ShowEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b53b12bc050755f852d0836ebc184b3a22">MERCS_SCHEDULE_DATA1A</a> + i );
<a name="l03282"></a>03282                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#fc2d8070000e2c718ab6ad15926fd054">HideEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5480ecd764a58f18d89d67e71edc7f850">MERCS_SCHEDULE_DATA1B</a> + i );
<a name="l03283"></a>03283                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#68c280e02c75d16b26efc3a79a117fed">EnableEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b53b12bc050755f852d0836ebc184b3a22">MERCS_SCHEDULE_DATA1A</a> + i );
<a name="l03284"></a>03284                         <span class="keywordflow">break</span>;
<a name="l03285"></a>03285                   <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e4f8f9993ca3a217f9779910b00a2a0017">SCHEDULE_ACTION_STAYINSECTOR</a>:
<a name="l03286"></a>03286                         <a class="code" href="Text_01Input_8cpp.html#c2e6d1b1e60796fb8dded1f2cbfc7b32">DisableTextField</a>( (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)(i+1) );
<a name="l03287"></a>03287                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#68c280e02c75d16b26efc3a79a117fed">EnableEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b55b3f49f5096a6ca2c2f4351a29db4bb8">MERCS_SCHEDULE_ACTION1</a> + i );
<a name="l03288"></a>03288                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#46dcbdf5e61703a2e880790c755592c7">DisableEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5106afd90db096bc4291a8609d2c9ba27">MERCS_SCHEDULE_VARIANCE1</a> + i );
<a name="l03289"></a>03289                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#fc2d8070000e2c718ab6ad15926fd054">HideEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b53b12bc050755f852d0836ebc184b3a22">MERCS_SCHEDULE_DATA1A</a> + i );
<a name="l03290"></a>03290                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#fc2d8070000e2c718ab6ad15926fd054">HideEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5480ecd764a58f18d89d67e71edc7f850">MERCS_SCHEDULE_DATA1B</a> + i );
<a name="l03291"></a>03291                         <span class="keywordflow">break</span>;
<a name="l03292"></a>03292             }
<a name="l03293"></a>03293       }
<a name="l03294"></a>03294 }
<a name="l03295"></a>03295 
<a name="l03296"></a><a class="code" href="EditorMercs_8h.html#802a313c828f4159641f0a6a24624dcd">03296</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#802a313c828f4159641f0a6a24624dcd">CancelCurrentScheduleAction</a>()
<a name="l03297"></a>03297 {
<a name="l03298"></a>03298       <a class="code" href="EditorMercs_8cpp.html#4e6633bb17eec4453f988802bd5f594e">UpdateScheduleAction</a>( <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e43f9eeab3ab94abb1acaa1d65a06ddc7a">SCHEDULE_ACTION_NONE</a> );
<a name="l03299"></a>03299       <a class="code" href="EditorMercs_8cpp.html#7d38aec01f8c3081f9c77fd48f784151">DetermineScheduleEditability</a>();
<a name="l03300"></a>03300 }
<a name="l03301"></a>03301 
<a name="l03302"></a><a class="code" href="EditorMercs_8h.html#a8181d0dcfd5c5448f47d687a3fd0c8a">03302</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#a8181d0dcfd5c5448f47d687a3fd0c8a">RegisterCurrentScheduleAction</a>( <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> <a class="code" href="editscreen_8cpp.html#48f31659f64cd18c814b1612166c50b5">iMapIndex</a> )
<a name="l03303"></a>03303 {
<a name="l03304"></a>03304       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> <a class="code" href="Button_01System_8cpp.html#ac22642f3052cc77a6991a262ce4ad23">str</a>[6];
<a name="l03305"></a>03305       <a class="code" href="Simple_01Render_01Utils_8cpp.html#31324950ad85a80baf8ca1187ecde54c">MarkWorldDirty</a>();
<a name="l03306"></a>03306       swprintf( str, L<span class="stringliteral">"%d"</span>, iMapIndex );
<a name="l03307"></a>03307       <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#82403e13546a0bec793226fbd0bcb471">gfUseScheduleData2</a> )
<a name="l03308"></a>03308       {
<a name="l03309"></a>03309             <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#b5407a76f0d6bdcb0ff38bd46dd32d39">gfSingleAction</a> )
<a name="l03310"></a>03310                   <span class="keywordflow">return</span>;
<a name="l03311"></a>03311             <a class="code" href="EditorDefines_8h.html#afbeb36e0996e51d4002709ddf9b3155">iDrawMode</a> = <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b94038823c720fd6de182ccb8c882074dfbeb9b">DRAW_MODE_PLAYER</a> + <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#bd255e877f2966dbbd17ffbaa254a025">bTeam</a>;
<a name="l03312"></a>03312             <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#6606765a168cbb9f8d84094f6726d960">usData2</a>[ <a class="code" href="EditorMercs_8cpp.html#5af8e495c28c76340ef0301509722b12">gubCurrentScheduleActionIndex</a> ] = (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)iMapIndex;
<a name="l03313"></a>03313             <a class="code" href="Button_01System_8cpp.html#927e98ae8d3535e396faf9ade7f5feb8">SpecifyButtonText</a>( <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[ <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5480ecd764a58f18d89d67e71edc7f850">MERCS_SCHEDULE_DATA1B</a> + <a class="code" href="EditorMercs_8cpp.html#5af8e495c28c76340ef0301509722b12">gubCurrentScheduleActionIndex</a> ], str );
<a name="l03314"></a>03314             <a class="code" href="EditorMercs_8cpp.html#7d38aec01f8c3081f9c77fd48f784151">DetermineScheduleEditability</a>();
<a name="l03315"></a>03315             <a class="code" href="EditorMercs_8cpp.html#933ff7513fdbec27dc7f83237622aa89">gubScheduleInstructions</a> = <a class="code" href="EditorMercs_8cpp.html#c36f475ca5b446f4fde4c9b90bec77c8082c469685ccc189e35e923300c42df0">SCHEDULE_INSTRUCTIONS_NONE</a>;
<a name="l03316"></a>03316             <a class="code" href="EditorDefines_8h.html#3a8478611d591d976e9e594885e1811a">gfRenderTaskbar</a> = TRUE;
<a name="l03317"></a>03317             <a class="code" href="EditorMercs_8cpp.html#82403e13546a0bec793226fbd0bcb471">gfUseScheduleData2</a> = FALSE;
<a name="l03318"></a>03318       }
<a name="l03319"></a>03319       <span class="keywordflow">else</span>
<a name="l03320"></a>03320       {
<a name="l03321"></a>03321             <span class="keywordflow">switch</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#7254a407b8916738ea5e706b6b503b7b">ubAction</a>[ <a class="code" href="EditorMercs_8cpp.html#5af8e495c28c76340ef0301509722b12">gubCurrentScheduleActionIndex</a> ] )
<a name="l03322"></a>03322             {
<a name="l03323"></a>03323                   <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e423e5ee19f521d74b55669c1f2dae0fc2">SCHEDULE_ACTION_LOCKDOOR</a>:
<a name="l03324"></a>03324                   <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e4dd9a7da2cf3e0d23fd16e026b3ed3556">SCHEDULE_ACTION_UNLOCKDOOR</a>:
<a name="l03325"></a>03325                   <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e46b07b5a8f9415aeeefd8696b54cdb463">SCHEDULE_ACTION_OPENDOOR</a>:
<a name="l03326"></a>03326                   <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e4faa15a022490b37b5083048b0734a8a4">SCHEDULE_ACTION_CLOSEDOOR</a>:
<a name="l03327"></a>03327                         <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#b5407a76f0d6bdcb0ff38bd46dd32d39">gfSingleAction</a> )
<a name="l03328"></a>03328                         {
<a name="l03329"></a>03329                               gfSingleAction = FALSE;
<a name="l03330"></a>03330                               <a class="code" href="EditorMercs_8cpp.html#933ff7513fdbec27dc7f83237622aa89">gubScheduleInstructions</a> = <a class="code" href="EditorMercs_8cpp.html#c36f475ca5b446f4fde4c9b90bec77c8082c469685ccc189e35e923300c42df0">SCHEDULE_INSTRUCTIONS_NONE</a>;
<a name="l03331"></a>03331                               <a class="code" href="EditorDefines_8h.html#3a8478611d591d976e9e594885e1811a">gfRenderTaskbar</a> = TRUE;
<a name="l03332"></a>03332                               <a class="code" href="EditorMercs_8cpp.html#7d38aec01f8c3081f9c77fd48f784151">DetermineScheduleEditability</a>();
<a name="l03333"></a>03333                               <span class="keywordflow">break</span>;
<a name="l03334"></a>03334                         }
<a name="l03335"></a>03335                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#46dcbdf5e61703a2e880790c755592c7">DisableEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b53b12bc050755f852d0836ebc184b3a22">MERCS_SCHEDULE_DATA1A</a> + <a class="code" href="EditorMercs_8cpp.html#5af8e495c28c76340ef0301509722b12">gubCurrentScheduleActionIndex</a> );
<a name="l03336"></a>03336                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#68c280e02c75d16b26efc3a79a117fed">EnableEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5480ecd764a58f18d89d67e71edc7f850">MERCS_SCHEDULE_DATA1B</a> + <a class="code" href="EditorMercs_8cpp.html#5af8e495c28c76340ef0301509722b12">gubCurrentScheduleActionIndex</a> );
<a name="l03337"></a>03337                         <a class="code" href="EditorMercs_8cpp.html#82403e13546a0bec793226fbd0bcb471">gfUseScheduleData2</a> = TRUE;
<a name="l03338"></a>03338                         <a class="code" href="EditorDefines_8h.html#afbeb36e0996e51d4002709ddf9b3155">iDrawMode</a> = <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b940388ad9910bd8ec7361f49c8c841d81ba576">DRAW_MODE_SCHEDULEACTION</a>;
<a name="l03339"></a>03339                         <a class="code" href="EditorMercs_8cpp.html#933ff7513fdbec27dc7f83237622aa89">gubScheduleInstructions</a> = <a class="code" href="EditorMercs_8cpp.html#c36f475ca5b446f4fde4c9b90bec77c8926e41b8ddb37b1dff7cc84bccc6e5c7">SCHEDULE_INSTRUCTIONS_DOOR2</a>;
<a name="l03340"></a>03340                         <a class="code" href="EditorDefines_8h.html#3a8478611d591d976e9e594885e1811a">gfRenderTaskbar</a> = TRUE;
<a name="l03341"></a>03341                         <span class="keywordflow">break</span>;
<a name="l03342"></a>03342                   <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e4a190b1ac60466d94d259433f8ad8c8ce">SCHEDULE_ACTION_GRIDNO</a>:
<a name="l03343"></a>03343                   <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e4172cb1d471fc65e9e6619666132c483b">SCHEDULE_ACTION_ENTERSECTOR</a>:
<a name="l03344"></a>03344                   <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e48c5c747492f34c4cc8480539c7500bb5">SCHEDULE_ACTION_SLEEP</a>:
<a name="l03345"></a>03345                         <a class="code" href="EditorDefines_8h.html#afbeb36e0996e51d4002709ddf9b3155">iDrawMode</a> = <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b94038823c720fd6de182ccb8c882074dfbeb9b">DRAW_MODE_PLAYER</a> + <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#bd255e877f2966dbbd17ffbaa254a025">bTeam</a>;
<a name="l03346"></a>03346                         <a class="code" href="EditorMercs_8cpp.html#7d38aec01f8c3081f9c77fd48f784151">DetermineScheduleEditability</a>();
<a name="l03347"></a>03347                         <a class="code" href="EditorMercs_8cpp.html#933ff7513fdbec27dc7f83237622aa89">gubScheduleInstructions</a> = <a class="code" href="EditorMercs_8cpp.html#c36f475ca5b446f4fde4c9b90bec77c8082c469685ccc189e35e923300c42df0">SCHEDULE_INSTRUCTIONS_NONE</a>;
<a name="l03348"></a>03348                         <a class="code" href="EditorDefines_8h.html#3a8478611d591d976e9e594885e1811a">gfRenderTaskbar</a> = TRUE;
<a name="l03349"></a>03349                         <span class="keywordflow">break</span>;
<a name="l03350"></a>03350                   <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e48684b9c6b6fbc854be685ed3d66354b5">SCHEDULE_ACTION_LEAVESECTOR</a>:
<a name="l03351"></a>03351                   <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e4f8f9993ca3a217f9779910b00a2a0017">SCHEDULE_ACTION_STAYINSECTOR</a>:
<a name="l03352"></a>03352                   <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e43f9eeab3ab94abb1acaa1d65a06ddc7a">SCHEDULE_ACTION_NONE</a>:
<a name="l03353"></a>03353                         <span class="keywordflow">break</span>;
<a name="l03354"></a>03354             }
<a name="l03355"></a>03355             <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#475c9bc0353131ecaceb1b9f31b3ff31">usData1</a>[ <a class="code" href="EditorMercs_8cpp.html#5af8e495c28c76340ef0301509722b12">gubCurrentScheduleActionIndex</a> ] = (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)iMapIndex;
<a name="l03356"></a>03356             <a class="code" href="Button_01System_8cpp.html#927e98ae8d3535e396faf9ade7f5feb8">SpecifyButtonText</a>( <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[ <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b53b12bc050755f852d0836ebc184b3a22">MERCS_SCHEDULE_DATA1A</a> + <a class="code" href="EditorMercs_8cpp.html#5af8e495c28c76340ef0301509722b12">gubCurrentScheduleActionIndex</a> ], str );
<a name="l03357"></a>03357       }
<a name="l03358"></a>03358 }
<a name="l03359"></a>03359 
<a name="l03360"></a><a class="code" href="EditorMercs_8h.html#940bd739424920f560d7455f919c810a">03360</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#940bd739424920f560d7455f919c810a">StartScheduleAction</a>()
<a name="l03361"></a>03361 {
<a name="l03362"></a>03362       <span class="keywordflow">switch</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#7254a407b8916738ea5e706b6b503b7b">ubAction</a>[ <a class="code" href="EditorMercs_8cpp.html#5af8e495c28c76340ef0301509722b12">gubCurrentScheduleActionIndex</a> ] )
<a name="l03363"></a>03363       {
<a name="l03364"></a>03364             <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e43f9eeab3ab94abb1acaa1d65a06ddc7a">SCHEDULE_ACTION_NONE</a>:
<a name="l03365"></a>03365                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#ffd3302fd9ab9992dc9032f6b536aaf3">EnableEditorButtons</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b55b3f49f5096a6ca2c2f4351a29db4bb8">MERCS_SCHEDULE_ACTION1</a>, <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5f4d9c4efd0d42858f99a6b005f324d6d">MERCS_SCHEDULE_DATA4B</a> );
<a name="l03366"></a>03366                   <a class="code" href="Text_01Input_8cpp.html#c6922e2aa24f9c30c0cbd4c1858c339b">EnableTextFields</a>( 1, 4 );
<a name="l03367"></a>03367                   <a class="code" href="EditorMercs_8cpp.html#933ff7513fdbec27dc7f83237622aa89">gubScheduleInstructions</a> = <a class="code" href="EditorMercs_8cpp.html#c36f475ca5b446f4fde4c9b90bec77c8082c469685ccc189e35e923300c42df0">SCHEDULE_INSTRUCTIONS_NONE</a>;
<a name="l03368"></a>03368                   <a class="code" href="EditorDefines_8h.html#3a8478611d591d976e9e594885e1811a">gfRenderTaskbar</a> = TRUE;
<a name="l03369"></a>03369                   <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#475c9bc0353131ecaceb1b9f31b3ff31">usData1</a>[ <a class="code" href="EditorMercs_8cpp.html#5af8e495c28c76340ef0301509722b12">gubCurrentScheduleActionIndex</a> ] = 0xffff;
<a name="l03370"></a>03370                   <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#6606765a168cbb9f8d84094f6726d960">usData2</a>[ <a class="code" href="EditorMercs_8cpp.html#5af8e495c28c76340ef0301509722b12">gubCurrentScheduleActionIndex</a> ] = 0xffff;
<a name="l03371"></a>03371                   <span class="keywordflow">break</span>;
<a name="l03372"></a>03372             <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e423e5ee19f521d74b55669c1f2dae0fc2">SCHEDULE_ACTION_LOCKDOOR</a>:
<a name="l03373"></a>03373             <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e4dd9a7da2cf3e0d23fd16e026b3ed3556">SCHEDULE_ACTION_UNLOCKDOOR</a>:
<a name="l03374"></a>03374             <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e46b07b5a8f9415aeeefd8696b54cdb463">SCHEDULE_ACTION_OPENDOOR</a>:
<a name="l03375"></a>03375             <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e4faa15a022490b37b5083048b0734a8a4">SCHEDULE_ACTION_CLOSEDOOR</a>:
<a name="l03376"></a>03376                   <span class="comment">//First disable everything -- its easier that way.</span>
<a name="l03377"></a>03377                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#2d5bb4a12f3cfb9cc44d0c5181d37640">ShowEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b53b12bc050755f852d0836ebc184b3a22">MERCS_SCHEDULE_DATA1A</a> + <a class="code" href="EditorMercs_8cpp.html#5af8e495c28c76340ef0301509722b12">gubCurrentScheduleActionIndex</a> );
<a name="l03378"></a>03378                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#2d5bb4a12f3cfb9cc44d0c5181d37640">ShowEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5480ecd764a58f18d89d67e71edc7f850">MERCS_SCHEDULE_DATA1B</a> + <a class="code" href="EditorMercs_8cpp.html#5af8e495c28c76340ef0301509722b12">gubCurrentScheduleActionIndex</a> );
<a name="l03379"></a>03379                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#f8c352d03f30207ed74e324ef1afa7dc">DisableEditorButtons</a>( MERCS_SCHEDULE_ACTION1, <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5f4d9c4efd0d42858f99a6b005f324d6d">MERCS_SCHEDULE_DATA4B</a> );
<a name="l03380"></a>03380                   <a class="code" href="Text_01Input_8cpp.html#0082d4651702c4ad186c2dd9c5a14143">DisableTextFields</a>( 1, 4 );
<a name="l03381"></a>03381                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#68c280e02c75d16b26efc3a79a117fed">EnableEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b53b12bc050755f852d0836ebc184b3a22">MERCS_SCHEDULE_DATA1A</a> + <a class="code" href="EditorMercs_8cpp.html#5af8e495c28c76340ef0301509722b12">gubCurrentScheduleActionIndex</a> );
<a name="l03382"></a>03382                   <a class="code" href="EditorMercs_8cpp.html#82403e13546a0bec793226fbd0bcb471">gfUseScheduleData2</a> = FALSE;
<a name="l03383"></a>03383                   <a class="code" href="EditorDefines_8h.html#afbeb36e0996e51d4002709ddf9b3155">iDrawMode</a> = <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b940388ad9910bd8ec7361f49c8c841d81ba576">DRAW_MODE_SCHEDULEACTION</a>;
<a name="l03384"></a>03384                   <a class="code" href="EditorMercs_8cpp.html#933ff7513fdbec27dc7f83237622aa89">gubScheduleInstructions</a> = <a class="code" href="EditorMercs_8cpp.html#c36f475ca5b446f4fde4c9b90bec77c8637f75597c2cc43738a5ea3317b9936a">SCHEDULE_INSTRUCTIONS_DOOR1</a>;
<a name="l03385"></a>03385                   <a class="code" href="EditorDefines_8h.html#3a8478611d591d976e9e594885e1811a">gfRenderTaskbar</a> = TRUE;
<a name="l03386"></a>03386                   <span class="keywordflow">break</span>;
<a name="l03387"></a>03387             <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e4a190b1ac60466d94d259433f8ad8c8ce">SCHEDULE_ACTION_GRIDNO</a>:
<a name="l03388"></a>03388             <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e4172cb1d471fc65e9e6619666132c483b">SCHEDULE_ACTION_ENTERSECTOR</a>:
<a name="l03389"></a>03389             <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e48c5c747492f34c4cc8480539c7500bb5">SCHEDULE_ACTION_SLEEP</a>:
<a name="l03390"></a>03390                         <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#2d5bb4a12f3cfb9cc44d0c5181d37640">ShowEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b53b12bc050755f852d0836ebc184b3a22">MERCS_SCHEDULE_DATA1A</a> + <a class="code" href="EditorMercs_8cpp.html#5af8e495c28c76340ef0301509722b12">gubCurrentScheduleActionIndex</a> );
<a name="l03391"></a>03391                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#fc2d8070000e2c718ab6ad15926fd054">HideEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5480ecd764a58f18d89d67e71edc7f850">MERCS_SCHEDULE_DATA1B</a> + <a class="code" href="EditorMercs_8cpp.html#5af8e495c28c76340ef0301509722b12">gubCurrentScheduleActionIndex</a> );
<a name="l03392"></a>03392                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#f8c352d03f30207ed74e324ef1afa7dc">DisableEditorButtons</a>( MERCS_SCHEDULE_ACTION1, <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5f4d9c4efd0d42858f99a6b005f324d6d">MERCS_SCHEDULE_DATA4B</a> );
<a name="l03393"></a>03393                   <a class="code" href="Text_01Input_8cpp.html#0082d4651702c4ad186c2dd9c5a14143">DisableTextFields</a>( 1, 4 );
<a name="l03394"></a>03394                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#68c280e02c75d16b26efc3a79a117fed">EnableEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b53b12bc050755f852d0836ebc184b3a22">MERCS_SCHEDULE_DATA1A</a> + <a class="code" href="EditorMercs_8cpp.html#5af8e495c28c76340ef0301509722b12">gubCurrentScheduleActionIndex</a> );
<a name="l03395"></a>03395                   <a class="code" href="EditorMercs_8cpp.html#82403e13546a0bec793226fbd0bcb471">gfUseScheduleData2</a> = FALSE;
<a name="l03396"></a>03396                   <a class="code" href="EditorDefines_8h.html#afbeb36e0996e51d4002709ddf9b3155">iDrawMode</a> = <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b940388ad9910bd8ec7361f49c8c841d81ba576">DRAW_MODE_SCHEDULEACTION</a>;
<a name="l03397"></a>03397                   <a class="code" href="EditorMercs_8cpp.html#933ff7513fdbec27dc7f83237622aa89">gubScheduleInstructions</a> = <a class="code" href="EditorMercs_8cpp.html#c36f475ca5b446f4fde4c9b90bec77c881a68e90424ca40e2e0a515f7b18b7bf">SCHEDULE_INSTRUCTIONS_GRIDNO</a>;
<a name="l03398"></a>03398                   <a class="code" href="EditorDefines_8h.html#3a8478611d591d976e9e594885e1811a">gfRenderTaskbar</a> = TRUE;
<a name="l03399"></a>03399                   <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#6606765a168cbb9f8d84094f6726d960">usData2</a>[ <a class="code" href="EditorMercs_8cpp.html#5af8e495c28c76340ef0301509722b12">gubCurrentScheduleActionIndex</a> ] = 0xffff;
<a name="l03400"></a>03400                   <span class="keywordflow">break</span>;
<a name="l03401"></a>03401             <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e48684b9c6b6fbc854be685ed3d66354b5">SCHEDULE_ACTION_LEAVESECTOR</a>:
<a name="l03402"></a>03402             <span class="keywordflow">case</span> <a class="code" href="Scheduling_8h.html#9e9505a91a84992d04ba4e85217fb4e4f8f9993ca3a217f9779910b00a2a0017">SCHEDULE_ACTION_STAYINSECTOR</a>:
<a name="l03403"></a>03403                   <a class="code" href="EditorMercs_8cpp.html#933ff7513fdbec27dc7f83237622aa89">gubScheduleInstructions</a> = <a class="code" href="EditorMercs_8cpp.html#c36f475ca5b446f4fde4c9b90bec77c8082c469685ccc189e35e923300c42df0">SCHEDULE_INSTRUCTIONS_NONE</a>;
<a name="l03404"></a>03404                   <a class="code" href="EditorDefines_8h.html#3a8478611d591d976e9e594885e1811a">gfRenderTaskbar</a> = TRUE;
<a name="l03405"></a>03405                   <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#475c9bc0353131ecaceb1b9f31b3ff31">usData1</a>[ <a class="code" href="EditorMercs_8cpp.html#5af8e495c28c76340ef0301509722b12">gubCurrentScheduleActionIndex</a> ] = 0xffff;
<a name="l03406"></a>03406                   <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#6606765a168cbb9f8d84094f6726d960">usData2</a>[ <a class="code" href="EditorMercs_8cpp.html#5af8e495c28c76340ef0301509722b12">gubCurrentScheduleActionIndex</a> ] = 0xffff;
<a name="l03407"></a>03407                   <span class="keywordflow">break</span>;
<a name="l03408"></a>03408       }
<a name="l03409"></a>03409       <a class="code" href="Simple_01Render_01Utils_8cpp.html#31324950ad85a80baf8ca1187ecde54c">MarkWorldDirty</a>();
<a name="l03410"></a>03410 }
<a name="l03411"></a>03411 
<a name="l03412"></a><a class="code" href="EditorMercs_8h.html#4e6633bb17eec4453f988802bd5f594e">03412</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#4e6633bb17eec4453f988802bd5f594e">UpdateScheduleAction</a>( <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubNewAction )
<a name="l03413"></a>03413 {
<a name="l03414"></a>03414       <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#7254a407b8916738ea5e706b6b503b7b">ubAction</a>[ <a class="code" href="EditorMercs_8cpp.html#5af8e495c28c76340ef0301509722b12">gubCurrentScheduleActionIndex</a> ] = ubNewAction;
<a name="l03415"></a>03415       <a class="code" href="Button_01System_8cpp.html#927e98ae8d3535e396faf9ade7f5feb8">SpecifyButtonText</a>( <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[ <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b55b3f49f5096a6ca2c2f4351a29db4bb8">MERCS_SCHEDULE_ACTION1</a> + <a class="code" href="EditorMercs_8cpp.html#5af8e495c28c76340ef0301509722b12">gubCurrentScheduleActionIndex</a> ], 
<a name="l03416"></a>03416             <a class="code" href="EditorMercs_8cpp.html#91651ad3ee5934403424f95b71e1607c">gszScheduleActions</a>[ ubNewAction ] );
<a name="l03417"></a>03417       <a class="code" href="Button_01System_8cpp.html#d3a0665e113d4bd29bf6523c0bad54bb">MSYS_SetBtnUserData</a>( <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[ <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b55b3f49f5096a6ca2c2f4351a29db4bb8">MERCS_SCHEDULE_ACTION1</a> + <a class="code" href="EditorMercs_8cpp.html#5af8e495c28c76340ef0301509722b12">gubCurrentScheduleActionIndex</a> ], 0, ubNewAction );
<a name="l03418"></a>03418       <span class="comment">//Now, based on this action, disable the other buttons</span>
<a name="l03419"></a>03419       <a class="code" href="EditorMercs_8cpp.html#940bd739424920f560d7455f919c810a">StartScheduleAction</a>();
<a name="l03420"></a>03420       <a class="code" href="EditorMercs_8cpp.html#b5407a76f0d6bdcb0ff38bd46dd32d39">gfSingleAction</a> = FALSE;
<a name="l03421"></a>03421 }
<a name="l03422"></a>03422 
<a name="l03423"></a>03423 <span class="comment">// 0:1A, 1:1B, 2:2A, 3:2B, ...</span>
<a name="l03424"></a><a class="code" href="EditorMercs_8h.html#437934c1f29d97853cb1d4b948f9758f">03424</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#437934c1f29d97853cb1d4b948f9758f">FindScheduleGridNo</a>( <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubScheduleData )
<a name="l03425"></a>03425 {
<a name="l03426"></a>03426       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> <a class="code" href="editscreen_8cpp.html#48f31659f64cd18c814b1612166c50b5">iMapIndex</a>;
<a name="l03427"></a>03427       <span class="keywordflow">switch</span>( ubScheduleData )
<a name="l03428"></a>03428       {
<a name="l03429"></a>03429             <span class="keywordflow">case</span> 0: <span class="comment">//1a</span>
<a name="l03430"></a>03430                   iMapIndex = <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#475c9bc0353131ecaceb1b9f31b3ff31">usData1</a>[0];
<a name="l03431"></a>03431                   <span class="keywordflow">break</span>;
<a name="l03432"></a>03432             <span class="keywordflow">case</span> 1:     <span class="comment">//1b</span>
<a name="l03433"></a>03433                   iMapIndex = <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#6606765a168cbb9f8d84094f6726d960">usData2</a>[0];
<a name="l03434"></a>03434                   <span class="keywordflow">break</span>;
<a name="l03435"></a>03435             <span class="keywordflow">case</span> 2:     <span class="comment">//2a</span>
<a name="l03436"></a>03436                   iMapIndex = <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#475c9bc0353131ecaceb1b9f31b3ff31">usData1</a>[1];
<a name="l03437"></a>03437                   <span class="keywordflow">break</span>;
<a name="l03438"></a>03438             <span class="keywordflow">case</span> 3: <span class="comment">//2b</span>
<a name="l03439"></a>03439                   iMapIndex = <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#6606765a168cbb9f8d84094f6726d960">usData2</a>[1];
<a name="l03440"></a>03440                   <span class="keywordflow">break</span>;
<a name="l03441"></a>03441             <span class="keywordflow">case</span> 4:     <span class="comment">//3a</span>
<a name="l03442"></a>03442                   iMapIndex = <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#475c9bc0353131ecaceb1b9f31b3ff31">usData1</a>[2];
<a name="l03443"></a>03443                   <span class="keywordflow">break</span>;
<a name="l03444"></a>03444             <span class="keywordflow">case</span> 5:     <span class="comment">//3b</span>
<a name="l03445"></a>03445                   iMapIndex = <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#6606765a168cbb9f8d84094f6726d960">usData2</a>[2];
<a name="l03446"></a>03446                   <span class="keywordflow">break</span>;
<a name="l03447"></a>03447             <span class="keywordflow">case</span> 6:     <span class="comment">//4a</span>
<a name="l03448"></a>03448                   iMapIndex = <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#475c9bc0353131ecaceb1b9f31b3ff31">usData1</a>[3];
<a name="l03449"></a>03449                   <span class="keywordflow">break</span>;
<a name="l03450"></a>03450             <span class="keywordflow">case</span> 7:     <span class="comment">//4b</span>
<a name="l03451"></a>03451                   iMapIndex = <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#6606765a168cbb9f8d84094f6726d960">usData2</a>[3];
<a name="l03452"></a>03452                   <span class="keywordflow">break</span>;
<a name="l03453"></a>03453             <span class="keywordflow">default</span>:
<a name="l03454"></a>03454                   AssertMsg( 0, <span class="stringliteral">"FindScheduleGridNo passed incorrect dataID."</span> );
<a name="l03455"></a>03455       }
<a name="l03456"></a>03456       <span class="keywordflow">if</span>( iMapIndex != 0xffff )
<a name="l03457"></a>03457       {
<a name="l03458"></a>03458             <a class="code" href="Simple_01Render_01Utils_8cpp.html#f1caf9ac5fd79ba60a485a119481c456">CenterScreenAtMapIndex</a>( iMapIndex );
<a name="l03459"></a>03459       }
<a name="l03460"></a>03460 }
<a name="l03461"></a>03461 
<a name="l03462"></a><a class="code" href="EditorMercs_8h.html#05e984b163e7db307d7181d8460644fa">03462</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#05e984b163e7db307d7181d8460644fa">ClearCurrentSchedule</a>()
<a name="l03463"></a>03463 {
<a name="l03464"></a>03464       <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> i;
<a name="l03465"></a>03465       memset( &amp;<a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>, 0, <span class="keyword">sizeof</span>( <a class="code" href="structSCHEDULENODE.html">SCHEDULENODE</a> ) );
<a name="l03466"></a>03466       <span class="keywordflow">for</span>( i = 0; i &lt; 4; i++ )
<a name="l03467"></a>03467       {
<a name="l03468"></a>03468             <a class="code" href="Button_01System_8cpp.html#d3a0665e113d4bd29bf6523c0bad54bb">MSYS_SetBtnUserData</a>( <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[ <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b55b3f49f5096a6ca2c2f4351a29db4bb8">MERCS_SCHEDULE_ACTION1</a> + i ], 0, 0 );
<a name="l03469"></a>03469             <a class="code" href="Button_01System_8cpp.html#927e98ae8d3535e396faf9ade7f5feb8">SpecifyButtonText</a>( <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[ <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b55b3f49f5096a6ca2c2f4351a29db4bb8">MERCS_SCHEDULE_ACTION1</a> + i ], L<span class="stringliteral">"No action"</span> );
<a name="l03470"></a>03470             <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#3f66611504ece97ffd37fa37e787fad5">usTime</a>[i] = 0xffff;
<a name="l03471"></a>03471             <a class="code" href="Text_01Input_8cpp.html#ad4c214e16a252c14c59cc32f93cf63a">SetExclusive24HourTimeValue</a>( (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)(i+1), <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#3f66611504ece97ffd37fa37e787fad5">usTime</a>[ i ] ); <span class="comment">//blanks the field</span>
<a name="l03472"></a>03472             <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#475c9bc0353131ecaceb1b9f31b3ff31">usData1</a>[i] = 0xffff;
<a name="l03473"></a>03473             <a class="code" href="Button_01System_8cpp.html#927e98ae8d3535e396faf9ade7f5feb8">SpecifyButtonText</a>( <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[ <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b53b12bc050755f852d0836ebc184b3a22">MERCS_SCHEDULE_DATA1A</a> + i ], L<span class="stringliteral">""</span> );
<a name="l03474"></a>03474             <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#6606765a168cbb9f8d84094f6726d960">usData2</a>[i] = 0xffff;
<a name="l03475"></a>03475             <a class="code" href="Button_01System_8cpp.html#927e98ae8d3535e396faf9ade7f5feb8">SpecifyButtonText</a>( <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[ <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5480ecd764a58f18d89d67e71edc7f850">MERCS_SCHEDULE_DATA1B</a> + i ], L<span class="stringliteral">""</span> );
<a name="l03476"></a>03476       }
<a name="l03477"></a>03477       <span class="comment">//Remove the variance stuff</span>
<a name="l03478"></a>03478       <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#3b102ddd2d03ba6da887bbf39015f821">usFlags</a> = 0;
<a name="l03479"></a>03479       <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#70560150a621778b61a3b7e2819e623c">UnclickEditorButtons</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5106afd90db096bc4291a8609d2c9ba27">MERCS_SCHEDULE_VARIANCE1</a>, <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b52b5b33667584ee0448ef9ca6281aa65c">MERCS_SCHEDULE_VARIANCE4</a> );
<a name="l03480"></a>03480 
<a name="l03481"></a>03481       <a class="code" href="EditorMercs_8cpp.html#5af8e495c28c76340ef0301509722b12">gubCurrentScheduleActionIndex</a> = 0;
<a name="l03482"></a>03482       <a class="code" href="EditorMercs_8cpp.html#7d38aec01f8c3081f9c77fd48f784151">DetermineScheduleEditability</a>();
<a name="l03483"></a>03483       <a class="code" href="EditorDefines_8h.html#3a8478611d591d976e9e594885e1811a">gfRenderTaskbar</a> = TRUE;
<a name="l03484"></a>03484       <a class="code" href="Simple_01Render_01Utils_8cpp.html#31324950ad85a80baf8ca1187ecde54c">MarkWorldDirty</a>();
<a name="l03485"></a>03485 }
<a name="l03486"></a>03486 
<a name="l03487"></a><a class="code" href="EditorMercs_8cpp.html#9b5f58a38022156898d06642c353e67b">03487</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#9b5f58a38022156898d06642c353e67b">RenderCurrentSchedule</a>()
<a name="l03488"></a>03488 {
<a name="l03489"></a>03489       <a class="code" href="Types_8h.html#8d06b04c04132c6f7c0fcb08c6167455">FLOAT</a> dOffsetX, dOffsetY;
<a name="l03490"></a>03490       <a class="code" href="Types_8h.html#8d06b04c04132c6f7c0fcb08c6167455">FLOAT</a> ScrnX, ScrnY;
<a name="l03491"></a>03491       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> i;
<a name="l03492"></a>03492       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> <a class="code" href="editscreen_8cpp.html#48f31659f64cd18c814b1612166c50b5">iMapIndex</a>;
<a name="l03493"></a>03493       <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sXMapPos, sYMapPos;
<a name="l03494"></a>03494       <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sScreenX, sScreenY;
<a name="l03495"></a>03495       <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sX, sY;
<a name="l03496"></a>03496       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> <a class="code" href="Button_01System_8cpp.html#ac22642f3052cc77a6991a262ce4ad23">str</a>[ 3 ];
<a name="l03497"></a>03497       <span class="keywordflow">for</span>( i = 0; i &lt; 8; i++ )
<a name="l03498"></a>03498       {
<a name="l03499"></a>03499             <span class="keywordflow">if</span>( i % 2 )
<a name="l03500"></a>03500                   iMapIndex = <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#6606765a168cbb9f8d84094f6726d960">usData2</a>[ i / 2 ];
<a name="l03501"></a>03501             <span class="keywordflow">else</span>
<a name="l03502"></a>03502                   iMapIndex = <a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>.<a class="code" href="structSCHEDULENODE.html#475c9bc0353131ecaceb1b9f31b3ff31">usData1</a>[ i / 2 ];
<a name="l03503"></a>03503 
<a name="l03504"></a>03504             <span class="keywordflow">if</span>( iMapIndex == 0xffff )
<a name="l03505"></a>03505                   <span class="keywordflow">continue</span>;
<a name="l03506"></a>03506 
<a name="l03507"></a>03507             <span class="comment">// Convert it's location to screen coordinates</span>
<a name="l03508"></a>03508             <a class="code" href="Isometric_01Utils_8cpp.html#42da2d46d5074c97787f28fdf5c51073">ConvertGridNoToXY</a>( (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)iMapIndex, &amp;sXMapPos, &amp;sYMapPos );
<a name="l03509"></a>03509 
<a name="l03510"></a>03510             dOffsetX = (<a class="code" href="Types_8h.html#8d06b04c04132c6f7c0fcb08c6167455">FLOAT</a>)(sXMapPos * CELL_X_SIZE) - <a class="code" href="renderworld_8cpp.html#1bf795f2a13e8559ffa77bc67b81dcb7">gsRenderCenterX</a>;
<a name="l03511"></a>03511             dOffsetY = (<a class="code" href="Types_8h.html#8d06b04c04132c6f7c0fcb08c6167455">FLOAT</a>)(sYMapPos * CELL_Y_SIZE) - <a class="code" href="renderworld_8cpp.html#086faf26457fce933b3a4f2e2ef450f3">gsRenderCenterY</a>;
<a name="l03512"></a>03512 
<a name="l03513"></a>03513             <a class="code" href="Isometric_01Utils_8cpp.html#96e5e7d8f6033d488d64a1baa963e3ab">FloatFromCellToScreenCoordinates</a>( dOffsetX, dOffsetY, &amp;ScrnX, &amp;ScrnY);
<a name="l03514"></a>03514             
<a name="l03515"></a>03515             sScreenX = ( ( <a class="code" href="renderworld_8cpp.html#829facd7abae54fcc284037c443e54bf">gsVIEWPORT_END_X</a> - <a class="code" href="renderworld_8cpp.html#81bf7674212c692b12d2fd3c41050c9b">gsVIEWPORT_START_X</a> ) /2 ) + (INT16)ScrnX;
<a name="l03516"></a>03516             sScreenY = ( ( <a class="code" href="HelpScreen_8cpp.html#268f46eb948cd6eb0f3406b688e4ccaa">gsVIEWPORT_END_Y</a> - <a class="code" href="renderworld_8cpp.html#71c227d79f4390bf0c95bfe1050ce147">gsVIEWPORT_START_Y</a> ) /2 ) + (INT16)ScrnY;
<a name="l03517"></a>03517 
<a name="l03518"></a>03518             <span class="comment">// Adjust for tiles height factor!</span>
<a name="l03519"></a>03519             sScreenY -= <a class="code" href="worlddef_8cpp.html#a1c640bcf89772795e6517da9963e0d7">gpWorldLevelData</a>[ iMapIndex ].<a class="code" href="structMAP__ELEMENT.html#a94f78ea824bcf1ee1829bacaedd5409">sHeight</a>;
<a name="l03520"></a>03520             <span class="comment">// Bring it down a touch</span>
<a name="l03521"></a>03521             sScreenY += 5;
<a name="l03522"></a>03522 
<a name="l03523"></a>03523             <span class="keywordflow">if</span>( sScreenY &lt;= 355 )
<a name="l03524"></a>03524             {
<a name="l03525"></a>03525                   <span class="comment">// Shown it on screen!</span>
<a name="l03526"></a>03526                   <a class="code" href="Font_8cpp.html#fa4871009f0473cca0380217753947dc">SetFont</a>(TINYFONT1);
<a name="l03527"></a>03527                   <a class="code" href="Font_8cpp.html#a1fe8cc526be9e2c96b5dd66e348506f">SetFontBackground</a>( FONT_LTKHAKI );
<a name="l03528"></a>03528                   <a class="code" href="Font_8cpp.html#388be5810478c3f3bdb861f144085d70">SetFontForeground</a>( FONT_WHITE );
<a name="l03529"></a>03529                   swprintf( str, L<span class="stringliteral">"%d%c"</span>, i/2 + 1, <span class="charliteral">'A'</span> + (i%2) );
<a name="l03530"></a>03530                   <a class="code" href="Font_8cpp.html#6e4e5666db9f5ede835aba7e158f0e8f">VarFindFontCenterCoordinates</a>( sScreenX, sScreenY, 1, 1, TINYFONT1, &amp;sX, &amp;sY, str );
<a name="l03531"></a>03531                   <a class="code" href="Font_8cpp.html#b3e12cf19a0ca58abf6689cc8eca3ead">mprintf</a>( sX, sY, str );
<a name="l03532"></a>03532             }
<a name="l03533"></a>03533       }
<a name="l03534"></a>03534 }
<a name="l03535"></a>03535 
<a name="l03536"></a><a class="code" href="EditorMercs_8cpp.html#89a8b2c7b7d5fe4360c8549d61088175">03536</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#89a8b2c7b7d5fe4360c8549d61088175">UpdateScheduleInfo</a>()
<a name="l03537"></a>03537 {
<a name="l03538"></a>03538       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> i;
<a name="l03539"></a>03539       <a class="code" href="structSCHEDULENODE.html">SCHEDULENODE</a> *pSchedule;
<a name="l03540"></a>03540       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> <a class="code" href="Button_01System_8cpp.html#ac22642f3052cc77a6991a262ce4ad23">str</a>[6];
<a name="l03541"></a>03541       <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#f42305317ffec1fd9d924ffc592896b6">ubScheduleID</a> )
<a name="l03542"></a>03542       {
<a name="l03543"></a>03543             pSchedule = <a class="code" href="Scheduling_8cpp.html#442c74f764c0c17e57725967a7515cff">GetSchedule</a>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#f42305317ffec1fd9d924ffc592896b6">ubScheduleID</a> );
<a name="l03544"></a>03544             <span class="keywordflow">if</span>( !pSchedule )
<a name="l03545"></a>03545             {
<a name="l03546"></a>03546                   <span class="keywordflow">return</span>;
<a name="l03547"></a>03547             }
<a name="l03548"></a>03548             <span class="keywordflow">for</span>( i = 0; i &lt; 4; i++ )
<a name="l03549"></a>03549             { <span class="comment">//Update the text and buttons</span>
<a name="l03550"></a>03550                   <a class="code" href="Button_01System_8cpp.html#d3a0665e113d4bd29bf6523c0bad54bb">MSYS_SetBtnUserData</a>( <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[ <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b55b3f49f5096a6ca2c2f4351a29db4bb8">MERCS_SCHEDULE_ACTION1</a> + i ], 0, pSchedule-&gt;<a class="code" href="structSCHEDULENODE.html#7254a407b8916738ea5e706b6b503b7b">ubAction</a>[i] );
<a name="l03551"></a>03551                   <a class="code" href="Button_01System_8cpp.html#927e98ae8d3535e396faf9ade7f5feb8">SpecifyButtonText</a>( <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[ <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b55b3f49f5096a6ca2c2f4351a29db4bb8">MERCS_SCHEDULE_ACTION1</a> + i ], <a class="code" href="EditorMercs_8cpp.html#91651ad3ee5934403424f95b71e1607c">gszScheduleActions</a>[ pSchedule-&gt;<a class="code" href="structSCHEDULENODE.html#7254a407b8916738ea5e706b6b503b7b">ubAction</a>[i] ] );
<a name="l03552"></a>03552                   swprintf( str, L<span class="stringliteral">""</span> );
<a name="l03553"></a>03553                   <span class="keywordflow">if</span>( pSchedule-&gt;<a class="code" href="structSCHEDULENODE.html#475c9bc0353131ecaceb1b9f31b3ff31">usData1</a>[i] != 0xffff )
<a name="l03554"></a>03554                         swprintf( str, L<span class="stringliteral">"%d"</span>, pSchedule-&gt;<a class="code" href="structSCHEDULENODE.html#475c9bc0353131ecaceb1b9f31b3ff31">usData1</a>[i] );
<a name="l03555"></a>03555                   <a class="code" href="Button_01System_8cpp.html#927e98ae8d3535e396faf9ade7f5feb8">SpecifyButtonText</a>( <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[ <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b53b12bc050755f852d0836ebc184b3a22">MERCS_SCHEDULE_DATA1A</a> + i ], str );
<a name="l03556"></a>03556                   swprintf( str, L<span class="stringliteral">""</span> );
<a name="l03557"></a>03557                   <span class="keywordflow">if</span>( pSchedule-&gt;<a class="code" href="structSCHEDULENODE.html#6606765a168cbb9f8d84094f6726d960">usData2</a>[i] != 0xffff )
<a name="l03558"></a>03558                         swprintf( str, L<span class="stringliteral">"%d"</span>, pSchedule-&gt;<a class="code" href="structSCHEDULENODE.html#6606765a168cbb9f8d84094f6726d960">usData2</a>[i] );
<a name="l03559"></a>03559                   <a class="code" href="Button_01System_8cpp.html#927e98ae8d3535e396faf9ade7f5feb8">SpecifyButtonText</a>( <a class="code" href="EditorDefines_8h.html#87712a4981be2fae492235f432a7ef1d">iEditorButton</a>[ <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5480ecd764a58f18d89d67e71edc7f850">MERCS_SCHEDULE_DATA1B</a> + i ], str );
<a name="l03560"></a>03560                   <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#60bc6cddda8166a782f69d3899ae0803">gubCurrMercMode</a> == <a class="code" href="EditorMercs_8h.html#16af7b253440dadd46a80a4b9fddba4dfc5362f856b3f5e32545c6d922e4a1f3">MERC_SCHEDULEMODE</a> )
<a name="l03561"></a>03561                   { <span class="comment">//Update the text input fields too!</span>
<a name="l03562"></a>03562                         <a class="code" href="Text_01Input_8cpp.html#ad4c214e16a252c14c59cc32f93cf63a">SetExclusive24HourTimeValue</a>( (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)(i+1), pSchedule-&gt;<a class="code" href="structSCHEDULENODE.html#3f66611504ece97ffd37fa37e787fad5">usTime</a>[i] );
<a name="l03563"></a>03563                   }
<a name="l03564"></a>03564             }
<a name="l03565"></a>03565             
<a name="l03566"></a>03566             <span class="comment">//Check or uncheck the checkbox buttons based on the schedule's status.</span>
<a name="l03567"></a>03567             <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#70560150a621778b61a3b7e2819e623c">UnclickEditorButtons</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5106afd90db096bc4291a8609d2c9ba27">MERCS_SCHEDULE_VARIANCE1</a>, <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b52b5b33667584ee0448ef9ca6281aa65c">MERCS_SCHEDULE_VARIANCE4</a> );
<a name="l03568"></a>03568             <span class="keywordflow">if</span>( pSchedule-&gt;<a class="code" href="structSCHEDULENODE.html#3b102ddd2d03ba6da887bbf39015f821">usFlags</a> &amp; SCHEDULE_FLAGS_VARIANCE1 )
<a name="l03569"></a>03569                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#85a4bb808c9aa3741d423bcf6efcb7b0">ClickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5106afd90db096bc4291a8609d2c9ba27">MERCS_SCHEDULE_VARIANCE1</a> );
<a name="l03570"></a>03570             <span class="keywordflow">if</span>( pSchedule-&gt;<a class="code" href="structSCHEDULENODE.html#3b102ddd2d03ba6da887bbf39015f821">usFlags</a> &amp; SCHEDULE_FLAGS_VARIANCE2 )
<a name="l03571"></a>03571                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#85a4bb808c9aa3741d423bcf6efcb7b0">ClickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5b583cc120b7ceb241f9f25d4caa34dca">MERCS_SCHEDULE_VARIANCE2</a> );
<a name="l03572"></a>03572             <span class="keywordflow">if</span>( pSchedule-&gt;<a class="code" href="structSCHEDULENODE.html#3b102ddd2d03ba6da887bbf39015f821">usFlags</a> &amp; SCHEDULE_FLAGS_VARIANCE3 )
<a name="l03573"></a>03573                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#85a4bb808c9aa3741d423bcf6efcb7b0">ClickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b5c58fcfaf6144f9ee59c77873054cad4c">MERCS_SCHEDULE_VARIANCE3</a> );
<a name="l03574"></a>03574             <span class="keywordflow">if</span>( pSchedule-&gt;<a class="code" href="structSCHEDULENODE.html#3b102ddd2d03ba6da887bbf39015f821">usFlags</a> &amp; SCHEDULE_FLAGS_VARIANCE4 )
<a name="l03575"></a>03575                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#85a4bb808c9aa3741d423bcf6efcb7b0">ClickEditorButton</a>( <a class="code" href="Button_01Defines_8h.html#99fb83031ce9923c84392b4e92f956b52b5b33667584ee0448ef9ca6281aa65c">MERCS_SCHEDULE_VARIANCE4</a> );
<a name="l03576"></a>03576 
<a name="l03577"></a>03577             <span class="comment">//Copy the schedule over to the current global schedule used for editing purposes.</span>
<a name="l03578"></a>03578             memcpy( &amp;<a class="code" href="Editor_01Callbacks_8cpp.html#df565e837813894d38c4f47e323d7e18">gCurrSchedule</a>, pSchedule, <span class="keyword">sizeof</span>( <a class="code" href="structSCHEDULENODE.html">SCHEDULENODE</a> ) );
<a name="l03579"></a>03579             <a class="code" href="EditorMercs_8cpp.html#7d38aec01f8c3081f9c77fd48f784151">DetermineScheduleEditability</a>();
<a name="l03580"></a>03580       }
<a name="l03581"></a>03581       <span class="keywordflow">else</span>
<a name="l03582"></a>03582       {
<a name="l03583"></a>03583             <a class="code" href="EditorMercs_8cpp.html#05e984b163e7db307d7181d8460644fa">ClearCurrentSchedule</a>();
<a name="l03584"></a>03584       }
<a name="l03585"></a>03585 }
<a name="l03586"></a>03586 
<a name="l03587"></a><a class="code" href="EditorMercs_8cpp.html#b28243851255649b7d99dd8ba61cd58b">03587</a> <a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html">BASIC_SOLDIERCREATE_STRUCT</a> <a class="code" href="EditorMercs_8cpp.html#b28243851255649b7d99dd8ba61cd58b">gSaveBufferBasicPlacement</a>;
<a name="l03588"></a><a class="code" href="EditorMercs_8cpp.html#a76751678bcb56c6e7ef0cb499216348">03588</a> <a class="code" href="structSOLDIERCREATE__STRUCT.html">SOLDIERCREATE_STRUCT</a> <a class="code" href="EditorMercs_8cpp.html#a76751678bcb56c6e7ef0cb499216348">gSaveBufferDetailedPlacement</a>;
<a name="l03589"></a>03589 
<a name="l03590"></a><a class="code" href="EditorMercs_8h.html#2da5fabf8f106dd2525a06941f493fce">03590</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#2da5fabf8f106dd2525a06941f493fce">CopyMercPlacement</a>( <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> <a class="code" href="editscreen_8cpp.html#48f31659f64cd18c814b1612166c50b5">iMapIndex</a> )
<a name="l03591"></a>03591 {
<a name="l03592"></a>03592       <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#97092775cdf98eec280dbb127c7f8523">gsSelectedMercID</a> == -1 )
<a name="l03593"></a>03593       {
<a name="l03594"></a>03594             <a class="code" href="message_8cpp.html#818e47bc59bd5a5755f06ec51cd74928">ScreenMsg</a>( FONT_MCOLOR_LTRED, MSG_INTERFACE, L<span class="stringliteral">"Placement not copied because no placement selected."</span> );
<a name="l03595"></a>03595             <span class="keywordflow">return</span>;
<a name="l03596"></a>03596       }
<a name="l03597"></a>03597       <a class="code" href="EditorMercs_8cpp.html#4eaae66eeba853c25f63d9e2af08676f">gfSaveBuffer</a> = TRUE;
<a name="l03598"></a>03598       memcpy( &amp;<a class="code" href="EditorMercs_8cpp.html#b28243851255649b7d99dd8ba61cd58b">gSaveBufferBasicPlacement</a>, <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>, <span class="keyword">sizeof</span>( <a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html">BASIC_SOLDIERCREATE_STRUCT</a> ) );
<a name="l03599"></a>03599       <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#b28243851255649b7d99dd8ba61cd58b">gSaveBufferBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#3ef9d6dc68fb22fec84a9fce13f806c1">fDetailedPlacement</a> )
<a name="l03600"></a>03600       {
<a name="l03601"></a>03601             memcpy( &amp;<a class="code" href="EditorMercs_8cpp.html#a76751678bcb56c6e7ef0cb499216348">gSaveBufferDetailedPlacement</a>, <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>, <span class="keyword">sizeof</span>( <a class="code" href="structSOLDIERCREATE__STRUCT.html">SOLDIERCREATE_STRUCT</a> ) );
<a name="l03602"></a>03602       }
<a name="l03603"></a>03603       <a class="code" href="message_8cpp.html#818e47bc59bd5a5755f06ec51cd74928">ScreenMsg</a>( FONT_MCOLOR_LTYELLOW, MSG_INTERFACE, L<span class="stringliteral">"Placement copied."</span> );
<a name="l03604"></a>03604 }
<a name="l03605"></a>03605 
<a name="l03606"></a><a class="code" href="EditorMercs_8h.html#8930b1bc0575d4278b442dca7ee57983">03606</a> <span class="keywordtype">void</span> <a class="code" href="EditorMercs_8cpp.html#8930b1bc0575d4278b442dca7ee57983">PasteMercPlacement</a>( <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> <a class="code" href="editscreen_8cpp.html#48f31659f64cd18c814b1612166c50b5">iMapIndex</a> )
<a name="l03607"></a>03607 {
<a name="l03608"></a>03608       <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a> *<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>;
<a name="l03609"></a>03609       <a class="code" href="structSOLDIERCREATE__STRUCT.html">SOLDIERCREATE_STRUCT</a> tempDetailedPlacement;
<a name="l03610"></a>03610       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> i;
<a name="l03611"></a>03611 
<a name="l03612"></a>03612       <span class="keywordflow">if</span>( !<a class="code" href="EditorMercs_8cpp.html#4eaae66eeba853c25f63d9e2af08676f">gfSaveBuffer</a> )
<a name="l03613"></a>03613       {
<a name="l03614"></a>03614             <a class="code" href="message_8cpp.html#818e47bc59bd5a5755f06ec51cd74928">ScreenMsg</a>( FONT_MCOLOR_LTRED, MSG_INTERFACE, L<span class="stringliteral">"Placement not pasted as no placement is saved in buffer."</span> );
<a name="l03615"></a>03615             <span class="keywordflow">return</span>;
<a name="l03616"></a>03616       }
<a name="l03617"></a>03617 
<a name="l03618"></a>03618       memcpy( &amp;<a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>, &amp;<a class="code" href="EditorMercs_8cpp.html#b28243851255649b7d99dd8ba61cd58b">gSaveBufferBasicPlacement</a>, <span class="keyword">sizeof</span>( <a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html">BASIC_SOLDIERCREATE_STRUCT</a> ) );
<a name="l03619"></a>03619 
<a name="l03620"></a>03620       <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#e2ee468828615ecf563e7a5e799ef59b">bBodyType</a> = -1;
<a name="l03621"></a>03621 
<a name="l03622"></a>03622       <span class="comment">//calculate specific information based on the team.</span>
<a name="l03623"></a>03623       <span class="keywordflow">switch</span>( <a class="code" href="EditorDefines_8h.html#afbeb36e0996e51d4002709ddf9b3155">iDrawMode</a> )
<a name="l03624"></a>03624       {
<a name="l03625"></a>03625             <span class="keywordflow">case</span> <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b9403881f99fcda5f7ceb6101a94be4c21bd098">DRAW_MODE_ENEMY</a>:
<a name="l03626"></a>03626                   <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#bd255e877f2966dbbd17ffbaa254a025">bTeam</a> = ENEMY_TEAM;
<a name="l03627"></a>03627                   <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#e2ee468828615ecf563e7a5e799ef59b">bBodyType</a> = RANDOM;
<a name="l03628"></a>03628                   <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#6f8b4186867f69e234b40ed1c87730c6">ubSoldierClass</a> = <a class="code" href="EditorMercs_8cpp.html#f724bce39c86756cf49adebc2bc120bf">gubSoldierClass</a>;
<a name="l03629"></a>03629                   <span class="keywordflow">break</span>;
<a name="l03630"></a>03630             <span class="keywordflow">case</span> <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b9403887047a6a6c1216b138a0953302334abaa">DRAW_MODE_CREATURE</a>:
<a name="l03631"></a>03631                   <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#bd255e877f2966dbbd17ffbaa254a025">bTeam</a> = CREATURE_TEAM;
<a name="l03632"></a>03632                   <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#e2ee468828615ecf563e7a5e799ef59b">bBodyType</a> = <a class="code" href="EditorMercs_8cpp.html#d11c1bf8e2d6cd2aebd500ea2978de21">gbCurrCreature</a>;
<a name="l03633"></a>03633                   <span class="keywordflow">break</span>;
<a name="l03634"></a>03634             <span class="keywordflow">case</span> <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b940388be3b49d2eabfea3723718b8b57715097">DRAW_MODE_REBEL</a>:
<a name="l03635"></a>03635                   <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#bd255e877f2966dbbd17ffbaa254a025">bTeam</a> = MILITIA_TEAM; 
<a name="l03636"></a>03636                   <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#e2ee468828615ecf563e7a5e799ef59b">bBodyType</a> = RANDOM;
<a name="l03637"></a>03637                   <span class="keywordflow">break</span>;  
<a name="l03638"></a>03638             <span class="keywordflow">case</span> <a class="code" href="EditorDefines_8h.html#385c44f6fb256e5716a2302a5b940388dcfb5a1e1ac625bfe0ebeeeed6f9dbb9">DRAW_MODE_CIVILIAN</a>:
<a name="l03639"></a>03639                   <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#bd255e877f2966dbbd17ffbaa254a025">bTeam</a> = CIV_TEAM;
<a name="l03640"></a>03640                   <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#e2ee468828615ecf563e7a5e799ef59b">bBodyType</a> = RANDOM;
<a name="l03641"></a>03641                   <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#c32e19edfc3eae79e96bbdc11819aa90">ubCivilianGroup</a> = <a class="code" href="EditorMercs_8cpp.html#730825eabcaa2a47486695078d8a55e6">gubCivGroup</a>;
<a name="l03642"></a>03642                   <span class="keywordflow">if</span>( <a class="code" href="worlddef_8cpp.html#b6f7ce95ca7fca875bbed5982d5483db">giCurrentTilesetID</a> == 1 ) <span class="comment">//caves</span>
<a name="l03643"></a>03643                   {
<a name="l03644"></a>03644                         <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#6f8b4186867f69e234b40ed1c87730c6">ubSoldierClass</a> = <a class="code" href="Soldier_01Control_8h.html#d559b3ed307be626eacea8b56942de618d13f000b4b5195727feae9b48454950">SOLDIER_CLASS_MINER</a>;
<a name="l03645"></a>03645                   }
<a name="l03646"></a>03646                   <span class="keywordflow">break</span>;
<a name="l03647"></a>03647       }
<a name="l03648"></a>03648 
<a name="l03649"></a>03649       <span class="keywordflow">if</span>( <a class="code" href="Overhead_8cpp.html#fa4284ec14cef4222f1479c45b29fac2">IsLocationSittable</a>( iMapIndex, <a class="code" href="EditorMercs_8cpp.html#63f73c0a419cfcefad6eae7fea060d9e">gfRoofPlacement</a> ) )
<a name="l03650"></a>03650       {
<a name="l03651"></a>03651             <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubID;
<a name="l03652"></a>03652             <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sSectorX, sSectorY;
<a name="l03653"></a>03653             <a class="code" href="structSOLDIERINITNODE.html">SOLDIERINITNODE</a> *pNode;
<a name="l03654"></a>03654             
<a name="l03655"></a>03655             <a class="code" href="strategicmap_8cpp.html#5e03b70aced19759d9729edaad51cc50">GetCurrentWorldSector</a>( &amp;sSectorX, &amp;sSectorY );
<a name="l03656"></a>03656 
<a name="l03657"></a>03657             <span class="comment">//Set up some general information.</span>
<a name="l03658"></a>03658             <span class="comment">//gTempBasicPlacement.fDetailedPlacement = TRUE;</span>
<a name="l03659"></a>03659             <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#dc6870abf500e5744df91b39c09d51e2">usStartingGridNo</a> = (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)iMapIndex;
<a name="l03660"></a>03660 
<a name="l03661"></a>03661             <span class="comment">//Generate detailed placement information given the temp placement information.</span>
<a name="l03662"></a>03662             <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#3ef9d6dc68fb22fec84a9fce13f806c1">fDetailedPlacement</a> )
<a name="l03663"></a>03663             {
<a name="l03664"></a>03664                   memcpy( &amp;<a class="code" href="EditorMercs_8cpp.html#574dc818771788ccc93b7a7eeb0ca79e">gTempDetailedPlacement</a>, &amp;<a class="code" href="EditorMercs_8cpp.html#a76751678bcb56c6e7ef0cb499216348">gSaveBufferDetailedPlacement</a>, <span class="keyword">sizeof</span>( <a class="code" href="structSOLDIERCREATE__STRUCT.html">SOLDIERCREATE_STRUCT</a> ) );
<a name="l03665"></a>03665             }
<a name="l03666"></a>03666             <span class="keywordflow">else</span>
<a name="l03667"></a>03667             {
<a name="l03668"></a>03668                   <a class="code" href="Soldier_01Create_8cpp.html#5e825bdba54a929a345b50c232fa9f6f">CreateDetailedPlacementGivenBasicPlacementInfo</a>( &amp;<a class="code" href="EditorMercs_8cpp.html#574dc818771788ccc93b7a7eeb0ca79e">gTempDetailedPlacement</a>, &amp;<a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a> );
<a name="l03669"></a>03669             }
<a name="l03670"></a>03670 
<a name="l03671"></a>03671             <span class="comment">//Set the sector information -- probably unnecessary.</span>
<a name="l03672"></a>03672             <a class="code" href="EditorMercs_8cpp.html#574dc818771788ccc93b7a7eeb0ca79e">gTempDetailedPlacement</a>.<a class="code" href="structSOLDIERCREATE__STRUCT.html#c6e38a1f49325bbb2282acee728cc261">sSectorX</a> = sSectorX;
<a name="l03673"></a>03673             <a class="code" href="EditorMercs_8cpp.html#574dc818771788ccc93b7a7eeb0ca79e">gTempDetailedPlacement</a>.<a class="code" href="structSOLDIERCREATE__STRUCT.html#49d1d58f8839fa7312382ccd9bc01814">sSectorY</a> = sSectorY;
<a name="l03674"></a>03674 
<a name="l03675"></a>03675             <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#3ef9d6dc68fb22fec84a9fce13f806c1">fDetailedPlacement</a> )
<a name="l03676"></a>03676             {
<a name="l03677"></a>03677                   <a class="code" href="Soldier_01Create_8cpp.html#442cac9e928a29c009c400ecaec6f94a">CreateDetailedPlacementGivenStaticDetailedPlacementAndBasicPlacementInfo</a>( &amp;tempDetailedPlacement, &amp;<a class="code" href="EditorMercs_8cpp.html#574dc818771788ccc93b7a7eeb0ca79e">gTempDetailedPlacement</a>, &amp;<a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a> );
<a name="l03678"></a>03678             }
<a name="l03679"></a>03679             <span class="keywordflow">else</span>
<a name="l03680"></a>03680             {
<a name="l03681"></a>03681                   memcpy( &amp;tempDetailedPlacement, &amp;<a class="code" href="EditorMercs_8cpp.html#574dc818771788ccc93b7a7eeb0ca79e">gTempDetailedPlacement</a>, <span class="keyword">sizeof</span>( <a class="code" href="structSOLDIERCREATE__STRUCT.html">SOLDIERCREATE_STRUCT</a> ) );
<a name="l03682"></a>03682             }
<a name="l03683"></a>03683 
<a name="l03684"></a>03684             <span class="comment">//Create the soldier, but don't place it yet.</span>
<a name="l03685"></a>03685             <span class="keywordflow">if</span> ( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> = <a class="code" href="Soldier_01Create_8cpp.html#9012dd4ad15957a14b023ae9fee7c862">TacticalCreateSoldier</a>( &amp;tempDetailedPlacement, &amp;ubID ) )
<a name="l03686"></a>03686             {
<a name="l03687"></a>03687                   <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#73246323764393ce2a5ece7fcb7b7cf8">bVisible</a> = 1;
<a name="l03688"></a>03688                   <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#a241a93ffddc42954bb878f9bcf4392c">bLastRenderVisibleValue</a> = 1;
<a name="l03689"></a>03689                   <span class="comment">//Set up the soldier in the list, so we can track the soldier in the </span>
<a name="l03690"></a>03690                   <span class="comment">//future (saving, loading, strategic AI)</span>
<a name="l03691"></a>03691                   pNode = <a class="code" href="Soldier_01Init_01List_8cpp.html#48618d7c2a89ab82534ed81092ce7346">AddBasicPlacementToSoldierInitList</a>( &amp;<a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a> );
<a name="l03692"></a>03692                   Assert( pNode );
<a name="l03693"></a>03693                   pNode-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a> = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>;
<a name="l03694"></a>03694                   <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#b28243851255649b7d99dd8ba61cd58b">gSaveBufferBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#3ef9d6dc68fb22fec84a9fce13f806c1">fDetailedPlacement</a> )
<a name="l03695"></a>03695                   { <span class="comment">//Add the static detailed placement information in the same newly created node as the basic placement.</span>
<a name="l03696"></a>03696                         <span class="comment">//read static detailed placement from file</span>
<a name="l03697"></a>03697                         <span class="comment">//allocate memory for new static detailed placement</span>
<a name="l03698"></a>03698                         <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#3ef9d6dc68fb22fec84a9fce13f806c1">fDetailedPlacement</a> = TRUE;
<a name="l03699"></a>03699                         <a class="code" href="EditorMercs_8cpp.html#1cd266c38a28c24cbd9eaa3b5daa40e2">gTempBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#f825abfe3d1d0bb179d5881e619e7bd6">fPriorityExistance</a> = <a class="code" href="EditorMercs_8cpp.html#b28243851255649b7d99dd8ba61cd58b">gSaveBufferBasicPlacement</a>.<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#f825abfe3d1d0bb179d5881e619e7bd6">fPriorityExistance</a>;
<a name="l03700"></a>03700                         pNode-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> = (<a class="code" href="structSOLDIERCREATE__STRUCT.html">SOLDIERCREATE_STRUCT</a>*)MemAlloc( <span class="keyword">sizeof</span>( <a class="code" href="structSOLDIERCREATE__STRUCT.html">SOLDIERCREATE_STRUCT</a> ) );
<a name="l03701"></a>03701                         <span class="keywordflow">if</span>( !pNode-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> )
<a name="l03702"></a>03702                         {
<a name="l03703"></a>03703                               AssertMsg( 0, <span class="stringliteral">"Failed to allocate memory for new detailed placement in PasteMercPlacement."</span> );
<a name="l03704"></a>03704                               <span class="keywordflow">return</span>;
<a name="l03705"></a>03705                         }
<a name="l03706"></a>03706                         <span class="comment">//copy the file information from temp var to node in list.</span>
<a name="l03707"></a>03707                         memcpy( pNode-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>, &amp;<a class="code" href="EditorMercs_8cpp.html#a76751678bcb56c6e7ef0cb499216348">gSaveBufferDetailedPlacement</a>, <span class="keyword">sizeof</span>( SOLDIERCREATE_STRUCT ) );
<a name="l03708"></a>03708                   }
<a name="l03709"></a>03709                   
<a name="l03710"></a>03710                   <span class="comment">//Add the soldier to physically appear on the map now.</span>
<a name="l03711"></a>03711                   <a class="code" href="EditorMercs_8cpp.html#e6a3e994b768d1d9cd739a69c2970723">InternalAddSoldierToSector</a>( ubID, FALSE, FALSE, 0, 0 );
<a name="l03712"></a>03712                   <a class="code" href="EditorMercs_8cpp.html#f298a8dfcc8c9b0580cc56c7cbd3b27d">IndicateSelectedMerc</a>( ubID );
<a name="l03713"></a>03713 
<a name="l03714"></a>03714                   <span class="comment">//Move him to the roof if intended and possible.</span>
<a name="l03715"></a>03715                   <span class="keywordflow">if</span>( <a class="code" href="EditorMercs_8cpp.html#63f73c0a419cfcefad6eae7fea060d9e">gfRoofPlacement</a> &amp;&amp; <a class="code" href="Overhead_8cpp.html#16380e271fdc03604152be2d9cca8867">FlatRoofAboveGridNo</a>( iMapIndex ) )
<a name="l03716"></a>03716                   {
<a name="l03717"></a>03717                         <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#682e8b1c4755ed24580cc7fd6fcfebb2">pBasicPlacement</a>-&gt;<a class="code" href="structBASIC__SOLDIERCREATE__STRUCT.html#3dc23d15d608737c3b4db52b0cf65815">fOnRoof</a> = TRUE;
<a name="l03718"></a>03718                         <span class="keywordflow">if</span>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a> )
<a name="l03719"></a>03719                               <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#e348268659d92d233d4530d48419d6d8">pDetailedPlacement</a>-&gt;<a class="code" href="structSOLDIERCREATE__STRUCT.html#f9ba8f37aaf31e16d44ecb6fee567479">fOnRoof</a> = TRUE;
<a name="l03720"></a>03720                         <a class="code" href="Soldier_01Control_8cpp.html#85356885ab89da0e5fdb7a225f7db225">SetSoldierHeight</a>( <a class="code" href="Editor_01Callbacks_8cpp.html#1c874725158c013059b9c607153eef0f">gpSelected</a>-&gt;<a class="code" href="structSOLDIERINITNODE.html#b4ae672882523d6fcab88fd8006e742d">pSoldier</a>, 58.0 );
<a name="l03721"></a>03721                   }
<a name="l03722"></a>03722                   <a class="code" href="Editor_01Taskbar_01Utils_8cpp.html#70560150a621778b61a3b7e2819e623c">UnclickEditorButtons</a>( FIRST_MERCS_INVENTORY_BUTTON, LAST_MERCS_INVENTORY_BUTTON );
<a name="l03723"></a>03723                   <span class="keywordflow">for</span>( i = FIRST_MERCS_INVENTORY_BUTTON; i &lt;= LAST_MERCS_INVENTORY_BUTTON; i++ )
<a name="l03724"></a>03724                   {
<a name="l03725"></a>03725                         <a class="code" href="EditorMercs_8cpp.html#678c62a8e907d60fd216df4252842296">SetEnemyDroppableStatus</a>( <a class="code" href="EditorMercs_8cpp.html#20a3a478089d3e7ef31904fa69dc934f">gbMercSlotTypes</a>[i-FIRST_MERCS_INVENTORY_BUTTON], FALSE );
<a name="l03726"></a>03726                   }
<a name="l03727"></a>03727                   <a class="code" href="message_8cpp.html#818e47bc59bd5a5755f06ec51cd74928">ScreenMsg</a>( FONT_MCOLOR_LTYELLOW, MSG_INTERFACE, L<span class="stringliteral">"Placement pasted."</span> );
<a name="l03728"></a>03728             }
<a name="l03729"></a>03729             <span class="keywordflow">else</span>
<a name="l03730"></a>03730             {
<a name="l03731"></a>03731                   <a class="code" href="message_8cpp.html#818e47bc59bd5a5755f06ec51cd74928">ScreenMsg</a>( FONT_MCOLOR_LTRED, MSG_INTERFACE, L<span class="stringliteral">"Placement not pasted as the maximum number of placements for this team is already used."</span> );
<a name="l03732"></a>03732             }
<a name="l03733"></a>03733       }
<a name="l03734"></a>03734 }
<a name="l03735"></a>03735 
<a name="l03736"></a>03736 
<a name="l03737"></a>03737 <span class="preprocessor">#endif</span>
<a name="l03738"></a>03738 <span class="preprocessor"></span>
<a name="l03739"></a>03739 
<a name="l03740"></a>03740 
<a name="l03741"></a>03741  
<a name="l03742"></a>03742 
<a name="l03743"></a>03743 
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sat Sep 9 13:48:05 2006 for Build by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
