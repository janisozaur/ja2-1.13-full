<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Build: Game Event Hook.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="classes.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="dir_3179ea33d55a76dc38212d9eab798728.html">export</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_e5664b4b56927c8728eb3192fa60e338.html">hdc2</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_1eb12a41a47efb9efcd82fa98f4f4dbd.html">FTP</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_80cc1f21a78ab7941088ea567f236150.html">ja2src</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_994ab287602efefceafe55287a3657d6.html">Build</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_5aba590d477d4824a9090ab3f8850834.html">Strategic</a></div>
<h1>Game Event Hook.cpp</h1><a href="Game_01Event_01Hook_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifdef PRECOMPILEDHEADERS</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">      #include "<a class="code" href="Strategic_01All_8h.html">Strategic All.h</a>"</span>
<a name="l00003"></a>00003 <span class="preprocessor">      #include "InIReader.h"</span>
<a name="l00004"></a>00004 <span class="preprocessor">#else</span>
<a name="l00005"></a>00005 <span class="preprocessor"></span><span class="preprocessor">      #include "types.h"</span>
<a name="l00006"></a>00006 <span class="preprocessor">      #include "<a class="code" href="Game_01Events_8h.html">Game Events.h</a>"</span>
<a name="l00007"></a>00007 <span class="preprocessor">      #include "<a class="code" href="soundman_8h.html">soundman.h</a>"</span>
<a name="l00008"></a>00008 <span class="preprocessor">      #include "<a class="code" href="environment_8h.html">environment.h</a>"</span>
<a name="l00009"></a>00009 <span class="preprocessor">      #include "<a class="code" href="Ambient_01Control_8h.html">Ambient Control.h</a>"</span>
<a name="l00010"></a>00010 <span class="preprocessor">      #include "<a class="code" href="Quests_8h.html">Quests.h</a>"</span>
<a name="l00011"></a>00011 <span class="preprocessor">      #include "<a class="code" href="Sound_01Control_8h.html">Sound Control.h</a>"</span>
<a name="l00012"></a>00012 <span class="preprocessor">      #include "<a class="code" href="AimMembers_8h.html">AimMembers.h</a>"</span>
<a name="l00013"></a>00013 <span class="preprocessor">      #include "<a class="code" href="Strategic_01Event_01Handler_8h.html">Strategic Event Handler.h</a>"</span>
<a name="l00014"></a>00014 <span class="preprocessor">      #include "<a class="code" href="BobbyR_8h.html">BobbyR.h</a>"</span>
<a name="l00015"></a>00015 <span class="preprocessor">      #include "<a class="code" href="mercs_8h.html">mercs.h</a>"</span>
<a name="l00016"></a>00016 <span class="preprocessor">      #include "<a class="code" href="email_8h.html">email.h</a>"</span>
<a name="l00017"></a>00017 <span class="preprocessor">      #include "<a class="code" href="Game_01Clock_8h.html">Game Clock.h</a>"</span>
<a name="l00018"></a>00018 <span class="preprocessor">      #include "<a class="code" href="Merc_01Hiring_8h.html">Merc Hiring.h</a>"</span>
<a name="l00019"></a>00019 <span class="preprocessor">      #include "Insurance Contract.h"</span>
<a name="l00020"></a>00020 <span class="preprocessor">      #include "<a class="code" href="Strategic_01Merc_01Handler_8h.html">Strategic Merc Handler.h</a>"</span>
<a name="l00021"></a>00021 <span class="preprocessor">      #include "<a class="code" href="Strategic_01Movement_8h.html">Strategic Movement.h</a>"</span>
<a name="l00022"></a>00022 <span class="preprocessor">      #include "<a class="code" href="Assignments_8h.html">Assignments.h</a>"</span>
<a name="l00023"></a>00023 <span class="preprocessor">      #include "<a class="code" href="Strategic_01Mines_8h.html">Strategic Mines.h</a>"</span>
<a name="l00024"></a>00024 <span class="preprocessor">      #include "<a class="code" href="Strategic_01Town_01Loyalty_8h.html">Strategic Town Loyalty.h</a>"</span>
<a name="l00025"></a>00025 <span class="preprocessor">      #include "Message.h"</span> 
<a name="l00026"></a>00026 <span class="preprocessor">      #include "<a class="code" href="Map_01Screen_01Interface_8h.html">Map Screen Interface.h</a>"</span>
<a name="l00027"></a>00027 <span class="preprocessor">      #include "<a class="code" href="Map_01Screen_01Helicopter_8h.html">Map Screen Helicopter.h</a>"</span>
<a name="l00028"></a>00028 <span class="preprocessor">      #include "<a class="code" href="Scheduling_8h.html">Scheduling.h</a>"</span>
<a name="l00029"></a>00029 <span class="preprocessor">      #include "<a class="code" href="BobbyRGuns_8h.html">BobbyRGuns.h</a>"</span>
<a name="l00030"></a>00030 <span class="preprocessor">      #include "<a class="code" href="Arms_01Dealer_01Init_8h.html">Arms Dealer Init.h</a>"</span>
<a name="l00031"></a>00031 <span class="preprocessor">      #include "Strategic town reputation.h"</span>
<a name="l00032"></a>00032 <span class="preprocessor">      #include "air raid.h"</span>
<a name="l00033"></a>00033 <span class="preprocessor">      #include "meanwhile.h"</span>
<a name="l00034"></a>00034 <span class="preprocessor">      #include "overhead.h"</span>
<a name="l00035"></a>00035 <span class="preprocessor">      #include "<a class="code" href="random_8h.html">random.h</a>"</span>
<a name="l00036"></a>00036 <span class="preprocessor">      #include "<a class="code" href="Creature_01Spreading_8h.html">Creature Spreading.h</a>"</span>
<a name="l00037"></a>00037 <span class="preprocessor">      #include "<a class="code" href="Strategic_01AI_8h.html">Strategic AI.h</a>"</span>
<a name="l00038"></a>00038 <span class="preprocessor">      #include "<a class="code" href="Merc_01Contract_8h.html">Merc Contract.h</a>"</span>
<a name="l00039"></a>00039 <span class="preprocessor">      #include "<a class="code" href="Strategic_01Status_8h.html">Strategic Status.h</a>"</span>
<a name="l00040"></a>00040 <span class="preprocessor">#endif</span>
<a name="l00041"></a>00041 <span class="preprocessor"></span>
<a name="l00042"></a>00042 <span class="preprocessor">#ifdef JA2BETAVERSION</span>
<a name="l00043"></a>00043 <span class="preprocessor"></span><span class="keyword">extern</span> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> <a class="code" href="Game_01Event_01Hook_8cpp.html#5c5e443f7d822b4a1e0b0c0d8ba9859b">gfMercsNeverQuit</a>;
<a name="l00044"></a>00044 <span class="preprocessor">#endif</span>
<a name="l00045"></a>00045 <span class="preprocessor"></span>
<a name="l00046"></a>00046 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="Game_01Event_01Hook_8cpp.html#a0fa10e55d87cbd17a48d1f2a8c02c57">ValidateGameEvents</a>();
<a name="l00047"></a>00047 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="Game_01Event_01Hook_8cpp.html#1bff15c642656f381ee037ab9510e274">HandleHourlyUpdate</a>();
<a name="l00048"></a>00048 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="Game_01Event_01Hook_8cpp.html#251bfbaceeaa206d625e36eb37db6040">HandleQuarterHourUpdate</a>();
<a name="l00049"></a>00049 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="Game_01Event_01Hook_8cpp.html#9281c7c48c2dd7afee30fa460bff3a39">HandleMinuteUpdate</a>();
<a name="l00050"></a>00050 <span class="keyword">extern</span> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> <a class="code" href="Game_01Event_01Hook_8cpp.html#b68b059a3ffc878ecddf7561fc5c8662">gfProcessingGameEvents</a>;
<a name="l00051"></a>00051 <span class="keyword">extern</span> <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>     <a class="code" href="Game_01Event_01Hook_8cpp.html#7bab2cbc6fcf8e422921063b5e735af4">guiTimeStampOfCurrentlyExecutingEvent</a>;
<a name="l00052"></a>00052 <span class="keyword">extern</span> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> <a class="code" href="Game_01Event_01Hook_8cpp.html#1dfd110f4c00954e634834129f81b5c9">gfPreventDeletionOfAnyEvent</a>;
<a name="l00053"></a>00053 
<a name="l00054"></a>00054 
<a name="l00055"></a>00055 <span class="preprocessor">#ifdef CRIPPLED_VERSION</span>
<a name="l00056"></a>00056 <span class="preprocessor"></span><span class="keywordtype">void</span> <a class="code" href="Game_01Event_01Hook_8cpp.html#2c0a1fd6557a01e82b4dbf981de4652d">CrippledVersionEndGameCheckCallBack</a>( <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> bExitValue );
<a name="l00057"></a>00057 <span class="keywordtype">void</span> <a class="code" href="Game_01Event_01Hook_8cpp.html#332d83cea243f84fb51b596a6ebab8c4">CrippledVersionEndGameCheck</a>();
<a name="l00058"></a>00058 <span class="preprocessor">#endif</span>
<a name="l00059"></a>00059 <span class="preprocessor"></span>
<a name="l00060"></a>00060 
<a name="l00061"></a>00061 
<a name="l00062"></a><a class="code" href="Game_01Event_01Hook_8cpp.html#8f6d7ca5bf0457635806b1c99ac69c27">00062</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> <a class="code" href="Game_01Event_01Hook_8cpp.html#8f6d7ca5bf0457635806b1c99ac69c27">DelayEventIfBattleInProgress</a>( <a class="code" href="structSTRATEGICEVENT.html">STRATEGICEVENT</a> *pEvent )
<a name="l00063"></a>00063 {
<a name="l00064"></a>00064       <a class="code" href="structSTRATEGICEVENT.html">STRATEGICEVENT</a> *pNewEvent;
<a name="l00065"></a>00065       <span class="keywordflow">if</span>( <a class="code" href="Overhead_8cpp.html#46bd754f8875c305ab18731ed10e3364">gTacticalStatus</a>.<a class="code" href="structTacticalStatusType.html#a921ee4fc79277889d9c1cec0985d3a3">fEnemyInSector</a> )
<a name="l00066"></a>00066       {
<a name="l00067"></a>00067             pNewEvent = <a class="code" href="Game_01Events_8cpp.html#179aad7ecf8b7f9aa2fb8494f2783d46">AddAdvancedStrategicEvent</a>( pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#e2b078e12386d07a231d153a576b1a5a">ubEventType</a>, pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#97db0880a4e44b57614b8a0a75212dff">ubCallbackID</a>, pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#4f59caed9200138c8bfbdee6a0754d4f">uiTimeStamp</a> + 180 + <a class="code" href="Random_8cpp.html#49f938d1313ab6ef09ac6223a16ac334">Random</a>( 121 ), pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#f83c11033d70ab8c9cd3fcbc77c5f5dc">uiParam</a> );
<a name="l00068"></a>00068             Assert( pNewEvent );
<a name="l00069"></a>00069             pNewEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#c624148cee48bb80f3e39bcacb90357e">uiTimeOffset</a> = pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#c624148cee48bb80f3e39bcacb90357e">uiTimeOffset</a>;
<a name="l00070"></a>00070             <span class="keywordflow">return</span> TRUE;
<a name="l00071"></a>00071       }
<a name="l00072"></a>00072       <span class="keywordflow">return</span> FALSE;
<a name="l00073"></a>00073 }
<a name="l00074"></a>00074 
<a name="l00075"></a><a class="code" href="Game_01Events_8h.html#87c2d424284e850434e494d67bec94b4">00075</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> <a class="code" href="Game_01Event_01Hook_8cpp.html#87c2d424284e850434e494d67bec94b4">ExecuteStrategicEvent</a>( <a class="code" href="structSTRATEGICEVENT.html">STRATEGICEVENT</a> *pEvent )
<a name="l00076"></a>00076 {
<a name="l00077"></a>00077 
<a name="l00078"></a>00078   <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> bMercDayOne = FALSE;
<a name="l00079"></a>00079       <span class="comment">// Kaiden: Opening the INI File</span>
<a name="l00080"></a>00080       <a class="code" href="classCIniReader.html">CIniReader</a> iniReader(<span class="stringliteral">"..\\Ja2_Options.ini"</span>);
<a name="l00081"></a>00081 
<a name="l00082"></a>00082 
<a name="l00083"></a>00083       <span class="comment">//Kaiden: Getting Value for MERC Available on Day one?</span>
<a name="l00084"></a>00084       bMercDayOne = iniReader.<a class="code" href="classCIniReader.html#98ddb8f8eb15d07a9f49164eb3f560f2">ReadBoolean</a>(<span class="stringliteral">"Options"</span>,<span class="stringliteral">"MERC_DAY_ONE"</span>,FALSE);
<a name="l00085"></a>00085 
<a name="l00086"></a>00086       DebugMsg (<a class="code" href="DEBUG_8cpp.html#a7985c2fd033797fc67a03b2c26e07c6">TOPIC_JA2</a>,DBG_LEVEL_3,<span class="stringliteral">"ExecuteStrategicEvent"</span>);
<a name="l00087"></a>00087 
<a name="l00088"></a>00088       <span class="keywordflow">if</span>( <a class="code" href="GameSettings_8cpp.html#5c32f930e2fef384505c4b91803a92c2">gGameExternalOptions</a>.<a class="code" href="structGAME__EXTERNAL__OPTIONS.html#86eee3e8dae2c5549d897459c853c589">gfEnableEmergencyButton_SkipStrategicEvents</a> &amp;&amp; _KeyDown( NUM_LOCK ) )
<a name="l00089"></a>00089       {
<a name="l00090"></a>00090             <a class="code" href="message_8cpp.html#818e47bc59bd5a5755f06ec51cd74928">ScreenMsg</a>( FONT_MCOLOR_LTYELLOW, MSG_INTERFACE, L<span class="stringliteral">"Strategic event skipped!"</span> );
<a name="l00091"></a>00091             <span class="keywordflow">return</span> TRUE;
<a name="l00092"></a>00092       }
<a name="l00093"></a>00093       
<a name="l00094"></a>00094       <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> fOrigPreventFlag;
<a name="l00095"></a>00095 
<a name="l00096"></a>00096       fOrigPreventFlag = <a class="code" href="Game_01Event_01Hook_8cpp.html#1dfd110f4c00954e634834129f81b5c9">gfPreventDeletionOfAnyEvent</a>;
<a name="l00097"></a>00097       <a class="code" href="Game_01Event_01Hook_8cpp.html#1dfd110f4c00954e634834129f81b5c9">gfPreventDeletionOfAnyEvent</a> = TRUE;
<a name="l00098"></a>00098       <span class="comment">//No events can be posted before this time when gfProcessingGameEvents is set, otherwise,</span>
<a name="l00099"></a>00099       <span class="comment">//we have a chance of running into an infinite loop.</span>
<a name="l00100"></a>00100       <a class="code" href="Game_01Event_01Hook_8cpp.html#7bab2cbc6fcf8e422921063b5e735af4">guiTimeStampOfCurrentlyExecutingEvent</a> = pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#4f59caed9200138c8bfbdee6a0754d4f">uiTimeStamp</a>;
<a name="l00101"></a>00101 
<a name="l00102"></a>00102       <span class="keywordflow">if</span>( pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#94a34e5e3e736b0e5c56fafdd33d3d16">ubFlags</a> &amp; SEF_DELETION_PENDING)
<a name="l00103"></a>00103       {
<a name="l00104"></a>00104             <a class="code" href="Game_01Event_01Hook_8cpp.html#1dfd110f4c00954e634834129f81b5c9">gfPreventDeletionOfAnyEvent</a> = fOrigPreventFlag;
<a name="l00105"></a>00105             <span class="keywordflow">return</span> FALSE;
<a name="l00106"></a>00106       }
<a name="l00107"></a>00107 
<a name="l00108"></a>00108 <span class="preprocessor">      #ifdef JA2BETAVERSION</span>
<a name="l00109"></a>00109 <span class="preprocessor"></span>            <span class="comment">//If we are currently in the AIViewer, only process the events that we want to process.</span>
<a name="l00110"></a>00110             <span class="comment">//The rest of the events will be delayed until AFTER we leave the viewer.</span>
<a name="l00111"></a>00111             <span class="keywordflow">if</span>( <a class="code" href="gameloop_8cpp.html#8cd832c7f0ec6ab02ba9fddd4a2257aa">guiCurrentScreen</a> == <a class="code" href="screenids_8h.html#a4ee5dea8709d2b490486a62df77faf2eddea7bb8551411e5bfb6f052177bc01">AIVIEWER_SCREEN</a> )
<a name="l00112"></a>00112             {
<a name="l00113"></a>00113                   <span class="keywordflow">if</span>( pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#97db0880a4e44b57614b8a0a75212dff">ubCallbackID</a> != <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110bf1b28fbd856a4b1e3e194c32757ea49">EVENT_BEGIN_CREATURE_QUEST</a> &amp;&amp;
<a name="l00114"></a>00114                               pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#97db0880a4e44b57614b8a0a75212dff">ubCallbackID</a> != <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110a37239c97abb8729d18ef5576251bba8">EVENT_CREATURE_SPREAD</a> &amp;&amp;
<a name="l00115"></a>00115                               pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#97db0880a4e44b57614b8a0a75212dff">ubCallbackID</a> != <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110d48d0e76ebf0af0f5e4d6a4e528c412f">EVENT_DELAYED_HIRING_OF_MERC</a> &amp;&amp;
<a name="l00116"></a>00116                               pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#97db0880a4e44b57614b8a0a75212dff">ubCallbackID</a> != <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c260457311037d277d553e38a8b0415da700fc972c6">EVENT_GROUP_ARRIVAL</a>     &amp;&amp;
<a name="l00117"></a>00117                               pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#97db0880a4e44b57614b8a0a75212dff">ubCallbackID</a> != <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c26045731106d744aac1461129e69ce5d43d26e5e38">EVENT_EVALUATE_QUEEN_SITUATION</a> &amp;&amp;
<a name="l00118"></a>00118                               pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#97db0880a4e44b57614b8a0a75212dff">ubCallbackID</a> != <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c260457311084391578ce79172a0826afc1bba2a312">EVENT_CHECK_ENEMY_CONTROLLED_SECTOR</a> )
<a name="l00119"></a>00119                   {
<a name="l00120"></a>00120                         <a class="code" href="Game_01Event_01Hook_8cpp.html#1dfd110f4c00954e634834129f81b5c9">gfPreventDeletionOfAnyEvent</a> = fOrigPreventFlag;
<a name="l00121"></a>00121                         <span class="keywordflow">return</span> FALSE;
<a name="l00122"></a>00122                   }
<a name="l00123"></a>00123             }
<a name="l00124"></a>00124 <span class="preprocessor">      #endif</span>
<a name="l00125"></a>00125 <span class="preprocessor"></span><span class="preprocessor">      #ifdef JA2BETAVERSION</span>
<a name="l00126"></a>00126 <span class="preprocessor"></span>            <span class="keywordflow">if</span>( <a class="code" href="Game_01Event_01Hook_8cpp.html#5c5e443f7d822b4a1e0b0c0d8ba9859b">gfMercsNeverQuit</a> )
<a name="l00127"></a>00127             {
<a name="l00128"></a>00128                   <span class="keywordflow">if</span>( pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#97db0880a4e44b57614b8a0a75212dff">ubCallbackID</a> == <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110f3c47bec78505c99984b8f2c4b88565f">EVENT_MERC_ABOUT_TO_LEAVE_COMMENT</a> ||
<a name="l00129"></a>00129                           pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#97db0880a4e44b57614b8a0a75212dff">ubCallbackID</a> == <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110ff18f5c366faa082315d086bcdfc7e8c">EVENT_MERC_CONTRACT_OVER</a> )
<a name="l00130"></a>00130                   {
<a name="l00131"></a>00131                         <a class="code" href="Game_01Event_01Hook_8cpp.html#1dfd110f4c00954e634834129f81b5c9">gfPreventDeletionOfAnyEvent</a> = fOrigPreventFlag;
<a name="l00132"></a>00132                         <span class="keywordflow">return</span> FALSE;
<a name="l00133"></a>00133                   }
<a name="l00134"></a>00134             }
<a name="l00135"></a>00135 <span class="preprocessor">      #endif</span>
<a name="l00136"></a>00136 <span class="preprocessor"></span>      <span class="comment">// Look at the ID of event and do stuff according to that!</span>
<a name="l00137"></a>00137             DebugMsg (<a class="code" href="DEBUG_8cpp.html#a7985c2fd033797fc67a03b2c26e07c6">TOPIC_JA2</a>,DBG_LEVEL_3,<a class="code" href="DEBUG_8cpp.html#88565bf27eec0b2003eb5bc9426b8e4b">String</a>(<span class="stringliteral">"ExecuteStrategicEvent: event callback id = %d"</span>, pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#97db0880a4e44b57614b8a0a75212dff">ubCallbackID</a>));
<a name="l00138"></a>00138 
<a name="l00139"></a>00139       <span class="keywordflow">switch</span>( pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#97db0880a4e44b57614b8a0a75212dff">ubCallbackID</a> )
<a name="l00140"></a>00140       {
<a name="l00141"></a>00141             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110418b2cdabd34d1b39986fad54c92f43a">EVENT_CHANGELIGHTVAL</a>:
<a name="l00142"></a>00142                   <span class="comment">// Change light to value</span>
<a name="l00143"></a>00143                   <a class="code" href="environment_8cpp.html#3ef7c601cb960e9b010ae4f97675981e">gubEnvLightValue</a> = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#f83c11033d70ab8c9cd3fcbc77c5f5dc">uiParam</a>;
<a name="l00144"></a>00144                   <span class="keywordflow">if</span>( !<a class="code" href="environment_8cpp.html#766b3fc59d0883a3dffe106a75d85de9">gfBasement</a> &amp;&amp; !<a class="code" href="environment_8cpp.html#ea0c22ba3efb5390ad177dff4fb0be71">gfCaves</a> )
<a name="l00145"></a>00145                         <a class="code" href="environment_8cpp.html#ff5117f6b0fb0ade3b1d01a266641d06">gfDoLighting</a>             = TRUE;
<a name="l00146"></a>00146                   <span class="keywordflow">break</span>;
<a name="l00147"></a>00147             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c26045731103e82ff7ed0f606eac3a30592cda3d929">EVENT_CHECKFORQUESTS</a>:
<a name="l00148"></a>00148                   <a class="code" href="Quests_8cpp.html#7090d37bfc2c9539a9aadd76ad320edd">CheckForQuests</a>( <a class="code" href="Game_01Clock_8cpp.html#41db6fb136e18cfede5f7c1eea89d7fb">GetWorldDay</a>() );
<a name="l00149"></a>00149                   <span class="keywordflow">break</span>;
<a name="l00150"></a>00150             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c260457311055ce4cde5f128341dfada3e92de579ee">EVENT_AMBIENT</a>:
<a name="l00151"></a>00151                   <span class="keywordflow">if</span>( pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#e2b078e12386d07a231d153a576b1a5a">ubEventType</a> == <a class="code" href="Game_01Events_8h.html#fded920d42f51b77f7f86b5057dd4516cdb27d665acd212b377549800550284b">ENDRANGED_EVENT</a> )
<a name="l00152"></a>00152                   {
<a name="l00153"></a>00153                         <span class="keywordflow">if</span> ( pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#f83c11033d70ab8c9cd3fcbc77c5f5dc">uiParam</a> != NO_SAMPLE )
<a name="l00154"></a>00154                         {
<a name="l00155"></a>00155                               DebugMsg (<a class="code" href="DEBUG_8cpp.html#a7985c2fd033797fc67a03b2c26e07c6">TOPIC_JA2</a>,DBG_LEVEL_3,<span class="stringliteral">"ExecuteStrategicEvent: SoundRemoveSampleFlags"</span>);
<a name="l00156"></a>00156                               <a class="code" href="soundman_8cpp.html#cf6c5fbf35000b867de0ee48a4b8749f">SoundRemoveSampleFlags</a>( pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#f83c11033d70ab8c9cd3fcbc77c5f5dc">uiParam</a>, SAMPLE_RANDOM );
<a name="l00157"></a>00157                               DebugMsg (TOPIC_JA2,DBG_LEVEL_3,<span class="stringliteral">"ExecuteStrategicEvent: SoundRemoveSampleFlags done"</span>);
<a name="l00158"></a>00158                         }
<a name="l00159"></a>00159                   }
<a name="l00160"></a>00160                   <span class="keywordflow">else</span>
<a name="l00161"></a>00161                   {
<a name="l00162"></a>00162                         DebugMsg (<a class="code" href="DEBUG_8cpp.html#a7985c2fd033797fc67a03b2c26e07c6">TOPIC_JA2</a>,DBG_LEVEL_3,<span class="stringliteral">"ExecuteStrategicEvent: SetupNewAmbientSound"</span>);
<a name="l00163"></a>00163                         pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#f83c11033d70ab8c9cd3fcbc77c5f5dc">uiParam</a> = <a class="code" href="Ambient_01Control_8cpp.html#6a439420280c95875d53b6a0052b8cd8">SetupNewAmbientSound</a>( pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#f83c11033d70ab8c9cd3fcbc77c5f5dc">uiParam</a> ); <span class="comment">//bug Nr14</span>
<a name="l00164"></a>00164                         DebugMsg (<a class="code" href="DEBUG_8cpp.html#a7985c2fd033797fc67a03b2c26e07c6">TOPIC_JA2</a>,DBG_LEVEL_3,<span class="stringliteral">"ExecuteStrategicEvent: SetupNewAmbientSound done"</span>);
<a name="l00165"></a>00165                   }
<a name="l00166"></a>00166                   <span class="keywordflow">break</span>;
<a name="l00167"></a>00167             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c26045731101bb4835cbd6034434bdeb95e7ce8e229">EVENT_AIM_RESET_MERC_ANNOYANCE</a>:
<a name="l00168"></a>00168                   <a class="code" href="AimMembers_8cpp.html#48f8f5dff327b8a577e87b75c9646618">ResetMercAnnoyanceAtPlayer</a>( (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>) pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#f83c11033d70ab8c9cd3fcbc77c5f5dc">uiParam</a> );
<a name="l00169"></a>00169                   <span class="keywordflow">break</span>;
<a name="l00170"></a>00170             <span class="comment">//The players purchase from Bobby Ray has arrived</span>
<a name="l00171"></a>00171             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c26045731102f90f0035d36dcd8853788c3c1e6e64d">EVENT_BOBBYRAY_PURCHASE</a>:
<a name="l00172"></a>00172                   <a class="code" href="Strategic_01Event_01Handler_8cpp.html#917a0912f17e1110bfe9a6294fc48b51">BobbyRayPurchaseEventCallback</a>( (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>) pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#f83c11033d70ab8c9cd3fcbc77c5f5dc">uiParam</a>);
<a name="l00173"></a>00173                   <span class="keywordflow">break</span>;
<a name="l00174"></a>00174             <span class="comment">//Gets called once a day ( at BOBBYRAY_UPDATE_TIME).  To simulate the items being bought and sold at bobby rays </span>
<a name="l00175"></a>00175             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c26045731108e4986b95aaf43fc1bfae9a8d1b197a8">EVENT_DAILY_UPDATE_BOBBY_RAY_INVENTORY</a>:
<a name="l00176"></a>00176                   <a class="code" href="BobbyR_8cpp.html#8533a79b2714ae3891e2066314201158">DailyUpdateOfBobbyRaysNewInventory</a>();
<a name="l00177"></a>00177                   <a class="code" href="BobbyR_8cpp.html#22353e0c38cd7604487de6b48c446f27">DailyUpdateOfBobbyRaysUsedInventory</a>();
<a name="l00178"></a>00178                   <a class="code" href="Arms_01Dealer_01Init_8cpp.html#9a03e1638e54eeb9dc9a8debcf0f05e0">DailyUpdateOfArmsDealersInventory</a>();
<a name="l00179"></a>00179                   <span class="keywordflow">break</span>;
<a name="l00180"></a>00180             <span class="comment">//Add items to BobbyR's new/used inventory</span>
<a name="l00181"></a>00181             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c26045731101fadaedb996ff780d049abb30357fa66">EVENT_UPDATE_BOBBY_RAY_INVENTORY</a>:
<a name="l00182"></a>00182                   <a class="code" href="BobbyR_8cpp.html#e5ee2da9bdb8154145ab65827cc8a917">AddFreshBobbyRayInventory</a>( (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>) pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#f83c11033d70ab8c9cd3fcbc77c5f5dc">uiParam</a> );
<a name="l00183"></a>00183                   <span class="keywordflow">break</span>;
<a name="l00184"></a>00184             <span class="comment">//Called once a day to update the number of days that a hired merc from M.E.R.C. has been on contract.</span>
<a name="l00185"></a>00185             <span class="comment">// Also if the player hasn't paid for a while Specks will start sending e-mails to the player</span>
<a name="l00186"></a>00186             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110484845059e908934fcd4d8dcdcd786a6">EVENT_DAILY_UPDATE_OF_MERC_SITE</a>:
<a name="l00187"></a>00187                   <a class="code" href="mercs_8cpp.html#39e6d88e869e9a62a12da2b8dc8ad84b">DailyUpdateOfMercSite</a>( (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)<a class="code" href="Game_01Clock_8cpp.html#41db6fb136e18cfede5f7c1eea89d7fb">GetWorldDay</a>() );
<a name="l00188"></a>00188                   <span class="keywordflow">break</span>;
<a name="l00189"></a>00189     <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110dca2c14a38b7f5aac7f84e85dc6a360c">EVENT_DAY3_ADD_EMAIL_FROM_SPECK</a>:
<a name="l00190"></a>00190                   <span class="keywordflow">if</span>(!bMercDayOne)
<a name="l00191"></a>00191                   {
<a name="l00192"></a>00192                         <a class="code" href="email_8cpp.html#a8c94e8b550c28723c1e587381bd874e">AddEmail</a>(MERC_INTRO, MERC_INTRO_LENGTH, <a class="code" href="email_8h.html#83e8bc15645f9d99ab91a152bb3dc8cea5e42ab34d0ca3f94740c574c5c32795">SPECK_FROM_MERC</a>, <a class="code" href="Game_01Clock_8cpp.html#4d255e800fba4d64144a7639d5f3421d">GetWorldTotalMin</a>( ) );
<a name="l00193"></a>00193                   }
<a name="l00194"></a>00194                   <span class="keywordflow">break</span>;
<a name="l00195"></a>00195             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c260457311071f8e5cae11ad601ea09307884a41c33">EVENT_DAY2_ADD_EMAIL_FROM_IMP</a>:
<a name="l00196"></a>00196                   <a class="code" href="email_8cpp.html#a8c94e8b550c28723c1e587381bd874e">AddEmail</a>(IMP_EMAIL_PROFILE_RESULTS, IMP_EMAIL_PROFILE_RESULTS_LENGTH, <a class="code" href="email_8h.html#83e8bc15645f9d99ab91a152bb3dc8ce0def81b526fc2c58ae76c81db942112b">IMP_PROFILE_RESULTS</a>, <a class="code" href="Game_01Clock_8cpp.html#4d255e800fba4d64144a7639d5f3421d">GetWorldTotalMin</a>( ) );
<a name="l00197"></a>00197                   <span class="keywordflow">break</span>;
<a name="l00198"></a>00198             <span class="comment">//If a merc gets hired and they dont show up immediately, the merc gets added to the queue and shows up</span>
<a name="l00199"></a>00199             <span class="comment">// uiTimeTillMercArrives  minutes later</span>
<a name="l00200"></a>00200             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110d48d0e76ebf0af0f5e4d6a4e528c412f">EVENT_DELAYED_HIRING_OF_MERC</a>:
<a name="l00201"></a>00201                   <a class="code" href="Merc_01Hiring_8cpp.html#31401e0b9bca7a536a37fae96172c598">MercArrivesCallback</a>(    (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>) pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#f83c11033d70ab8c9cd3fcbc77c5f5dc">uiParam</a> );
<a name="l00202"></a>00202                   <span class="keywordflow">break</span>;
<a name="l00203"></a>00203             <span class="comment">//handles the life insurance contract for a merc from AIM.</span>
<a name="l00204"></a>00204             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110c4cfb7129ace54adc2d89a35bf99a614">EVENT_HANDLE_INSURED_MERCS</a>:
<a name="l00205"></a>00205                   <a class="code" href="insurance_01Contract_8cpp.html#93364991b770a90e85918b33b2f6e95f">DailyUpdateOfInsuredMercs</a>();
<a name="l00206"></a>00206                   <span class="keywordflow">break</span>;
<a name="l00207"></a>00207             <span class="comment">//handles when a merc is killed an there is a life insurance payout</span>
<a name="l00208"></a>00208             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110656a6f983acdacd70af5bf20bb8e030e">EVENT_PAY_LIFE_INSURANCE_FOR_DEAD_MERC</a>:
<a name="l00209"></a>00209                   <a class="code" href="insurance_01Contract_8cpp.html#3869fc71501a10c3b4ba24c33d0f03be">InsuranceContractPayLifeInsuranceForDeadMerc</a>( (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>) pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#f83c11033d70ab8c9cd3fcbc77c5f5dc">uiParam</a> );
<a name="l00210"></a>00210                   <span class="keywordflow">break</span>;
<a name="l00211"></a>00211             <span class="comment">//gets called every day at midnight.</span>
<a name="l00212"></a>00212             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c26045731103a6556ce58b38d67e0424b87f2b01918">EVENT_MERC_DAILY_UPDATE</a>:
<a name="l00213"></a>00213                   <a class="code" href="Strategic_01Merc_01Handler_8cpp.html#7b5a543528640fae27b544d1ffe85059">MercDailyUpdate</a>();
<a name="l00214"></a>00214                   <span class="keywordflow">break</span>;
<a name="l00215"></a>00215             <span class="comment">//gets when a merc is about to leave.</span>
<a name="l00216"></a>00216             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110f3c47bec78505c99984b8f2c4b88565f">EVENT_MERC_ABOUT_TO_LEAVE_COMMENT</a>:
<a name="l00217"></a>00217                   <span class="keywordflow">break</span>;
<a name="l00218"></a>00218             <span class="comment">// show the update menu</span>
<a name="l00219"></a>00219             <span class="keywordflow">case</span>( <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c26045731105410286dde074b073b497f27e76687f8">EVENT_SHOW_UPDATE_MENU</a> ):
<a name="l00220"></a>00220                   <a class="code" href="Map_01Screen_01Interface_8cpp.html#07e4f328f4bee1dc4ab792dc596b0f2a">AddDisplayBoxToWaitingQueue</a>( );
<a name="l00221"></a>00221                   <span class="keywordflow">break</span>;
<a name="l00222"></a>00222             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110888a9b29a0e6d6b6b7a53f3ce6fa1fb0">EVENT_MERC_ABOUT_TO_LEAVE</a>:
<a name="l00223"></a>00223                   <a class="code" href="Merc_01Contract_8cpp.html#23a1c2322bebfb79f04c829062ac5cc7">FindOutIfAnyMercAboutToLeaveIsGonnaRenew</a>( );
<a name="l00224"></a>00224                   <span class="keywordflow">break</span>;
<a name="l00225"></a>00225             <span class="comment">//When a merc is supposed to leave</span>
<a name="l00226"></a>00226             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110ff18f5c366faa082315d086bcdfc7e8c">EVENT_MERC_CONTRACT_OVER</a>:
<a name="l00227"></a>00227                   <a class="code" href="Strategic_01Merc_01Handler_8cpp.html#bc330e40e402e6e33c3b1056030cdfee">MercsContractIsFinished</a>( (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>) pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#f83c11033d70ab8c9cd3fcbc77c5f5dc">uiParam</a> );
<a name="l00228"></a>00228                   <span class="keywordflow">break</span>;
<a name="l00229"></a>00229             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c260457311002a0451a91da70b84ebb162fe1eec197">EVENT_ADDSOLDIER_TO_UPDATE_BOX</a>:
<a name="l00230"></a>00230                   <span class="comment">// if the grunt is currently active, add to update box</span>
<a name="l00231"></a>00231                   <span class="keywordflow">if</span>( <a class="code" href="Overhead_8cpp.html#f1785e87ea281d015350ec85b9bd8508">Menptr</a>[ pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#f83c11033d70ab8c9cd3fcbc77c5f5dc">uiParam</a> ].bActive )
<a name="l00232"></a>00232                   {
<a name="l00233"></a>00233                         <a class="code" href="Map_01Screen_01Interface_8cpp.html#a1c53598739321b074da548944b053ea">AddSoldierToWaitingListQueue</a>( &amp;( <a class="code" href="Overhead_8cpp.html#f1785e87ea281d015350ec85b9bd8508">Menptr</a>[ pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#f83c11033d70ab8c9cd3fcbc77c5f5dc">uiParam</a> ] ) );
<a name="l00234"></a>00234                   }
<a name="l00235"></a>00235                   <span class="keywordflow">break</span>;
<a name="l00236"></a>00236             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110c8b157e5ece68fff9fcf96645df76fba">EVENT_SET_MENU_REASON</a>:
<a name="l00237"></a>00237                   <a class="code" href="Map_01Screen_01Interface_8cpp.html#c843bc8ac00b436127b96bc751f42052">AddReasonToWaitingListQueue</a>( (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>) pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#f83c11033d70ab8c9cd3fcbc77c5f5dc">uiParam</a> );
<a name="l00238"></a>00238                   <span class="keywordflow">break</span>;
<a name="l00239"></a>00239             <span class="comment">//Whenever any group (player or enemy) arrives in a new sector during movement.</span>
<a name="l00240"></a>00240             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c260457311037d277d553e38a8b0415da700fc972c6">EVENT_GROUP_ARRIVAL</a>:
<a name="l00241"></a>00241                   <span class="comment">//ValidateGameEvents();</span>
<a name="l00242"></a>00242                   <a class="code" href="Strategic_01Movement_8cpp.html#ce58dcc1a0d80b866951794209d2cace">GroupArrivedAtSector</a>( (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#f83c11033d70ab8c9cd3fcbc77c5f5dc">uiParam</a>, TRUE, FALSE );
<a name="l00243"></a>00243                   <span class="comment">//ValidateGameEvents();</span>
<a name="l00244"></a>00244                   <span class="keywordflow">break</span>;
<a name="l00245"></a>00245             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c26045731108d82cb9dfb82d1ff931e7d5c19189cbe">EVENT_MERC_COMPLAIN_EQUIPMENT</a>:
<a name="l00246"></a>00246                   <a class="code" href="Strategic_01Merc_01Handler_8cpp.html#c1d77e45909dbdc7691e4cbc717b52d3">MercComplainAboutEquipment</a>( (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>) pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#f83c11033d70ab8c9cd3fcbc77c5f5dc">uiParam</a> );
<a name="l00247"></a>00247                   <span class="keywordflow">break</span>;
<a name="l00248"></a>00248             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110949d565d416a69dc339cac3720f05227">EVENT_HOURLY_UPDATE</a>:
<a name="l00249"></a>00249                   <a class="code" href="Game_01Event_01Hook_8cpp.html#1bff15c642656f381ee037ab9510e274">HandleHourlyUpdate</a>();
<a name="l00250"></a>00250                   <span class="keywordflow">break</span>;
<a name="l00251"></a>00251             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c26045731106d361e78da6d6e85748939167675b3b2">EVENT_MINUTE_UPDATE</a>:
<a name="l00252"></a>00252                   <a class="code" href="Game_01Event_01Hook_8cpp.html#9281c7c48c2dd7afee30fa460bff3a39">HandleMinuteUpdate</a>();
<a name="l00253"></a>00253                   <span class="keywordflow">break</span>;
<a name="l00254"></a>00254             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c26045731108fc8de9715f020d732bc3cb9852444d6">EVENT_HANDLE_MINE_INCOME</a>:
<a name="l00255"></a>00255                   <a class="code" href="Strategic_01Mines_8cpp.html#681007c1d3d6921d4ab894c7ead05f9d">HandleIncomeFromMines</a>( );
<a name="l00256"></a>00256                   <span class="comment">//ScreenMsg( FONT_MCOLOR_DKRED, MSG_INTERFACE, L"Income From Mines at %d", GetWorldTotalMin( ) );</span>
<a name="l00257"></a>00257                   <span class="keywordflow">break</span>;
<a name="l00258"></a>00258             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c26045731102ddf584030e0bc68e627142f2adbef47">EVENT_SETUP_MINE_INCOME</a>:
<a name="l00259"></a>00259                   <a class="code" href="Strategic_01Mines_8cpp.html#5d790e58441afe060fc60148ad39c7fa">PostEventsForMineProduction</a>();
<a name="l00260"></a>00260                   <span class="keywordflow">break</span>;
<a name="l00261"></a>00261             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110e7e6f5abd526cb570885f739011d83ea">EVENT_SETUP_TOWN_OPINION</a>:
<a name="l00262"></a>00262                   <a class="code" href="strategic_01town_01reputation_8cpp.html#89c5716dbeb312c6b3f67ef89c822045">PostEventsForSpreadOfTownOpinion</a>( );
<a name="l00263"></a>00263                   <span class="keywordflow">break</span>;
<a name="l00264"></a>00264             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c26045731106b252b6e8550d48501a3a2d41c7aac3e">EVENT_HANDLE_TOWN_OPINION</a>:
<a name="l00265"></a>00265                   <a class="code" href="strategic_01town_01reputation_8cpp.html#8f33efe90ca56eb95cf51640c1857b5a">HandleSpreadOfAllTownsOpinion</a>( );
<a name="l00266"></a>00266                   <span class="keywordflow">break</span>;
<a name="l00267"></a>00267             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110d63b1218e6668df425e6205a5e270f41">EVENT_SET_BY_NPC_SYSTEM</a>:
<a name="l00268"></a>00268                   <a class="code" href="Strategic_01Event_01Handler_8cpp.html#3440cdc0d2215221d29787ca9982afa6">HandleNPCSystemEvent</a>( pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#f83c11033d70ab8c9cd3fcbc77c5f5dc">uiParam</a> );
<a name="l00269"></a>00269                   <span class="keywordflow">break</span>;
<a name="l00270"></a>00270             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110cc6cc4f73e74c9a19fd409011e4e02e1">EVENT_SECOND_AIRPORT_ATTENDANT_ARRIVED</a>:
<a name="l00271"></a>00271                   <a class="code" href="Strategic_01Event_01Handler_8cpp.html#09a5525f1968667823a17d1b7f040194">AddSecondAirportAttendant</a>();
<a name="l00272"></a>00272                   <span class="keywordflow">break</span>;
<a name="l00273"></a>00273             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c260457311009afe73dc522b92bab6deb440635cd4c">EVENT_HELICOPTER_HOVER_TOO_LONG</a>:
<a name="l00274"></a>00274                   <a class="code" href="Map_01Screen_01Helicopter_8cpp.html#b7d5847cdcf8c0e85a2826c9caedd417">HandleHeliHoverLong</a>( );
<a name="l00275"></a>00275                   <span class="keywordflow">break</span>;
<a name="l00276"></a>00276             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110da483a77e609b9bb9f584e173375bd82">EVENT_HELICOPTER_HOVER_WAY_TOO_LONG</a>:
<a name="l00277"></a>00277                   <a class="code" href="Map_01Screen_01Helicopter_8cpp.html#0e3d3775ac48b9e5487ec3de70a535f8">HandleHeliHoverTooLong</a>( );
<a name="l00278"></a>00278                   <span class="keywordflow">break</span>;
<a name="l00279"></a>00279             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c260457311063cee4e03842208002ad75ca1d8a254f">EVENT_MERC_LEAVE_EQUIP_IN_DRASSEN</a>:
<a name="l00280"></a>00280                   <a class="code" href="Map_01Screen_01Interface_8cpp.html#5c06300c32f88b110332fd9a4dad8fd5">HandleEquipmentLeftInDrassen</a>( pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#f83c11033d70ab8c9cd3fcbc77c5f5dc">uiParam</a> );
<a name="l00281"></a>00281                   <span class="keywordflow">break</span>;
<a name="l00282"></a>00282             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c26045731105e1ca0d645b919179782e2c442a56945">EVENT_MERC_LEAVE_EQUIP_IN_OMERTA</a>:
<a name="l00283"></a>00283                   <a class="code" href="Map_01Screen_01Interface_8cpp.html#dbb307a8a52defcb142fa585c2ff915a">HandleEquipmentLeftInOmerta</a>( pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#f83c11033d70ab8c9cd3fcbc77c5f5dc">uiParam</a> );
<a name="l00284"></a>00284                   <span class="keywordflow">break</span>;
<a name="l00285"></a>00285             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c26045731109c9690888bc695be06758e5bd01a9748">EVENT_BANDAGE_BLEEDING_MERCS</a>:
<a name="l00286"></a>00286                   <a class="code" href="Assignments_8cpp.html#58a60fc388109b258701f9ea106cb1e5">BandageBleedingDyingPatientsBeingTreated</a>( );
<a name="l00287"></a>00287                   <span class="keywordflow">break</span>;
<a name="l00288"></a>00288             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110a328f554454eabaa2e582cd697c4d1c9">EVENT_DAILY_EARLY_MORNING_EVENTS</a>:
<a name="l00289"></a>00289                   <a class="code" href="Strategic_01Event_01Handler_8cpp.html#7eb0eb6e2ada1e8e675bc9a38fa8065a">HandleEarlyMorningEvents</a>();
<a name="l00290"></a>00290                   <span class="keywordflow">break</span>; 
<a name="l00291"></a>00291             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110f483d5542f3a418c19610a81d0dda435">EVENT_GROUP_ABOUT_TO_ARRIVE</a>:
<a name="l00292"></a>00292                   <a class="code" href="Map_01Screen_01Interface_8cpp.html#65d5afab1fe481cf934d0d4e66046b86">HandleGroupAboutToArrive</a>();
<a name="l00293"></a>00293                   <span class="keywordflow">break</span>;
<a name="l00294"></a>00294             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110460f7ec1fef4e20b409ff4d717deb0c5">EVENT_PROCESS_TACTICAL_SCHEDULE</a>:
<a name="l00295"></a>00295                   <a class="code" href="Scheduling_8cpp.html#7995cea2a99cc9a2c12e8e15139a78c8">ProcessTacticalSchedule</a>( (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#f83c11033d70ab8c9cd3fcbc77c5f5dc">uiParam</a> );
<a name="l00296"></a>00296                   <span class="keywordflow">break</span>;
<a name="l00297"></a>00297             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c26045731103049fbee90933fee98e8cf8b2dbf1bb7">EVENT_BEGINRAINSTORM</a>:
<a name="l00298"></a>00298                   <span class="comment">//EnvBeginRainStorm( (UINT8)pEvent-&gt;uiParam );</span>
<a name="l00299"></a>00299                   <span class="keywordflow">break</span>;
<a name="l00300"></a>00300             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110e3af3e66a12ee86609237032321d8707">EVENT_ENDRAINSTORM</a>:
<a name="l00301"></a>00301                   <span class="comment">//EnvEndRainStorm( );</span>
<a name="l00302"></a>00302                   <span class="keywordflow">break</span>;
<a name="l00303"></a>00303             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c26045731108a6d3c1119b4af8a5ddf2da0551b5f84">EVENT_RAINSTORM</a>:
<a name="l00304"></a>00304 
<a name="l00305"></a>00305       <span class="comment">// ATE: Disabled</span>
<a name="l00306"></a>00306       <span class="comment">//rain</span>
<a name="l00307"></a>00307                   <span class="keywordflow">if</span>( pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#e2b078e12386d07a231d153a576b1a5a">ubEventType</a> == <a class="code" href="Game_01Events_8h.html#fded920d42f51b77f7f86b5057dd4516cdb27d665acd212b377549800550284b">ENDRANGED_EVENT</a> )
<a name="l00308"></a>00308                   {
<a name="l00309"></a>00309                         <a class="code" href="environment_8cpp.html#7b079dafc4dbb8d24f77106ecdddbc79">EnvEndRainStorm</a>( );
<a name="l00310"></a>00310                   }
<a name="l00311"></a>00311                   <span class="keywordflow">else</span>
<a name="l00312"></a>00312                   {
<a name="l00313"></a>00313                         <a class="code" href="environment_8cpp.html#dea24f8ce3e3e00e9e5e213a0023db84">EnvBeginRainStorm</a>( (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#f83c11033d70ab8c9cd3fcbc77c5f5dc">uiParam</a> );
<a name="l00314"></a>00314                   }
<a name="l00315"></a>00315             <span class="comment">//end rain</span>
<a name="l00316"></a>00316                   <span class="keywordflow">break</span>;
<a name="l00317"></a>00317 
<a name="l00318"></a>00318             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c26045731106eaf08f0013e24809a3734c841120890">EVENT_MAKE_CIV_GROUP_HOSTILE_ON_NEXT_SECTOR_ENTRANCE</a>:
<a name="l00319"></a>00319                   <a class="code" href="Strategic_01Event_01Handler_8cpp.html#09a7605cdaa144f56857b85d5006fd0c">MakeCivGroupHostileOnNextSectorEntrance</a>( (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#f83c11033d70ab8c9cd3fcbc77c5f5dc">uiParam</a> );
<a name="l00320"></a>00320                   <span class="keywordflow">break</span>;
<a name="l00321"></a>00321 <span class="comment">//          case EVENT_CHECK_FOR_AIR_RAID:</span>
<a name="l00322"></a>00322 <span class="comment">//                CheckForAndSetupAirRaid( );</span>
<a name="l00323"></a>00323 <span class="comment">//                break;</span>
<a name="l00324"></a>00324             <span class="comment">//case EVENT_BEGIN_AIR_RAID:</span>
<a name="l00325"></a>00325             <span class="comment">//    BeginAirRaid( );</span>
<a name="l00326"></a>00326             <span class="comment">//    break;</span>
<a name="l00327"></a>00327             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c26045731106763d600336f4623b92c2a869d5b488c">EVENT_MEANWHILE</a>:
<a name="l00328"></a>00328                   <span class="keywordflow">if</span>( !<a class="code" href="Game_01Event_01Hook_8cpp.html#8f6d7ca5bf0457635806b1c99ac69c27">DelayEventIfBattleInProgress</a>( pEvent ) )
<a name="l00329"></a>00329                   {
<a name="l00330"></a>00330                         <a class="code" href="Meanwhile_8cpp.html#35e3e3f345345692a516401d85beb773">BeginMeanwhile</a>( (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#f83c11033d70ab8c9cd3fcbc77c5f5dc">uiParam</a> );
<a name="l00331"></a>00331                         <a class="code" href="Game_01Clock_8cpp.html#fd1b8232424eb26ffe5477c5fe244b53">InterruptTime</a>();
<a name="l00332"></a>00332                   }
<a name="l00333"></a>00333                   <span class="keywordflow">break</span>;
<a name="l00334"></a>00334             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110bf1b28fbd856a4b1e3e194c32757ea49">EVENT_BEGIN_CREATURE_QUEST</a>:
<a name="l00335"></a>00335                   <span class="keywordflow">break</span>;
<a name="l00336"></a>00336             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110a37239c97abb8729d18ef5576251bba8">EVENT_CREATURE_SPREAD</a>:
<a name="l00337"></a>00337                   <a class="code" href="Creature_01Spreading_8cpp.html#b67932d756971817d98837a41575f26c">SpreadCreatures</a>();
<a name="l00338"></a>00338                   <span class="keywordflow">break</span>;
<a name="l00339"></a>00339             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c260457311074db4787b44512cd63700de5c8d67886">EVENT_DECAY_CREATURES</a>:
<a name="l00340"></a>00340                   <a class="code" href="Creature_01Spreading_8cpp.html#b56ac18f1ca36b410f70eeb5e634d972">DecayCreatures</a>();
<a name="l00341"></a>00341                   <span class="keywordflow">break</span>;
<a name="l00342"></a>00342             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c26045731107ec444cb57af27773c3b1608b637381a">EVENT_CREATURE_NIGHT_PLANNING</a>:
<a name="l00343"></a>00343                   <a class="code" href="Creature_01Spreading_8cpp.html#b3d460f3f31cfd0fa35271cec76a5057">CreatureNightPlanning</a>();
<a name="l00344"></a>00344                   <span class="keywordflow">break</span>;
<a name="l00345"></a>00345             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c260457311045c2adfea062cdbcf6a48276c30dd162">EVENT_CREATURE_ATTACK</a>:
<a name="l00346"></a>00346                   <a class="code" href="Creature_01Spreading_8cpp.html#476ce6a8ad19819c72b82a733ea65204">CreatureAttackTown</a>( (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#f83c11033d70ab8c9cd3fcbc77c5f5dc">uiParam</a>, FALSE );
<a name="l00347"></a>00347                   <span class="keywordflow">break</span>;
<a name="l00348"></a>00348             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c26045731106d744aac1461129e69ce5d43d26e5e38">EVENT_EVALUATE_QUEEN_SITUATION</a>:
<a name="l00349"></a>00349                   <a class="code" href="Strategic_01AI_8cpp.html#4b42938a3b27cbabac4f91e2c3a447e0">EvaluateQueenSituation</a>();
<a name="l00350"></a>00350                   <span class="keywordflow">break</span>;
<a name="l00351"></a>00351             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c260457311084391578ce79172a0826afc1bba2a312">EVENT_CHECK_ENEMY_CONTROLLED_SECTOR</a>:
<a name="l00352"></a>00352                   <a class="code" href="Strategic_01AI_8cpp.html#9fa93d3880aca30b127b57c117394c7d">CheckEnemyControlledSector</a>( (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#f83c11033d70ab8c9cd3fcbc77c5f5dc">uiParam</a> );
<a name="l00353"></a>00353                   <span class="keywordflow">break</span>;
<a name="l00354"></a>00354             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c26045731108b4bb7ab640b69b52855153101480804">EVENT_TURN_ON_NIGHT_LIGHTS</a>:
<a name="l00355"></a>00355                   <a class="code" href="environment_8cpp.html#3d53cdadcb2641a392302fce0602981c">TurnOnNightLights</a>();
<a name="l00356"></a>00356                   <span class="keywordflow">break</span>;
<a name="l00357"></a>00357             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110971d67607a76ab456572d53d850bd94a">EVENT_TURN_OFF_NIGHT_LIGHTS</a>:
<a name="l00358"></a>00358                   <a class="code" href="environment_8cpp.html#6523caa88942f815000b097a0f6c365c">TurnOffNightLights</a>();
<a name="l00359"></a>00359                   <span class="keywordflow">break</span>;
<a name="l00360"></a>00360             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110e2e035a7d83502e97b4774899e64b389">EVENT_TURN_ON_PRIME_LIGHTS</a>:
<a name="l00361"></a>00361                   <a class="code" href="environment_8cpp.html#c8466a359e38154c2c18d7f12c1ced5b">TurnOnPrimeLights</a>();
<a name="l00362"></a>00362                   <span class="keywordflow">break</span>;
<a name="l00363"></a>00363             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c26045731109cc8e88b4528e4fc1144e35d95cb2738">EVENT_TURN_OFF_PRIME_LIGHTS</a>:
<a name="l00364"></a>00364                   <a class="code" href="environment_8cpp.html#f7b5a0e58e67caa482eddcea0d399e1d">TurnOffPrimeLights</a>();
<a name="l00365"></a>00365                   <span class="keywordflow">break</span>;
<a name="l00366"></a>00366             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110bf5fd7a0c84cb5e05b72286a5983fdf6">EVENT_INTERRUPT_TIME</a>:
<a name="l00367"></a>00367                   <a class="code" href="Game_01Clock_8cpp.html#fd1b8232424eb26ffe5477c5fe244b53">InterruptTime</a>( );
<a name="l00368"></a>00368                   <span class="keywordflow">break</span>;
<a name="l00369"></a>00369             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110776cf89d395d8c424f9f509590d59bb2">EVENT_ENRICO_MAIL</a>:
<a name="l00370"></a>00370                   <a class="code" href="Strategic_01Status_8cpp.html#02857deeb4ce0c294e8021139b5acae7">HandleEnricoEmail</a>();
<a name="l00371"></a>00371                   <span class="keywordflow">break</span>;
<a name="l00372"></a>00372             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110122a5d0b5e0edf16598d188918c94182">EVENT_INSURANCE_INVESTIGATION_STARTED</a>:
<a name="l00373"></a>00373                   <a class="code" href="insurance_01Contract_8cpp.html#8969adf30c9ee108c28f96b72943e18f">StartInsuranceInvestigation</a>( (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>) pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#f83c11033d70ab8c9cd3fcbc77c5f5dc">uiParam</a> );
<a name="l00374"></a>00374                   <span class="keywordflow">break</span>;
<a name="l00375"></a>00375             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110fcd627cea47fc46fbd01525a72e45bab">EVENT_INSURANCE_INVESTIGATION_OVER</a>:
<a name="l00376"></a>00376                   <a class="code" href="insurance_01Contract_8cpp.html#69f5d951a5dccf92281156913dcd0237">EndInsuranceInvestigation</a>( (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>) pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#f83c11033d70ab8c9cd3fcbc77c5f5dc">uiParam</a> );
<a name="l00377"></a>00377                   <span class="keywordflow">break</span>;
<a name="l00378"></a>00378             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c260457311035015b4e35dbf470686fbbcf634687c2">EVENT_TEMPERATURE_UPDATE</a>:
<a name="l00379"></a>00379                   <a class="code" href="environment_8cpp.html#1115759a833690fb7446a0b4f9f4fbf3">UpdateTemperature</a>( (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>) pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#f83c11033d70ab8c9cd3fcbc77c5f5dc">uiParam</a> );
<a name="l00380"></a>00380                   <span class="keywordflow">break</span>;
<a name="l00381"></a>00381             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c260457311094d159293c2e5c77e6c5da3c4adfd374">EVENT_KEITH_GOING_OUT_OF_BUSINESS</a>:
<a name="l00382"></a>00382                   <span class="comment">// make sure killbillies are still alive, if so, set fact 274 true</span>
<a name="l00383"></a>00383                   <span class="keywordflow">if</span>( <a class="code" href="Quests_8cpp.html#6744b59d27bf2791d0c2fefe18e548d3">CheckFact</a>( <a class="code" href="Quests_8h.html#aead3e57f613f07868a1b2afb6b943f1e0fdbf0cb27e9406b453ad06a297aeca">FACT_HILLBILLIES_KILLED</a>, <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa16e3d4638889291fbd253574d01f6baa2">KEITH</a> ) == FALSE )
<a name="l00384"></a>00384                   {
<a name="l00385"></a>00385                         <span class="comment">//s et the fact true keith is out of business</span>
<a name="l00386"></a>00386                         <a class="code" href="Quests_8cpp.html#d7278c1ec0f9cc2ac9af20f8a6b446db">SetFactTrue</a>( <a class="code" href="Quests_8h.html#aead3e57f613f07868a1b2afb6b943f1616a44cc13971bfd7f0fd65f1e3b7e4c">FACT_KEITH_OUT_OF_BUSINESS</a> );
<a name="l00387"></a>00387                   }
<a name="l00388"></a>00388                   <span class="keywordflow">break</span>;
<a name="l00389"></a>00389             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c260457311075af22a58000c431bc950b1545aea413">EVENT_MERC_SITE_BACK_ONLINE</a>:
<a name="l00390"></a>00390                   <a class="code" href="mercs_8cpp.html#d880a3c3142c66109215276b941b7a11">GetMercSiteBackOnline</a>();
<a name="l00391"></a>00391                   <span class="keywordflow">break</span>;
<a name="l00392"></a>00392             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c26045731100261908d8fb62a68836ecaaa5a72898d">EVENT_INVESTIGATE_SECTOR</a>:
<a name="l00393"></a>00393                   <a class="code" href="Strategic_01AI_8cpp.html#989f4b1d35b53f0de7bd255368ea3c80">InvestigateSector</a>( (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#f83c11033d70ab8c9cd3fcbc77c5f5dc">uiParam</a> );
<a name="l00394"></a>00394                   <span class="keywordflow">break</span>;
<a name="l00395"></a>00395             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c260457311054120004e3595667d80b48a4dc0789a8">EVENT_CHECK_IF_MINE_CLEARED</a>:
<a name="l00396"></a>00396                   <span class="comment">// If so, the head miner will say so, and the mine's shutdown will be ended.</span>
<a name="l00397"></a>00397                   <a class="code" href="Strategic_01Mines_8cpp.html#7189e3df960833f280eb2bf397ff3eaa">HourlyMinesUpdate</a>();          <span class="comment">// not-so hourly, in this case!</span>
<a name="l00398"></a>00398                   <span class="keywordflow">break</span>;
<a name="l00399"></a>00399             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c26045731106ee97a5d90499703db261d85f8cffa50">EVENT_REMOVE_ASSASSIN</a>:
<a name="l00400"></a>00400                   <a class="code" href="Strategic_01Event_01Handler_8cpp.html#46efa2b9c5fc8a9b9b9d30ac3e0439ab">RemoveAssassin</a>( (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>) pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#f83c11033d70ab8c9cd3fcbc77c5f5dc">uiParam</a> );
<a name="l00401"></a>00401                   <span class="keywordflow">break</span>;
<a name="l00402"></a>00402             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110bbebef4c31ac28be1232493cac26ad0f">EVENT_BEGIN_CONTRACT_RENEWAL_SEQUENCE</a>:
<a name="l00403"></a>00403                   <a class="code" href="Merc_01Contract_8cpp.html#cb92185ce32de130dd0b44ed8e5febe9">BeginContractRenewalSequence</a>( );
<a name="l00404"></a>00404                   <span class="keywordflow">break</span>;
<a name="l00405"></a>00405             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c26045731102b38688422505c10e44909c53a199250">EVENT_RPC_WHINE_ABOUT_PAY</a>:
<a name="l00406"></a>00406                   <a class="code" href="Strategic_01Merc_01Handler_8cpp.html#0f58c94bf19d496b3f106edf320b1f02">RPCWhineAboutNoPay</a>( (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>) pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#f83c11033d70ab8c9cd3fcbc77c5f5dc">uiParam</a> );
<a name="l00407"></a>00407                   <span class="keywordflow">break</span>;
<a name="l00408"></a>00408 
<a name="l00409"></a>00409             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110307a3528f9957bc3c43ebe2792cdcbf7">EVENT_HAVENT_MADE_IMP_CHARACTER_EMAIL</a>:
<a name="l00410"></a>00410                   <a class="code" href="laptop_8cpp.html#05c1cd17d4405baf2c5366450216f6f7">HaventMadeImpMercEmailCallBack</a>();
<a name="l00411"></a>00411                   <span class="keywordflow">break</span>;
<a name="l00412"></a>00412 
<a name="l00413"></a>00413             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110d140fbf2bcd26582d3bc5d337094cb02">EVENT_QUARTER_HOUR_UPDATE</a>:
<a name="l00414"></a>00414                   <a class="code" href="Game_01Event_01Hook_8cpp.html#251bfbaceeaa206d625e36eb37db6040">HandleQuarterHourUpdate</a>();
<a name="l00415"></a>00415                   <span class="keywordflow">break</span>;
<a name="l00416"></a>00416 
<a name="l00417"></a>00417             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110936fddbd5fe85d343ece74f49dafc694">EVENT_MERC_MERC_WENT_UP_LEVEL_EMAIL_DELAY</a>:
<a name="l00418"></a>00418                   <a class="code" href="Campaign_8cpp.html#b97eb0505905db8fe71132748e349c20">MERCMercWentUpALevelSendEmail</a>( (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>) pEvent-&gt;<a class="code" href="structSTRATEGICEVENT.html#f83c11033d70ab8c9cd3fcbc77c5f5dc">uiParam</a> );
<a name="l00419"></a>00419                   <span class="keywordflow">break</span>;
<a name="l00420"></a>00420 
<a name="l00421"></a>00421             <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110a0a9935a24eb6a33a10a2b10dc07d524">EVENT_MERC_SITE_NEW_MERC_AVAILABLE</a>:
<a name="l00422"></a>00422                   <a class="code" href="mercs_8cpp.html#7609c62c30508c05b234f00463a69dc5">NewMercsAvailableAtMercSiteCallBack</a>( );
<a name="l00423"></a>00423                   <span class="keywordflow">break</span>;
<a name="l00424"></a>00424 
<a name="l00425"></a>00425 <span class="preprocessor">#ifdef CRIPPLED_VERSION</span>
<a name="l00426"></a>00426 <span class="preprocessor"></span>            <span class="keywordflow">case</span> <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c2604573110825bc9ca8dd81639e0174cfd5e641bba">EVENT_CRIPPLED_VERSION_END_GAME_CHECK</a>:
<a name="l00427"></a>00427                   <a class="code" href="Game_01Event_01Hook_8cpp.html#332d83cea243f84fb51b596a6ebab8c4">CrippledVersionEndGameCheck</a>();
<a name="l00428"></a>00428                   <span class="keywordflow">break</span>;
<a name="l00429"></a>00429 <span class="preprocessor">#endif</span>
<a name="l00430"></a>00430 <span class="preprocessor"></span>      }
<a name="l00431"></a>00431       <a class="code" href="Game_01Event_01Hook_8cpp.html#1dfd110f4c00954e634834129f81b5c9">gfPreventDeletionOfAnyEvent</a> = fOrigPreventFlag;
<a name="l00432"></a>00432       <span class="keywordflow">return</span> TRUE;
<a name="l00433"></a>00433 }
<a name="l00434"></a>00434 
<a name="l00435"></a>00435 
<a name="l00436"></a>00436 <span class="preprocessor">#ifdef CRIPPLED_VERSION</span>
<a name="l00437"></a><a class="code" href="Game_01Event_01Hook_8cpp.html#332d83cea243f84fb51b596a6ebab8c4">00437</a> <span class="preprocessor"></span><span class="keywordtype">void</span> <a class="code" href="Game_01Event_01Hook_8cpp.html#332d83cea243f84fb51b596a6ebab8c4">CrippledVersionEndGameCheck</a>()
<a name="l00438"></a>00438 {
<a name="l00439"></a>00439       <a class="code" href="Types_8h.html#fcdf88c1d4179fcd6d8a1fa9bbcb8a80">CHAR16</a>      zString[512];
<a name="l00440"></a>00440 
<a name="l00441"></a>00441       <span class="comment">//Dont want this to appear before we arrive</span>
<a name="l00442"></a>00442       <span class="keywordflow">if</span>( <a class="code" href="Game_01Clock_8cpp.html#cd80a0453c12b4eacba3cfd3c3a1ff5a">guiDay</a> == 1 )
<a name="l00443"></a>00443             <span class="keywordflow">return</span>;
<a name="l00444"></a>00444 
<a name="l00445"></a>00445       <span class="keywordflow">if</span>( <a class="code" href="Game_01Clock_8cpp.html#cd80a0453c12b4eacba3cfd3c3a1ff5a">guiDay</a> &gt;= 8 )
<a name="l00446"></a>00446       {
<a name="l00447"></a>00447             swprintf( zString, L<span class="stringliteral">"Game Over.  We hope you have enjoyed playing the limited version of Jagged Alliance 2."</span> );
<a name="l00448"></a>00448       }
<a name="l00449"></a>00449       <span class="keywordflow">else</span>
<a name="l00450"></a>00450       {
<a name="l00451"></a>00451             swprintf( zString, L<span class="stringliteral">"You have %d game days left in this limited version of Jagged Alliance 2."</span>,  ( 8 - <a class="code" href="Game_01Clock_8cpp.html#cd80a0453c12b4eacba3cfd3c3a1ff5a">guiDay</a> ) );
<a name="l00452"></a>00452       }
<a name="l00453"></a>00453 
<a name="l00454"></a>00454       <a class="code" href="MessageBoxScreen_8cpp.html#f480404e936544ddb29a371b785dc2f3">DoScreenIndependantMessageBox</a>( zString, MSG_BOX_FLAG_OK, <a class="code" href="Game_01Event_01Hook_8cpp.html#2c0a1fd6557a01e82b4dbf981de4652d">CrippledVersionEndGameCheckCallBack</a> ); 
<a name="l00455"></a>00455 }
<a name="l00456"></a>00456 
<a name="l00457"></a><a class="code" href="Game_01Event_01Hook_8cpp.html#2c0a1fd6557a01e82b4dbf981de4652d">00457</a> <span class="keywordtype">void</span> <a class="code" href="Game_01Event_01Hook_8cpp.html#2c0a1fd6557a01e82b4dbf981de4652d">CrippledVersionEndGameCheckCallBack</a>( <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> bExitValue )
<a name="l00458"></a>00458 {
<a name="l00459"></a>00459       <span class="comment">//if we should restart the game</span>
<a name="l00460"></a>00460       <span class="keywordflow">if</span>( <a class="code" href="Game_01Clock_8cpp.html#cd80a0453c12b4eacba3cfd3c3a1ff5a">guiDay</a> &gt;= 8 )
<a name="l00461"></a>00461       {
<a name="l00462"></a>00462             <span class="comment">//clean up the code</span>
<a name="l00463"></a>00463             <a class="code" href="Game_01Init_8cpp.html#ea4d817be27ebdcb3f1485db0b53c9aa">ReStartingGame</a>();
<a name="l00464"></a>00464 
<a name="l00465"></a>00465             <span class="comment">//go to the main menu</span>
<a name="l00466"></a>00466             <span class="keywordflow">if</span>( <a class="code" href="gameloop_8cpp.html#8cd832c7f0ec6ab02ba9fddd4a2257aa">guiCurrentScreen</a> == <a class="code" href="screenids_8h.html#a4ee5dea8709d2b490486a62df77faf26f9c31d9e3c6ef2f0d8e4917d387b871">MAP_SCREEN</a> )
<a name="l00467"></a>00467             {
<a name="l00468"></a>00468                   <a class="code" href="gameloop_8cpp.html#69c7cdd352939ea6ecfef5707ff969f1">SetPendingNewScreen</a>(<a class="code" href="screenids_8h.html#a4ee5dea8709d2b490486a62df77faf27cf53b3d24896035ba5019c814ec9f4e">MAINMENU_SCREEN</a>);
<a name="l00469"></a>00469             }
<a name="l00470"></a>00470             <span class="keywordflow">else</span>
<a name="l00471"></a>00471             {
<a name="l00472"></a>00472                   <a class="code" href="gamescreen_8cpp.html#91036b4d0b9a861fdc906f07f19d35da">InternalLeaveTacticalScreen</a>( <a class="code" href="screenids_8h.html#a4ee5dea8709d2b490486a62df77faf27cf53b3d24896035ba5019c814ec9f4e">MAINMENU_SCREEN</a> );
<a name="l00473"></a>00473             }
<a name="l00474"></a>00474       }
<a name="l00475"></a>00475 }
<a name="l00476"></a>00476 
<a name="l00477"></a>00477 <span class="preprocessor">#endif</span>
<a name="l00478"></a>00478 <span class="preprocessor"></span>
<a name="l00479"></a>00479 
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sat Sep 9 13:48:11 2006 for Build by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
