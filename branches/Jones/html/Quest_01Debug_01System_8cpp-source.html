<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Build: Quest Debug System.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="classes.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="dir_3179ea33d55a76dc38212d9eab798728.html">export</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_e5664b4b56927c8728eb3192fa60e338.html">hdc2</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_1eb12a41a47efb9efcd82fa98f4f4dbd.html">FTP</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_80cc1f21a78ab7941088ea567f236150.html">ja2src</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_994ab287602efefceafe55287a3657d6.html">Build</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_5aba590d477d4824a9090ab3f8850834.html">Strategic</a></div>
<h1>Quest Debug System.cpp</h1><a href="Quest_01Debug_01System_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifdef PRECOMPILEDHEADERS</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">      #include "<a class="code" href="Strategic_01All_8h.html">Strategic All.h</a>"</span>
<a name="l00003"></a>00003 <span class="preprocessor">#else</span>
<a name="l00004"></a>00004 <span class="preprocessor"></span><span class="preprocessor">      #include    "<a class="code" href="Types_8h.html">Types.h</a>"</span>
<a name="l00005"></a>00005 <span class="preprocessor">      #include    "<a class="code" href="Quest_01Debug_01System_8h.html">Quest Debug System.h</a>"</span>
<a name="l00006"></a>00006 <span class="preprocessor">      #include    "<a class="code" href="WCheck_8h.html">WCheck.h</a>"</span>
<a name="l00007"></a>00007 <span class="preprocessor">      #include    "<a class="code" href="Font_01Control_8h.html">Font Control.h</a>"</span>
<a name="l00008"></a>00008 <span class="preprocessor">      #include    "Video.h"</span>
<a name="l00009"></a>00009 <span class="preprocessor">      #include    "<a class="code" href="Game_01Clock_8h.html">Game Clock.h</a>"</span>
<a name="l00010"></a>00010 <span class="preprocessor">      #include    "<a class="code" href="Render_01Dirty_8h.html">Render Dirty.h</a>"</span>
<a name="l00011"></a>00011 <span class="preprocessor">      #include    "<a class="code" href="WordWrap_8h.html">WordWrap.h</a>"</span>
<a name="l00012"></a>00012 <span class="preprocessor">      #include    "<a class="code" href="Interface_8h.html">Interface.h</a>"</span>
<a name="l00013"></a>00013 <span class="preprocessor">      #include    "<a class="code" href="Cursors_8h.html">Cursors.h</a>"</span>
<a name="l00014"></a>00014 <span class="preprocessor">      #include    "<a class="code" href="Quests_8h.html">Quests.h</a>"</span>
<a name="l00015"></a>00015 <span class="preprocessor">      #include    "stdio.h"</span>
<a name="l00016"></a>00016 <span class="preprocessor">      #include    "<a class="code" href="QuestText_8h.html">QuestText.h</a>"</span>
<a name="l00017"></a>00017 <span class="preprocessor">      #include    "<a class="code" href="Soldier_01Profile_8h.html">Soldier Profile.h</a>"</span>
<a name="l00018"></a>00018 <span class="preprocessor">      #include    "<a class="code" href="Utilities_8h.html">Utilities.h</a>"</span>
<a name="l00019"></a>00019 <span class="preprocessor">      #include    "<a class="code" href="Text_8h.html">Text.h</a>"</span>
<a name="l00020"></a>00020 <span class="preprocessor">      #include    "<a class="code" href="Text_01Input_8h.html">Text Input.h</a>"</span>
<a name="l00021"></a>00021 <span class="preprocessor">      #include    "<a class="code" href="Soldier_01Create_8h.html">Soldier Create.h</a>"</span>
<a name="l00022"></a>00022 <span class="preprocessor">      #include    "<a class="code" href="strategicmap_8h.html">strategicmap.h</a>"</span>
<a name="l00023"></a>00023 <span class="preprocessor">      #include    "soldier add.h"</span>
<a name="l00024"></a>00024 <span class="preprocessor">      #include    "Opplist.h"</span>
<a name="l00025"></a>00025 <span class="preprocessor">      #include  "<a class="code" href="Handle_01Items_8h.html">Handle Items.h</a>"</span>
<a name="l00026"></a>00026 <span class="preprocessor">      #include  "<a class="code" href="Game_01Clock_8h.html">Game Clock.h</a>"</span>
<a name="l00027"></a>00027 <span class="preprocessor">      #include  "<a class="code" href="environment_8h.html">environment.h</a>"</span>
<a name="l00028"></a>00028 <span class="preprocessor">      #include    "dialogue control.h"</span>
<a name="l00029"></a>00029 <span class="preprocessor">      #include    "<a class="code" href="Soldier_01Control_8h.html">Soldier Control.h</a>"</span>
<a name="l00030"></a>00030 <span class="preprocessor">      #include    "overhead.h"</span>
<a name="l00031"></a>00031 <span class="preprocessor">      #include    "<a class="code" href="AimMembers_8h.html">AimMembers.h</a>"</span>
<a name="l00032"></a>00032 <span class="preprocessor">      #include  "<a class="code" href="MessageBoxScreen_8h.html">MessageBoxScreen.h</a>"</span>
<a name="l00033"></a>00033 <span class="preprocessor">      #include    "Stdio.h"</span>
<a name="l00034"></a>00034 <span class="preprocessor">      #include    "<a class="code" href="english_8h.html">english.h</a>"</span>
<a name="l00035"></a>00035 <span class="preprocessor">      #include    "<a class="code" href="line_8h.html">line.h</a>"</span>
<a name="l00036"></a>00036 <span class="preprocessor">      #include  "<a class="code" href="Keys_8h.html">Keys.h</a>"</span>
<a name="l00037"></a>00037 <span class="preprocessor">      #include    "Interface Dialogue.h"</span>
<a name="l00038"></a>00038 <span class="preprocessor">      #include  "SysUtil.h"</span>
<a name="l00039"></a>00039 <span class="preprocessor">      #include  "Message.h"</span>
<a name="l00040"></a>00040 <span class="preprocessor">#endif</span>
<a name="l00041"></a>00041 <span class="preprocessor"></span>
<a name="l00042"></a>00042 <span class="comment">//#ifdef JA2BETAVERSION</span>
<a name="l00043"></a>00043 
<a name="l00044"></a>00044 
<a name="l00045"></a>00045 <span class="comment">//*******************************</span>
<a name="l00046"></a>00046 <span class="comment">//</span>
<a name="l00047"></a>00047 <span class="comment">//    Defines</span>
<a name="l00048"></a>00048 <span class="comment">//</span>
<a name="l00049"></a>00049 <span class="comment">//*******************************</span>
<a name="l00050"></a>00050 
<a name="l00051"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#c3d4e0e54e3b2eed72d041e484856cb2">00051</a> <span class="keyword">typedef</span> <a class="code" href="expat_8h.html#3980d15795c6349fecd06c1b035c1ae9">void</a> ( *<a class="code" href="Quest_01Debug_01System_8cpp.html#c3d4e0e54e3b2eed72d041e484856cb2">DROP_DOWN_DISPLAY_CALLBACK</a> )    (<a class="code" href="Types_8h.html#94ebfccc6e846c28751f8d616371f1e5">STR16</a>);
<a name="l00052"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#cf244f8329953b36ede959bc84f24a11">00052</a> <span class="keyword">typedef</span> <a class="code" href="expat_8h.html#3980d15795c6349fecd06c1b035c1ae9">void</a> ( *<a class="code" href="Quest_01Debug_01System_8cpp.html#cf244f8329953b36ede959bc84f24a11">DROP_DOWN_SELECT_CALLBACK</a> )     (<a class="code" href="Types_8h.html#94ebfccc6e846c28751f8d616371f1e5">STR16</a>);
<a name="l00053"></a>00053 
<a name="l00054"></a>00054 <span class="preprocessor">#define     QUEST_DEBUG_FILE                                                              "QuestDebugRecordLog.txt"</span>
<a name="l00055"></a>00055 <span class="preprocessor"></span>
<a name="l00056"></a>00056 
<a name="l00057"></a>00057 <span class="preprocessor">#define           QUEST_DBS_FONT_TITLE                                              FONT14ARIAL</span>
<a name="l00058"></a>00058 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_COLOR_TITLE                                             FONT_MCOLOR_LTGREEN</span>
<a name="l00059"></a>00059 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_COLOR_SUBTITLE                                    FONT_MCOLOR_DKGRAY</span>
<a name="l00060"></a>00060 <span class="preprocessor"></span>
<a name="l00061"></a>00061 <span class="preprocessor">#define           QUEST_DBS_FONT_STATIC_TEXT                            FONT12ARIAL</span>
<a name="l00062"></a>00062 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_COLOR_STATIC_TEXT                           FONT_MCOLOR_WHITE</span>
<a name="l00063"></a>00063 <span class="preprocessor"></span>
<a name="l00064"></a>00064 <span class="preprocessor">#define           QUEST_DBS_FONT_DYNAMIC_TEXT                           FONT12ARIAL</span>
<a name="l00065"></a>00065 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_COLOR_DYNAMIC_TEXT                    FONT_MCOLOR_WHITE</span>
<a name="l00066"></a>00066 <span class="preprocessor"></span>
<a name="l00067"></a>00067 <span class="preprocessor">#define           QUEST_DBS_FONT_LISTBOX_TEXT                           FONT12ARIAL</span>
<a name="l00068"></a>00068 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_COLOR_LISTBOX_TEXT                    FONT_MCOLOR_WHITE</span>
<a name="l00069"></a>00069 <span class="preprocessor"></span>
<a name="l00070"></a>00070 <span class="preprocessor">#define           QUEST_DBS_FONT_TEXT_ENTRY                                   FONT12ARIAL</span>
<a name="l00071"></a>00071 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_COLOR_TEXT_ENTRY                            FONT_MCOLOR_WHITE</span>
<a name="l00072"></a>00072 <span class="preprocessor"></span>
<a name="l00073"></a>00073 <span class="preprocessor">#define           QUEST_DBS_FIRST_SECTION_WIDTH                   210</span>
<a name="l00074"></a>00074 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_SECOND_SECTION_WIDTH                  230</span>
<a name="l00075"></a>00075 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_THIRD_SECTION_WIDTH                   200</span>
<a name="l00076"></a>00076 <span class="preprocessor"></span>
<a name="l00077"></a>00077 
<a name="l00078"></a>00078 <span class="preprocessor">#define           QUEST_DBS_NUMBER_COL_WIDTH                            40</span>
<a name="l00079"></a>00079 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_TITLE_COL_WIDTH                                   120</span>
<a name="l00080"></a>00080 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_STATUS_COL_WIDTH                            50</span>
<a name="l00081"></a>00081 <span class="preprocessor"></span>
<a name="l00082"></a>00082 
<a name="l00083"></a>00083 <span class="preprocessor">#define           QUEST_DBS_FIRST_COL_NUMBER_X                    5</span>
<a name="l00084"></a>00084 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_FIRST_COL_NUMBER_Y                    50</span>
<a name="l00085"></a>00085 <span class="preprocessor"></span>
<a name="l00086"></a>00086 <span class="preprocessor">#define           QUEST_DBS_FIRST_COL_TITLE_X                           QUEST_DBS_FIRST_COL_NUMBER_X + QUEST_DBS_NUMBER_COL_WIDTH</span>
<a name="l00087"></a>00087 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_FIRST_COL_TITLE_Y                           QUEST_DBS_FIRST_COL_NUMBER_Y</span>
<a name="l00088"></a>00088 <span class="preprocessor"></span>
<a name="l00089"></a>00089 <span class="preprocessor">#define           QUEST_DBS_FIRST_COL_STATUS_X                    QUEST_DBS_FIRST_COL_TITLE_X + QUEST_DBS_TITLE_COL_WIDTH</span>
<a name="l00090"></a>00090 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_FIRST_COL_STATUS_Y                    QUEST_DBS_FIRST_COL_NUMBER_Y</span>
<a name="l00091"></a>00091 <span class="preprocessor"></span>
<a name="l00092"></a>00092 
<a name="l00093"></a>00093 <span class="preprocessor">#define           QUEST_DBS_SECOND_NUMBER_COL_WIDTH         40</span>
<a name="l00094"></a>00094 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_SECOND_TITLE_COL_WIDTH          140</span>
<a name="l00095"></a>00095 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_SECOND_STATUS_COL_WIDTH         50</span>
<a name="l00096"></a>00096 <span class="preprocessor"></span>
<a name="l00097"></a>00097 
<a name="l00098"></a>00098 <span class="preprocessor">#define           QUEST_DBS_SECOND_COL_NUMBER_X                   QUEST_DBS_FIRST_SECTION_WIDTH + 5</span>
<a name="l00099"></a>00099 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_SECOND_COL_NUMBER_Y                   QUEST_DBS_FIRST_COL_NUMBER_Y</span>
<a name="l00100"></a>00100 <span class="preprocessor"></span>
<a name="l00101"></a>00101 <span class="preprocessor">#define           QUEST_DBS_SECOND_COL_TITLE_X                    QUEST_DBS_SECOND_COL_NUMBER_X + QUEST_DBS_NUMBER_COL_WIDTH</span>
<a name="l00102"></a>00102 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_SECOND_COL_TITLE_Y                    QUEST_DBS_SECOND_COL_NUMBER_Y</span>
<a name="l00103"></a>00103 <span class="preprocessor"></span>
<a name="l00104"></a>00104 <span class="preprocessor">#define           QUEST_DBS_SECOND_COL_STATUS_X                   QUEST_DBS_SECOND_COL_TITLE_X + QUEST_DBS_SECOND_TITLE_COL_WIDTH</span>
<a name="l00105"></a>00105 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_SECOND_COL_STATUS_Y                   QUEST_DBS_SECOND_COL_NUMBER_Y</span>
<a name="l00106"></a>00106 <span class="preprocessor"></span>
<a name="l00107"></a>00107 
<a name="l00108"></a>00108 <span class="preprocessor">#define           QUEST_DBS_SECTION_TITLE_Y                                   30</span>
<a name="l00109"></a>00109 <span class="preprocessor"></span>
<a name="l00110"></a>00110 <span class="preprocessor">#define           QUEST_DBS_MAX_DISPLAYED_ENTRIES                 20//25</span>
<a name="l00111"></a>00111 <span class="preprocessor"></span>
<a name="l00112"></a>00112 <span class="preprocessor">#define           QUEST_DBS_THIRD_COL_TITLE_X                           QUEST_DBS_FIRST_SECTION_WIDTH + QUEST_DBS_SECOND_SECTION_WIDTH</span>
<a name="l00113"></a>00113 <span class="preprocessor"></span>
<a name="l00114"></a>00114 
<a name="l00115"></a>00115 <span class="preprocessor">#define           QUEST_DBS_NPC_CHCKBOX_TGL_X                           QUEST_DBS_FIRST_SECTION_WIDTH + QUEST_DBS_SECOND_SECTION_WIDTH + 5</span>
<a name="l00116"></a>00116 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_NPC_CHCKBOX_TGL_Y                           QUEST_DBS_FIRST_COL_NUMBER_Y + QUEST_DBS_LIST_TEXT_OFFSET</span>
<a name="l00117"></a>00117 <span class="preprocessor"></span>
<a name="l00118"></a>00118 <span class="preprocessor">#define           QUEST_DBS_SELECTED_NPC_BUTN_X                   QUEST_DBS_NPC_CHCKBOX_TGL_X</span>
<a name="l00119"></a>00119 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_SELECTED_NPC_BUTN_Y                   QUEST_DBS_NPC_CHCKBOX_TGL_Y + 22</span>
<a name="l00120"></a>00120 <span class="preprocessor"></span>
<a name="l00121"></a>00121 <span class="preprocessor">#define           QUEST_DBS_SELECTED_ITEM_BUTN_X                  QUEST_DBS_SELECTED_NPC_BUTN_X//QUEST_DBS_FIRST_SECTION_WIDTH + QUEST_DBS_SECOND_SECTION_WIDTH + 105</span>
<a name="l00122"></a>00122 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_SELECTED_ITEM_BUTN_Y                  QUEST_DBS_SELECTED_NPC_BUTN_Y + QUEST_DBS_LIST_TEXT_OFFSET</span>
<a name="l00123"></a>00123 <span class="preprocessor"></span>
<a name="l00124"></a>00124 <span class="preprocessor">#define           QUEST_DBS_LIST_TEXT_OFFSET                            26</span>
<a name="l00125"></a>00125 <span class="preprocessor"></span>
<a name="l00126"></a>00126 <span class="preprocessor">#define           QUEST_DBS_LIST_BOX_WIDTH                                    183//80</span>
<a name="l00127"></a>00127 <span class="preprocessor"></span>
<a name="l00128"></a>00128 <span class="preprocessor">#define           QUEST_DBS_SCROLL_BAR_WIDTH                            11</span>
<a name="l00129"></a>00129 <span class="preprocessor"></span>
<a name="l00130"></a>00130 <span class="preprocessor">#define           QUEST_DBS_SCROLL_ARROW_HEIGHT                   17</span>
<a name="l00131"></a>00131 <span class="preprocessor"></span>
<a name="l00132"></a>00132 <span class="preprocessor">#define           QUEST_DBS_NUM_INCREMENTS_IN_SCROLL_BAR    30</span>
<a name="l00133"></a>00133 <span class="preprocessor"></span>
<a name="l00134"></a>00134 
<a name="l00135"></a>00135 <span class="preprocessor">#define           QUEST_DBS_ADD_NPC_BTN_X                                     QUEST_DBS_SELECTED_NPC_BUTN_X</span>
<a name="l00136"></a>00136 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_ADD_NPC_BTN_Y                                     QUEST_DBS_SELECTED_ITEM_BUTN_Y  + QUEST_DBS_LIST_TEXT_OFFSET</span>
<a name="l00137"></a>00137 <span class="preprocessor"></span>
<a name="l00138"></a>00138 <span class="preprocessor">#define           QUEST_DBS_ADD_ITEM_BTN_X                                    QUEST_DBS_ADD_NPC_BTN_X</span>
<a name="l00139"></a>00139 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_ADD_ITEM_BTN_Y                                    QUEST_DBS_ADD_NPC_BTN_Y + QUEST_DBS_LIST_TEXT_OFFSET</span>
<a name="l00140"></a>00140 <span class="preprocessor"></span>
<a name="l00141"></a>00141 <span class="preprocessor">#define           QUEST_DBS_GIVE_ITEM_TO_NPC_BTN_X          QUEST_DBS_ADD_NPC_BTN_X</span>
<a name="l00142"></a>00142 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_GIVE_ITEM_TO_NPC_BTN_Y          QUEST_DBS_ADD_ITEM_BTN_Y + QUEST_DBS_LIST_TEXT_OFFSET</span>
<a name="l00143"></a>00143 <span class="preprocessor"></span>
<a name="l00144"></a>00144 <span class="preprocessor">#define           QUEST_DBS_CHANGE_DAY_BTN_X                            QUEST_DBS_ADD_NPC_BTN_X</span>
<a name="l00145"></a>00145 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_CHANGE_DAY_BTN_Y                            QUEST_DBS_GIVE_ITEM_TO_NPC_BTN_Y + QUEST_DBS_LIST_TEXT_OFFSET</span>
<a name="l00146"></a>00146 <span class="preprocessor"></span>
<a name="l00147"></a>00147 <span class="preprocessor">#define           QUEST_DBS_VIEW_NPC_INV_BTN_X                    QUEST_DBS_ADD_NPC_BTN_X</span>
<a name="l00148"></a>00148 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_VIEW_NPC_INV_BTN_Y                    QUEST_DBS_CHANGE_DAY_BTN_Y + QUEST_DBS_LIST_TEXT_OFFSET</span>
<a name="l00149"></a>00149 <span class="preprocessor"></span>
<a name="l00150"></a>00150 <span class="preprocessor">#define           QUEST_DBS_RESTORE_NPC_INV_BTN_X                 QUEST_DBS_ADD_NPC_BTN_X</span>
<a name="l00151"></a>00151 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_RESTORE_NPC_INV_BTN_Y                 QUEST_DBS_VIEW_NPC_INV_BTN_Y + QUEST_DBS_LIST_TEXT_OFFSET</span>
<a name="l00152"></a>00152 <span class="preprocessor"></span>
<a name="l00153"></a>00153 <span class="preprocessor">#define           QUEST_DBS_NPC_LOG_BTN_X                                     QUEST_DBS_ADD_NPC_BTN_X</span>
<a name="l00154"></a>00154 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_NPC_LOG_BTN_Y                                     QUEST_DBS_RESTORE_NPC_INV_BTN_Y + QUEST_DBS_LIST_TEXT_OFFSET</span>
<a name="l00155"></a>00155 <span class="preprocessor"></span>
<a name="l00156"></a>00156 <span class="preprocessor">#define           QUEST_DBS_NPC_REFRESH_BTN_X                           QUEST_DBS_ADD_NPC_BTN_X</span>
<a name="l00157"></a>00157 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_NPC_REFRESH_BTN_Y                           QUEST_DBS_NPC_LOG_BTN_Y + QUEST_DBS_LIST_TEXT_OFFSET</span>
<a name="l00158"></a>00158 <span class="preprocessor"></span>
<a name="l00159"></a>00159 <span class="preprocessor">#define           QUEST_DBS_START_MERC_TALKING_BTN_X  QUEST_DBS_ADD_NPC_BTN_X</span>
<a name="l00160"></a>00160 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_START_MERC_TALKING_BTN_Y  QUEST_DBS_NPC_REFRESH_BTN_Y + QUEST_DBS_LIST_TEXT_OFFSET</span>
<a name="l00161"></a>00161 <span class="preprocessor"></span>
<a name="l00162"></a>00162 <span class="preprocessor">#define           QUEST_DBS_ADD_NPC_TO_TEAM_BTN_X                 QUEST_DBS_ADD_NPC_BTN_X</span>
<a name="l00163"></a>00163 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_ADD_NPC_TO_TEAM_BTN_Y                 QUEST_DBS_START_MERC_TALKING_BTN_Y + QUEST_DBS_LIST_TEXT_OFFSET</span>
<a name="l00164"></a>00164 <span class="preprocessor"></span>
<a name="l00165"></a>00165 <span class="preprocessor">#define           QUEST_DBS_RPC_TO_SAY_SECTOR_DESC_BTN_X          QUEST_DBS_ADD_NPC_BTN_X</span>
<a name="l00166"></a>00166 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_RPC_TO_SAY_SECTOR_DESC_BTN_Y          QUEST_DBS_ADD_NPC_TO_TEAM_BTN_Y + QUEST_DBS_LIST_TEXT_OFFSET</span>
<a name="l00167"></a>00167 <span class="preprocessor"></span>
<a name="l00168"></a>00168 
<a name="l00169"></a>00169 
<a name="l00170"></a>00170 <span class="preprocessor">#define           QUEST_DBS_NPC_CURRENT_GRIDNO_X                  QUEST_DBS_ADD_NPC_BTN_X</span>
<a name="l00171"></a>00171 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_NPC_CURRENT_GRIDNO_Y                  QUEST_DBS_RPC_TO_SAY_SECTOR_DESC_BTN_Y    + QUEST_DBS_LIST_TEXT_OFFSET</span>
<a name="l00172"></a>00172 <span class="preprocessor"></span>
<a name="l00173"></a>00173 
<a name="l00174"></a>00174 <span class="comment">//Text Entry Box</span>
<a name="l00175"></a>00175 <span class="preprocessor">#define           QUEST_DBS_TEB_X                                                               200</span>
<a name="l00176"></a>00176 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_TEB_Y                                                               160</span>
<a name="l00177"></a>00177 <span class="preprocessor"></span>
<a name="l00178"></a>00178 <span class="preprocessor">#define           QUEST_DBS_TEB_WIDTH                                                     245</span>
<a name="l00179"></a>00179 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_TEB_HEIGHT                                              140</span>
<a name="l00180"></a>00180 <span class="preprocessor"></span>
<a name="l00181"></a>00181 <span class="preprocessor">#define           QUEST_DBS_NUM_DISPLAYED_QUESTS                  MAX_QUESTS</span>
<a name="l00182"></a>00182 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_NUM_DISPLAYED_FACTS                   25                </span>
<a name="l00183"></a>00183 <span class="preprocessor"></span>
<a name="l00184"></a>00184 <span class="preprocessor">#define           QUEST_DBS_TEXT_FIELD_WIDTH                            7</span>
<a name="l00185"></a>00185 <span class="preprocessor"></span>
<a name="l00186"></a>00186 <span class="comment">//NPC Inventory Popup box</span>
<a name="l00187"></a>00187 <span class="preprocessor">#define           QUEST_DBS_NPC_INV_POPUP_X                                   150</span>
<a name="l00188"></a>00188 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_NPC_INV_POPUP_Y                                   110</span>
<a name="l00189"></a>00189 <span class="preprocessor"></span>
<a name="l00190"></a>00190 <span class="preprocessor">#define           QUEST_DBS_NPC_INV_POPUP_WIDTH                   275</span>
<a name="l00191"></a>00191 <span class="preprocessor"></span><span class="preprocessor">#define           QUEST_DBS_NPC_INV_POPUP_HEIGHT                  325</span>
<a name="l00192"></a>00192 <span class="preprocessor"></span>
<a name="l00193"></a>00193 <span class="preprocessor">#define           QUEST_DBS_SIZE_NPC_ARRAY                                    TOTAL_SOLDIERS</span>
<a name="l00194"></a>00194 <span class="preprocessor"></span>
<a name="l00195"></a>00195 <span class="preprocessor">#define           QUEST_DBS_FACT_LIST_OFFSET                            28</span>
<a name="l00196"></a>00196 <span class="preprocessor"></span>
<a name="l00197"></a>00197 
<a name="l00198"></a>00198 
<a name="l00199"></a>00199 <span class="comment">//#define                     CLOCK_X                                                                             554</span>
<a name="l00200"></a>00200 <span class="comment">//#define                     CLOCK_Y                                                                             459</span>
<a name="l00201"></a>00201       
<a name="l00202"></a>00202 <span class="preprocessor">#define           QDS_BUTTON_HEIGHT                                                       21</span>
<a name="l00203"></a>00203 <span class="preprocessor"></span>
<a name="l00204"></a>00204 
<a name="l00205"></a>00205 <span class="preprocessor">#define           QDS_CURRENT_QUOTE_NUM_BOX_X                           150</span>
<a name="l00206"></a>00206 <span class="preprocessor"></span><span class="preprocessor">#define           QDS_CURRENT_QUOTE_NUM_BOX_Y                           300</span>
<a name="l00207"></a>00207 <span class="preprocessor"></span><span class="preprocessor">#define           QDS_CURRENT_QUOTE_NUM_BOX_WIDTH                 285         </span>
<a name="l00208"></a>00208 <span class="preprocessor"></span><span class="preprocessor">#define           QDS_CURRENT_QUOTE_NUM_BOX_HEIGHT          80                </span>
<a name="l00209"></a>00209 <span class="preprocessor"></span>
<a name="l00210"></a>00210 
<a name="l00211"></a>00211 <span class="comment">//</span>
<a name="l00212"></a>00212 <span class="comment">// drop down list box</span>
<a name="l00213"></a>00213 <span class="comment">//</span>
<a name="l00214"></a>00214 <span class="keyword">enum</span>
<a name="l00215"></a>00215 {
<a name="l00216"></a>00216       <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd0d0b45129a797d27de0a228453905361">QD_DROP_DOWN_NO_ACTION</a> = 0,
<a name="l00217"></a>00217       <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd82d1cfe78d6f8f5a01a85b6eb2bd9d03">QD_DROP_DOWN_CREATE</a>,
<a name="l00218"></a>00218       <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbdebfaf2b25c7edf4f76d41cf99805783b">QD_DROP_DOWN_DESTROY</a>,
<a name="l00219"></a>00219       <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd8591bda8e913b81be08b95dc51522445">QD_DROP_DOWN_DISPLAY</a>,
<a name="l00220"></a>00220       <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd910dc9b5dce27b0ddbac87411818b2ac">QD_DROP_DOWN_CANCEL</a>,
<a name="l00221"></a>00221 };
<a name="l00222"></a>00222 
<a name="l00223"></a>00223 
<a name="l00224"></a>00224 
<a name="l00225"></a>00225 
<a name="l00226"></a>00226 
<a name="l00227"></a>00227 
<a name="l00228"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#5f86ae592e7eb11c896d2c42b67bfe14">00228</a> <a class="code" href="Types_8h.html#94ebfccc6e846c28751f8d616371f1e5">STR16</a>       <a class="code" href="Quest_01Debug_01System_8cpp.html#5f86ae592e7eb11c896d2c42b67bfe14">QuestStates</a>[]     = {
<a name="l00229"></a>00229                                     L<span class="stringliteral">"N.S."</span>,
<a name="l00230"></a>00230                                     L<span class="stringliteral">"In Prog."</span>,
<a name="l00231"></a>00231                                     L<span class="stringliteral">"Done"</span>,
<a name="l00232"></a>00232 };
<a name="l00233"></a>00233 
<a name="l00234"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">00234</a> <a class="code" href="Types_8h.html#94ebfccc6e846c28751f8d616371f1e5">STR16</a>       <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[] = 
<a name="l00235"></a>00235 {
<a name="l00236"></a>00236       L<span class="stringliteral">"Quest Debug System"</span>,
<a name="l00237"></a>00237       L<span class="stringliteral">"Quests"</span>,
<a name="l00238"></a>00238       L<span class="stringliteral">"Quest Number"</span>,
<a name="l00239"></a>00239       L<span class="stringliteral">"Quest Title"</span>,
<a name="l00240"></a>00240       L<span class="stringliteral">"Status"</span>,
<a name="l00241"></a>00241       L<span class="stringliteral">"Facts"</span>,
<a name="l00242"></a>00242       L<span class="stringliteral">"Fact Number"</span>,
<a name="l00243"></a>00243       L<span class="stringliteral">"Desc."</span>,
<a name="l00244"></a>00244       L<span class="stringliteral">"Select Merc"</span>,
<a name="l00245"></a>00245       L<span class="stringliteral">"Select Item"</span>,
<a name="l00246"></a>00246       L<span class="stringliteral">"NPC RecordLog"</span>,
<a name="l00247"></a>00247       L<span class="stringliteral">"Exit Quest Debug"</span>,
<a name="l00248"></a>00248       L<span class="stringliteral">"NPC Info"</span>,
<a name="l00249"></a>00249       L<span class="stringliteral">"** No Item **"</span>,
<a name="l00250"></a>00250       L<span class="stringliteral">"Add Merc To Location"</span>,
<a name="l00251"></a>00251       L<span class="stringliteral">"Add Item To Location"</span>,
<a name="l00252"></a>00252       L<span class="stringliteral">"Change Day"</span>,
<a name="l00253"></a>00253       L<span class="stringliteral">"NPC log Button"</span>,
<a name="l00254"></a>00254       L<span class="stringliteral">"Please Enter the grid #"</span>,
<a name="l00255"></a>00255       L<span class="stringliteral">"Give Item To NPC"</span>,
<a name="l00256"></a>00256       L<span class="stringliteral">"View NPC's Inventory"</span>,
<a name="l00257"></a>00257       L<span class="stringliteral">"Please enter the number of days to advance."</span>,
<a name="l00258"></a>00258       L<span class="stringliteral">"NPC Inventory"</span>,
<a name="l00259"></a>00259       L<span class="stringliteral">"View NPC's in current sector"</span>,
<a name="l00260"></a>00260       L<span class="stringliteral">"No NPC's In Sector"</span>,
<a name="l00261"></a>00261       L<span class="stringliteral">"Please Enter New Value for "</span>,
<a name="l00262"></a>00262       L<span class="stringliteral">"0,1,2"</span>,
<a name="l00263"></a>00263       L<span class="stringliteral">"0,1"</span>,
<a name="l00264"></a>00264       L<span class="stringliteral">"Quest #"</span>,
<a name="l00265"></a>00265       L<span class="stringliteral">"Fact #"</span>,
<a name="l00266"></a>00266       L<span class="stringliteral">"Pg Facts Up"</span>,
<a name="l00267"></a>00267       L<span class="stringliteral">"Pg Facts Down"</span>,
<a name="l00268"></a>00268       L<span class="stringliteral">"No Text"</span>,
<a name="l00269"></a>00269       L<span class="stringliteral">"CurrentGridNo"</span>,
<a name="l00270"></a>00270       L<span class="stringliteral">"Refresh NPC Script"</span>,
<a name="l00271"></a>00271       L<span class="stringliteral">"Succesfully Refreshed"</span>,
<a name="l00272"></a>00272       L<span class="stringliteral">"Failed Refreshing"</span>,
<a name="l00273"></a>00273       L<span class="stringliteral">"Restore All NPC's inventory"</span>,
<a name="l00274"></a>00274       L<span class="stringliteral">"Start Merc Talking"</span>,
<a name="l00275"></a>00275       L<span class="stringliteral">"Please enter a quote number for the selected merc to start talking from."</span>,
<a name="l00276"></a>00276       L<span class="stringliteral">"RPC is added to team"</span>,
<a name="l00277"></a>00277       L<span class="stringliteral">"RPC says Sector Desc"</span>,
<a name="l00278"></a>00278       L<span class="stringliteral">"Space:       Toggle Pausing Merc Speech"</span>,
<a name="l00279"></a>00279       L<span class="stringliteral">"Left Arrow:  Previous Quote"</span>,
<a name="l00280"></a>00280       L<span class="stringliteral">"Right Arrow: Next Quote"</span>,
<a name="l00281"></a>00281       L<span class="stringliteral">"ESC:         To Stop the merc from Talking"</span>,
<a name="l00282"></a>00282       L<span class="stringliteral">""</span>,
<a name="l00283"></a>00283       L<span class="stringliteral">""</span>,
<a name="l00284"></a>00284 
<a name="l00285"></a>00285 };
<a name="l00286"></a>00286 
<a name="l00287"></a>00287 
<a name="l00288"></a>00288 <span class="comment">//enums for above strings</span>
<a name="l00289"></a>00289 <span class="keyword">enum</span>
<a name="l00290"></a>00290 {
<a name="l00291"></a>00291       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd50732b5b3b56e4e5647f3b7ba71d20d24">QUEST_DBS_TITLE</a>=0,
<a name="l00292"></a>00292       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5daa4ad3ca2fad8eeeb39ea0ef8968724">QUEST_DBS_QUESTS</a>,
<a name="l00293"></a>00293       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5f32318a75159d5260a9a9a1659b0b7a5">QUEST_DBS_QUEST_NUMBER</a>,
<a name="l00294"></a>00294       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5ab3cdfbc44034a0b2d481dacf8dac00d">QUEST_DBS_QUEST_TITLE</a>,
<a name="l00295"></a>00295       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5c04469f85913cc3575fb28762a1f76fc">QUEST_DBS_STATUS</a>,
<a name="l00296"></a>00296       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd58faf1f2b1ac899c89b9367da5583900a">QUEST_DBS_FACTS</a>,
<a name="l00297"></a>00297       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5d9d3b686c9744dafdbc435b299bb2d29">QUEST_DBS_FACT_NUMBER</a>,
<a name="l00298"></a>00298       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd513d0e3f45e5bbad294ecc5783f8d2d31">QUEST_DBS_DESC</a>,
<a name="l00299"></a>00299       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd563a780e3526dffcb83438094c6731ec4">QUEST_DBS_SELECTED_NPC</a>,
<a name="l00300"></a>00300       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd50659e58e4dd510a8dc72592662d283d2">QUEST_DBS_SELECTED_ITEM</a>,
<a name="l00301"></a>00301       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd57d165db34c63171ffade85250c48ce02">QUEST_DBS_NPC_RECORDLOG</a>,
<a name="l00302"></a>00302       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5a59d87d2d17e0a6c1b12a9a50710dca6">QUEST_DBS_EXIT_QUEST_DEBUG</a>,
<a name="l00303"></a>00303       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5656b9c6590ebcc4b615366ff992eafd7">QUEST_DBS_NPC_INFO</a>,
<a name="l00304"></a>00304       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5ae764af8e20dc9cacd0e30d15f0971b2">QUEST_DBS_NO_ITEM</a>,
<a name="l00305"></a>00305       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5cadb043c4dd1fe7cfe04efc2b302bb43">QUEST_DBS_ADD_CURRENT_NPC</a>,
<a name="l00306"></a>00306       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5b9d6dfbb93ea2c5fe28c9d720e243284">QUEST_DBS_ADD_CURRENT_ITEM</a>,
<a name="l00307"></a>00307       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5d24c747497f301e5b0e65c97519897c1">QUEST_DBS_CHANGE_DAY</a>,
<a name="l00308"></a>00308       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd53f874cdcb30018c5ddec2902f7ab262c">QUEST_DBS_NPC_LOG_BUTTON</a>,
<a name="l00309"></a>00309       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5829684edc9d5a3b55e6f34f9ed221ce3">QUEST_DBS_ENTER_GRID_NUM</a>,
<a name="l00310"></a>00310       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5b0a2231e761359b86064af35d7aa21cd">QUEST_DBS_GIVE_ITEM_TO_NPC</a>,
<a name="l00311"></a>00311       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd57a72903589d2cae6eeef2449a05b8bd7">QUEST_DBS_VIEW_NPC_INVENTORY</a>,
<a name="l00312"></a>00312       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5244675382e63970a005852e0b34e23a6">QUEST_DBS_PLEASE_ENTER_DAY</a>,
<a name="l00313"></a>00313       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd538cbe214799c688315e1e9b639191452">QUEST_DBS_NPC_INVENTORY</a>,
<a name="l00314"></a>00314       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5132fae9f958004065f29538209c4a268">QUEST_DBS_VIEW_LOCAL_NPC</a>,
<a name="l00315"></a>00315       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5f4d0450038fd1c18c77b94eb3c4b5bfd">QUEST_DBS_NO_NPC_IN_SECTOR</a>,
<a name="l00316"></a>00316       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd50e7a945dcdd3aa2075764a39939a7bcd">QUEST_DBS_ENTER_NEW_VALUE</a>,
<a name="l00317"></a>00317       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd583782859f0277060b59334f849000a2b">QUEST_DBS_0_1_2</a>,
<a name="l00318"></a>00318       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5a63af5c4be1ae3ccc8db02c3203f9641">QUEST_DBS_0_1</a>,
<a name="l00319"></a>00319       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5542e0d5eb33bb6c84cf91dd5327be4b5">QUEST_DBS_QUEST_NUM</a>,
<a name="l00320"></a>00320       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd566941af6184ecb029254369be6c3047b">QUEST_DBS_FACT_NUM</a>,
<a name="l00321"></a>00321       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5bcf86acd6936e51a7043bbdab4012504">QUEST_DBS_PG_FACTS_UP</a>,
<a name="l00322"></a>00322       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd57ebaf6f237d7f608571f3e8799f91336">QUEST_DBS_PG_FACTS_DOWN</a>,
<a name="l00323"></a>00323       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5e77e51dc70b0de188831171da624ad75">QUEST_DBS_NO_TEXT</a>,
<a name="l00324"></a>00324       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd53b04c7cae5633de01b6f68e881b530e6">QUEST_DBS_CURRENT_GRIDNO</a>,
<a name="l00325"></a>00325       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd58b65de2c95a5411d08b9a2216603f5dd">QUEST_DBS_REFRESH_NPC</a>,
<a name="l00326"></a>00326       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd53ad0e1c2dde597a38ec4ad63079a8527">QUEST_DBS_REFRESH_OK</a>,
<a name="l00327"></a>00327       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5c1ccd9ccd5545d935c3ef35e4b93517b">QUEST_DBS_REFRESH_FAILED</a>,
<a name="l00328"></a>00328       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd546f11a88d7a49513be7a22126a19bdb9">QUEST_DBS_RESTORE_NPC_INVENTORY</a>,
<a name="l00329"></a>00329       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd51bc46cedce82d6125a2a611f0a6e810d">QUEST_DBS_START_MERC_TALKING</a>,
<a name="l00330"></a>00330       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5d00c013a48deb869b20c64ee874adf3f">QUEST_DBS_START_MERC_TALKING_FROM</a>,
<a name="l00331"></a>00331       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5b6f8a1c809603feebd9b4ad69f020818">QUEST_DBS_ADD_NPC_TO_TEAM</a>,
<a name="l00332"></a>00332       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd51d65368101fddaf7f76a80eb1c1b122f">QUEST_DBS_RPC_SAY_SECTOR_DESC</a>,
<a name="l00333"></a>00333       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd51fbb350183228789b21475b748bdf32c">QUEST_DBS_PAUSE_SPEECH</a>,
<a name="l00334"></a>00334       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd586fc1fb37afc5cb8106a204526eaf53d">QUEST_DBS_LEFT_ARROW_PREVIOUS_QUOTE</a>,
<a name="l00335"></a>00335       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5e9af56bf6202d58fac350de9656270cf">QUEST_DBS_RIGHT_ARROW_NEXT_QUOTE</a>,
<a name="l00336"></a>00336       <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5fa7ecb5579385ad47e801742eec33704">QUEST_DBS_ESC_TOP_STOP_TALKING</a>
<a name="l00337"></a>00337 };
<a name="l00338"></a>00338 
<a name="l00339"></a>00339 
<a name="l00340"></a>00340 
<a name="l00341"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#0374dfba0fc618c5260e30394d9d504e">00341</a> <a class="code" href="Types_8h.html#94ebfccc6e846c28751f8d616371f1e5">STR16</a>       <a class="code" href="Quest_01Debug_01System_8cpp.html#0374dfba0fc618c5260e30394d9d504e">PocketText</a>[] = {
<a name="l00342"></a>00342       L<span class="stringliteral">"Helmet"</span>,
<a name="l00343"></a>00343       L<span class="stringliteral">"Vest"</span>,
<a name="l00344"></a>00344       L<span class="stringliteral">"Leg"</span>,
<a name="l00345"></a>00345       L<span class="stringliteral">"Head1"</span>,
<a name="l00346"></a>00346       L<span class="stringliteral">"Head2"</span>,
<a name="l00347"></a>00347       L<span class="stringliteral">"Hand"</span>,
<a name="l00348"></a>00348       L<span class="stringliteral">"Second Hand"</span>,
<a name="l00349"></a>00349       L<span class="stringliteral">"Bigpock1"</span>,
<a name="l00350"></a>00350       L<span class="stringliteral">"Bigpock2"</span>,
<a name="l00351"></a>00351       L<span class="stringliteral">"Bigpock3"</span>,
<a name="l00352"></a>00352       L<span class="stringliteral">"Bigpock4"</span>,
<a name="l00353"></a>00353       L<span class="stringliteral">"Smallpock1"</span>,
<a name="l00354"></a>00354       L<span class="stringliteral">"Smallpock2"</span>,
<a name="l00355"></a>00355       L<span class="stringliteral">"Smallpock3"</span>,
<a name="l00356"></a>00356       L<span class="stringliteral">"Smallpock4"</span>,
<a name="l00357"></a>00357       L<span class="stringliteral">"Smallpock5"</span>,
<a name="l00358"></a>00358       L<span class="stringliteral">"Smallpock6"</span>,
<a name="l00359"></a>00359       L<span class="stringliteral">"Smallpock7"</span>,
<a name="l00360"></a>00360       L<span class="stringliteral">"Smallpock8"</span>,
<a name="l00361"></a>00361 };
<a name="l00362"></a>00362 
<a name="l00363"></a>00363 
<a name="l00364"></a>00364 
<a name="l00365"></a>00365 <span class="comment">//*******************************</span>
<a name="l00366"></a>00366 <span class="comment">//</span>
<a name="l00367"></a>00367 <span class="comment">//    Global Variables</span>
<a name="l00368"></a>00368 <span class="comment">//</span>
<a name="l00369"></a>00369 <span class="comment">//*******************************</span>
<a name="l00370"></a>00370 
<a name="l00371"></a>00371 <span class="keyword">extern</span> <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a> <a class="code" href="Game_01Clock_8cpp.html#4264b756bda5ff58e00019c567b97a88">guiGameClock</a>;
<a name="l00372"></a>00372 <span class="keyword">extern</span> <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a> <a class="code" href="mapscreen_8cpp.html#9ec22e0df8213b2de4895dc157fd0114">guiBrownBackgroundForTeamPanel</a>;
<a name="l00373"></a>00373 
<a name="l00374"></a>00374 
<a name="l00375"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#aed616507ac3041e2df28f96ab23211a">00375</a> <span class="keyword">typedef</span> <a class="code" href="expat_8h.html#3980d15795c6349fecd06c1b035c1ae9">void</a> (*<a class="code" href="Quest_01Debug_01System_8cpp.html#aed616507ac3041e2df28f96ab23211a">LISTBOX_DISPLAY_FNCTN</a>)();  <span class="comment">// Define Display Callback function</span>
<a name="l00376"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#8218520cca4f0d3a0d7221f6a3b53469">00376</a> <span class="keyword">typedef</span> <a class="code" href="expat_8h.html#3980d15795c6349fecd06c1b035c1ae9">void</a> (*<a class="code" href="Quest_01Debug_01System_8cpp.html#8218520cca4f0d3a0d7221f6a3b53469">TEXT_ENTRY_CALLBACK</a>)( <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> );         <span class="comment">//Callback for when the text entry field is finished</span>
<a name="l00377"></a>00377 
<a name="l00378"></a><a class="code" href="structSCROLL__BOX.html">00378</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00379"></a>00379 <span class="keyword"></span>{
<a name="l00380"></a><a class="code" href="structSCROLL__BOX.html#baa1a74a561a5f0d1c4494c4b2bb121a">00380</a>       <a class="code" href="Quest_01Debug_01System_8cpp.html#aed616507ac3041e2df28f96ab23211a">LISTBOX_DISPLAY_FNCTN</a>    DisplayFunction;                                                                         <span class="comment">//    The array of items</span>
<a name="l00381"></a>00381 
<a name="l00382"></a><a class="code" href="structSCROLL__BOX.html#6f3452a7f1f4e9c80b5d30f87feb9246">00382</a>       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usScrollPosX;                                                          <span class="comment">//    Top Left Pos of list box</span>
<a name="l00383"></a><a class="code" href="structSCROLL__BOX.html#1581fa1c7e3ab83d3d84a6ffe7db6738">00383</a>       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usScrollPosY;                                                          <span class="comment">//    Top Left Pos of list box</span>
<a name="l00384"></a><a class="code" href="structSCROLL__BOX.html#c691135c59792f73f5a55c49908e4b7a">00384</a>       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usScrollHeight;                                                  <span class="comment">//    Height of list box</span>
<a name="l00385"></a><a class="code" href="structSCROLL__BOX.html#7709cde08747319d0e9e558d6007fab5">00385</a>       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usScrollWidth;                                                         <span class="comment">//    Width of list box</span>
<a name="l00386"></a>00386 
<a name="l00387"></a><a class="code" href="structSCROLL__BOX.html#425c58a1a9717dd37087b7254231434e">00387</a>       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usScrollBarHeight;                                               <span class="comment">//    Height of Scroll box</span>
<a name="l00388"></a><a class="code" href="structSCROLL__BOX.html#56907ccc250060088d8ee6a2d441d392">00388</a>       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usScrollBarWidth;                                                <span class="comment">//    Width of Scroll box</span>
<a name="l00389"></a><a class="code" href="structSCROLL__BOX.html#0541d816c3284d2eacabfbe3f89fee9e">00389</a>       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usScrollBoxY;                                                          <span class="comment">//    Current Vertical location of the scroll box</span>
<a name="l00390"></a><a class="code" href="structSCROLL__BOX.html#30678ed0b91bdf04492aed24949e31d8">00390</a>       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usScrollBoxEndY;                                                 <span class="comment">//    Bottom position on the scroll box</span>
<a name="l00391"></a><a class="code" href="structSCROLL__BOX.html#5feec2b04bc344f3be381b6d5f2d494a">00391</a>       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usScrollArrowHeight;                                       <span class="comment">//    Scroll Arrow height</span>
<a name="l00392"></a>00392       
<a name="l00393"></a><a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">00393</a>       <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>       sCurSelectedItem;                                           <span class="comment">//    Currently selected item</span>
<a name="l00394"></a><a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">00394</a>       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usItemDisplayedOnTopOfList;              <span class="comment">//    item at the top of displayed list</span>
<a name="l00395"></a><a class="code" href="structSCROLL__BOX.html#1251664ccbeec622dcf990b4dae8fac7">00395</a>       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usStartIndex;                                                          <span class="comment">//    index to start at for the array of elements</span>
<a name="l00396"></a><a class="code" href="structSCROLL__BOX.html#715672339dcfaceb5b2d4b96fcc32653">00396</a>       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usMaxArrayIndex;                                                 <span class="comment">//    Max Size of the array</span>
<a name="l00397"></a><a class="code" href="structSCROLL__BOX.html#83caaadedbcf85d6e042a0f32664b2ed">00397</a>       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usNumDisplayedItems;                                       <span class="comment">//    Num of displayed item</span>
<a name="l00398"></a><a class="code" href="structSCROLL__BOX.html#5c7335f7d4612f5d750f8c52b2aff54d">00398</a>       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usMaxNumDisplayedItems;                              <span class="comment">//  Max number of Displayed items</span>
<a name="l00399"></a>00399 
<a name="l00400"></a><a class="code" href="structSCROLL__BOX.html#3db938caea7bf117e178c5b018cc7eb6">00400</a>       <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>  ubCurScrollBoxAction;                                <span class="comment">//    Holds the status of the current action ( create; destroy... )</span>
<a name="l00401"></a>00401 
<a name="l00402"></a>00402 } <a class="code" href="structSCROLL__BOX.html">SCROLL_BOX</a>;
<a name="l00403"></a>00403 
<a name="l00404"></a>00404 
<a name="l00405"></a>00405 <span class="comment">//Enums for the possible panels the mercs can use</span>
<a name="l00406"></a>00406 <span class="keyword">enum</span>
<a name="l00407"></a>00407 {
<a name="l00408"></a>00408       <a class="code" href="Quest_01Debug_01System_8cpp.html#25f1c885c7f5230ea4c9bc48dde88fe15a574ad4de0993d979a632ec5747a0d3">QDS_REGULAR_PANEL</a>,
<a name="l00409"></a>00409       <a class="code" href="Quest_01Debug_01System_8cpp.html#25f1c885c7f5230ea4c9bc48dde88fe1851a52a5d16dcd985fa5d13bc57b1816">QDS_NPC_PANEL</a>,
<a name="l00410"></a>00410       <a class="code" href="Quest_01Debug_01System_8cpp.html#25f1c885c7f5230ea4c9bc48dde88fe117a73fc9087c199b2864d520284a7341">QDS_NO_PANEL</a>,
<a name="l00411"></a>00411 };
<a name="l00412"></a>00412 
<a name="l00413"></a>00413 <span class="comment">//image identifiers</span>
<a name="l00414"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#95ce8b83cdbfe6b351e297f66cecdc5f">00414</a> <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="Quest_01Debug_01System_8cpp.html#95ce8b83cdbfe6b351e297f66cecdc5f">guiQdScrollArrowImage</a>;
<a name="l00415"></a>00415 
<a name="l00416"></a>00416 
<a name="l00417"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#d2c836f98df92d17548db902344fc258">00417</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>           <a class="code" href="Quest_01Debug_01System_8cpp.html#d2c836f98df92d17548db902344fc258">gfQuestDebugEntry</a> = TRUE;
<a name="l00418"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#3dc1cbcb983a326486e2d31f161ca7ad">00418</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>           <a class="code" href="Quest_01Debug_01System_8cpp.html#3dc1cbcb983a326486e2d31f161ca7ad">gfQuestDebugExit</a> = FALSE;
<a name="l00419"></a>00419 
<a name="l00420"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#c125ac9b667b2cf718cda0f2afbb195a">00420</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>           <a class="code" href="Quest_01Debug_01System_8cpp.html#c125ac9b667b2cf718cda0f2afbb195a">gfRedrawQuestDebugSystem</a> = TRUE;
<a name="l00421"></a>00421 
<a name="l00422"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#c236f04bbbfa90a51db3d139526ead95">00422</a> <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> <a class="code" href="Quest_01Debug_01System_8cpp.html#c236f04bbbfa90a51db3d139526ead95">gusQuestDebugBlue</a>;   
<a name="l00423"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#72122205f13e2b5d279d7b965614f9f6">00423</a> <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> <a class="code" href="Quest_01Debug_01System_8cpp.html#72122205f13e2b5d279d7b965614f9f6">gusQuestDebugLtBlue</a>; 
<a name="l00424"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#0808b47b6ca5d6e1ca98695e260d6f1a">00424</a> <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> <a class="code" href="Quest_01Debug_01System_8cpp.html#0808b47b6ca5d6e1ca98695e260d6f1a">gusQuestDebugDkBlue</a>; 
<a name="l00425"></a>00425 
<a name="l00426"></a>00426 <span class="comment">//UINT16    gusFactAtTopOfList; // duplicate definition in the same file (jonathanl)</span>
<a name="l00427"></a>00427 
<a name="l00428"></a>00428 <span class="comment">//INT16           gsCurScrollBoxY=0;</span>
<a name="l00429"></a>00429 
<a name="l00430"></a>00430 
<a name="l00431"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">00431</a> <a class="code" href="structSCROLL__BOX.html">SCROLL_BOX</a>  <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>;                        <span class="comment">// The Npc Scroll box</span>
<a name="l00432"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#e35a36316db3497cff8cdefc0eca0493">00432</a> <a class="code" href="structSCROLL__BOX.html">SCROLL_BOX</a>  <a class="code" href="Quest_01Debug_01System_8cpp.html#e35a36316db3497cff8cdefc0eca0493">gItemListBox</a>;                       <span class="comment">// The Npc Scroll box</span>
<a name="l00433"></a>00433 
<a name="l00434"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">00434</a> <a class="code" href="structSCROLL__BOX.html">SCROLL_BOX</a>  *<a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>;       <span class="comment">// Only 1 scroll box is active at a time, this is set to it.</span>
<a name="l00435"></a>00435 
<a name="l00436"></a><a class="code" href="Quest_01Debug_01System_8h.html#a270ab8323007b531982733eea5cfb21">00436</a> <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>                   <a class="code" href="Quest_01Debug_01System_8cpp.html#a270ab8323007b531982733eea5cfb21">gsQdsEnteringGridNo</a>     =0;
<a name="l00437"></a>00437 
<a name="l00438"></a>00438 
<a name="l00439"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#5ea91ef3c648528165811e10ef9d8b59">00439</a> <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>                   <a class="code" href="Quest_01Debug_01System_8cpp.html#5ea91ef3c648528165811e10ef9d8b59">gubTextEntryAction</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd0d0b45129a797d27de0a228453905361">QD_DROP_DOWN_NO_ACTION</a>;
<a name="l00440"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#11a4cd1d2fb6e7985e7b97409238671b">00440</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>                 <a class="code" href="Quest_01Debug_01System_8cpp.html#11a4cd1d2fb6e7985e7b97409238671b">gfTextEntryActive</a> = FALSE;
<a name="l00441"></a>00441 <span class="comment">//wchar_t               gzTextEntryReturnString[ 16 ];</span>
<a name="l00442"></a>00442 
<a name="l00443"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#0e7478a157d5003d7ee62ea44784d05a">00443</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>                 <a class="code" href="Quest_01Debug_01System_8cpp.html#0e7478a157d5003d7ee62ea44784d05a">gfUseLocalNPCs</a> = FALSE;
<a name="l00444"></a>00444 
<a name="l00445"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#02b9a964a99548ea3561720ebd825afe">00445</a> <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>                   <a class="code" href="Quest_01Debug_01System_8cpp.html#02b9a964a99548ea3561720ebd825afe">gubNPCInventoryPopupAction</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd0d0b45129a797d27de0a228453905361">QD_DROP_DOWN_NO_ACTION</a>;
<a name="l00446"></a>00446 
<a name="l00447"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#6d22a033af1f12b11e6a60c97c1e54e7">00447</a> <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>                   <a class="code" href="Quest_01Debug_01System_8cpp.html#6d22a033af1f12b11e6a60c97c1e54e7">gubCurrentNpcInSector</a>[ QUEST_DBS_SIZE_NPC_ARRAY ];
<a name="l00448"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#d95c0ec3a10a5e55082d7932a646b973">00448</a> <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>                   <a class="code" href="Quest_01Debug_01System_8cpp.html#d95c0ec3a10a5e55082d7932a646b973">gubNumNPCinSector</a>;
<a name="l00449"></a>00449 
<a name="l00450"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#5adde020f1e8631666f4388022c9202e">00450</a> <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>                   <a class="code" href="Quest_01Debug_01System_8cpp.html#5adde020f1e8631666f4388022c9202e">gubCurQuestSelected</a>;
<a name="l00451"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#416ff0556c709a6de4bc584d1d228311">00451</a> <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>                  <a class="code" href="Quest_01Debug_01System_8cpp.html#416ff0556c709a6de4bc584d1d228311">gusCurFactSelected</a>;
<a name="l00452"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#a6a552c95cdd51aa92acc43161859ab6">00452</a> <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>                  <a class="code" href="Quest_01Debug_01System_8cpp.html#a6a552c95cdd51aa92acc43161859ab6">gusFactAtTopOfList</a>;
<a name="l00453"></a>00453 
<a name="l00454"></a>00454 <span class="comment">//INT16                       gsCurrentNPCLog=-1;                                   //If this is set, the value will be set to the </span>
<a name="l00455"></a><a class="code" href="Quest_01Debug_01System_8h.html#7a63f7cece94dc1faec866f8155736b0">00455</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>                 <a class="code" href="Quest_01Debug_01System_8cpp.html#7a63f7cece94dc1faec866f8155736b0">gfNpcLogButton</a> = FALSE;
<a name="l00456"></a>00456 
<a name="l00457"></a>00457 
<a name="l00458"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#d9333e5fb48a37bff10e43ec6db994a2">00458</a> <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a>                   <a class="code" href="Quest_01Debug_01System_8cpp.html#d9333e5fb48a37bff10e43ec6db994a2">giHaveSelectedItem</a>=-1;              <span class="comment">// If it is not the first time in, dont reset the Selected ITem</span>
<a name="l00459"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#4e678f054d912bdf66c50b14adb72a74">00459</a> <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a>                   <a class="code" href="Quest_01Debug_01System_8cpp.html#4e678f054d912bdf66c50b14adb72a74">giHaveSelectedNPC</a>=-1;               <span class="comment">// If it is not the first time in, dont reset the selected NPC</span>
<a name="l00460"></a>00460 
<a name="l00461"></a>00461 
<a name="l00462"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#f8b9e37597f9e3d0967fd2f80fe29896">00462</a> <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a>                   <a class="code" href="Quest_01Debug_01System_8cpp.html#f8b9e37597f9e3d0967fd2f80fe29896">giSelectedMercCurrentQuote</a>=-1;
<a name="l00463"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#9f589748c6d610e7571aada84a866a1e">00463</a> <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a> *<a class="code" href="Quest_01Debug_01System_8cpp.html#9f589748c6d610e7571aada84a866a1e">gTalkingMercSoldier</a>=NULL;
<a name="l00464"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#a396f2a934c7b021f993b13c53fb366a">00464</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>                 <a class="code" href="Quest_01Debug_01System_8cpp.html#a396f2a934c7b021f993b13c53fb366a">gfPauseTalkingMercPopup</a>=FALSE;
<a name="l00465"></a>00465 <span class="keyword">extern</span>                  <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>                 <a class="code" href="Quest_01Debug_01System_8cpp.html#7e5d58ce0431a73fbc5ed8baf99a9145">gfFacePanelActive</a>;
<a name="l00466"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#5380ba59664879efb0e2272a7212975e">00466</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>                 <a class="code" href="Quest_01Debug_01System_8cpp.html#5380ba59664879efb0e2272a7212975e">gfAddNpcToTeam</a>=FALSE;
<a name="l00467"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#7bf86b564617760f500ea5e8ed4aed60">00467</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>                 <a class="code" href="Quest_01Debug_01System_8cpp.html#7bf86b564617760f500ea5e8ed4aed60">gfRpcToSaySectorDesc</a>=FALSE;
<a name="l00468"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#19257b69178b1771f59dc4be5006ef1f">00468</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>                 <a class="code" href="Quest_01Debug_01System_8cpp.html#19257b69178b1771f59dc4be5006ef1f">gfNpcPanelIsUsedForTalkingMerc</a>=FALSE;
<a name="l00469"></a>00469 <span class="keyword">extern</span>                  <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a> * <a class="code" href="Quest_01Debug_01System_8cpp.html#865a71682ce16d8fee61adbd915075fd">gpDestSoldier</a>;
<a name="l00470"></a>00470 
<a name="l00471"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#dfc9df40f5f18a77a608b3bf365d437f">00471</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>                 <a class="code" href="Quest_01Debug_01System_8cpp.html#dfc9df40f5f18a77a608b3bf365d437f">gfBackgroundMaskEnabled</a>=FALSE;
<a name="l00472"></a>00472 
<a name="l00473"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#99f1fee32505439a1bfc01830568fab5">00473</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>                 <a class="code" href="Quest_01Debug_01System_8cpp.html#99f1fee32505439a1bfc01830568fab5">gfExitQdsDueToMessageBox</a>=FALSE;
<a name="l00474"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#534ff744d60ce92ca501d4afcb7f907e">00474</a> <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a>                   <a class="code" href="Quest_01Debug_01System_8cpp.html#534ff744d60ce92ca501d4afcb7f907e">giQdsMessageBox</a> = -1;                           <span class="comment">// Qds pop up messages index value</span>
<a name="l00475"></a>00475 
<a name="l00476"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#cd4b46a9626ef490e89a5c9b0460fb6a">00476</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>                 <a class="code" href="Quest_01Debug_01System_8cpp.html#cd4b46a9626ef490e89a5c9b0460fb6a">gfInDropDownBox</a>=FALSE;
<a name="l00477"></a>00477 <span class="comment">//BOOLEAN               gfExitOptionsAfterMessageBox = FALSE;</span>
<a name="l00478"></a>00478 
<a name="l00479"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#67d5f23a40d5cc444d179ac5cc16626f">00479</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>                 <a class="code" href="Quest_01Debug_01System_8cpp.html#67d5f23a40d5cc444d179ac5cc16626f">gfAddKeyNextPass</a>=FALSE;
<a name="l00480"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#8c685cf9c66d9bcf4d469e35077d3c33">00480</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>                 <a class="code" href="Quest_01Debug_01System_8cpp.html#8c685cf9c66d9bcf4d469e35077d3c33">gfDropDamagedItems</a>=FALSE;
<a name="l00481"></a>00481 
<a name="l00482"></a>00482 <span class="comment">//</span>
<a name="l00483"></a>00483 <span class="comment">// Mouse Regions</span>
<a name="l00484"></a>00484 <span class="comment">//</span>
<a name="l00485"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#719ad994af2d01cadc401f45d8874355">00485</a> <a class="code" href="struct__MOUSE__REGION.html">MOUSE_REGION</a>            <a class="code" href="Quest_01Debug_01System_8cpp.html#719ad994af2d01cadc401f45d8874355">gQuestDebugSysScreenRegions</a>;
<a name="l00486"></a>00486 <span class="comment">//void QuestDebugSysScreenRegionCallBack(MOUSE_REGION * pRegion, INT32 iReason );</span>
<a name="l00487"></a>00487 
<a name="l00488"></a>00488 
<a name="l00489"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#4c712edb1b4e63300117258664f5a769">00489</a> <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="Quest_01Debug_01System_8cpp.html#4c712edb1b4e63300117258664f5a769">guiQuestDebugExitButton</a>;
<a name="l00490"></a>00490 <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#3a60d0b2021c9ece179a6d99fee1e6e9">BtnQuestDebugExitButtonCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason);
<a name="l00491"></a>00491 
<a name="l00492"></a>00492 <span class="comment">//checkbox for weather to show all npc or just npc in sector</span>
<a name="l00493"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#c0e294a72daf2ba0c99e606c7cdd1e54">00493</a> <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="Quest_01Debug_01System_8cpp.html#c0e294a72daf2ba0c99e606c7cdd1e54">guiQuestDebugAllOrSectorNPCToggle</a>;
<a name="l00494"></a>00494 <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#75ae13c504e8618995515de249f0e5f3">BtnQuestDebugAllOrSectorNPCToggleCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason);
<a name="l00495"></a>00495 
<a name="l00496"></a>00496 
<a name="l00497"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#7ad04426e1486995a59c3352ecde50ac">00497</a> <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="Quest_01Debug_01System_8cpp.html#7ad04426e1486995a59c3352ecde50ac">guiQuestDebugCurNPCButton</a>;
<a name="l00498"></a>00498 <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#0ba64349e904ba2f3607efdfa729c435">BtnQuestDebugCurNPCButtonCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason);
<a name="l00499"></a>00499 
<a name="l00500"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#2cefb6f2685705b58756a10cd6c1ac16">00500</a> <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="Quest_01Debug_01System_8cpp.html#2cefb6f2685705b58756a10cd6c1ac16">guiQuestDebugCurItemButton</a>;
<a name="l00501"></a>00501 <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#5fece11aa03839008306ca18de865e3a">BtnQuestDebugCurItemButtonCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason);
<a name="l00502"></a>00502 
<a name="l00503"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#2cd41c59a860829919c29db0ba30231d">00503</a> <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="Quest_01Debug_01System_8cpp.html#2cd41c59a860829919c29db0ba30231d">guiQuestDebugAddNpcToLocationButton</a>;
<a name="l00504"></a>00504 <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#3be3845856b98537620e2931fdc6fb02">BtnQuestDebugAddNpcToLocationButtonCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason);
<a name="l00505"></a>00505 
<a name="l00506"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#e377364680a772afcc667204c7d531b0">00506</a> <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="Quest_01Debug_01System_8cpp.html#e377364680a772afcc667204c7d531b0">guiQuestDebugAddItemToLocationButton</a>;
<a name="l00507"></a>00507 <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#11a0d83a772a82c444775d6ca4da7efe">BtnQuestDebugAddItemToLocationButtonCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason);
<a name="l00508"></a>00508 
<a name="l00509"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#ef5dfeb58cb2a53b4f77c63776c2e32e">00509</a> <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="Quest_01Debug_01System_8cpp.html#ef5dfeb58cb2a53b4f77c63776c2e32e">guiQuestDebugGiveItemToNPCButton</a>;
<a name="l00510"></a>00510 <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#7cb1f1a30921c18ff9af3e20e8e85b6b">BtnQuestDebugGiveItemToNPCButtonCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason);
<a name="l00511"></a>00511 
<a name="l00512"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#683fc4a13a7184a539809d54c07028f1">00512</a> <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="Quest_01Debug_01System_8cpp.html#683fc4a13a7184a539809d54c07028f1">guiQuestDebugChangeDayButton</a>;
<a name="l00513"></a>00513 <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#d9d449d5b73774304f79655e9e462893">BtnQuestDebugChangeDayButtonCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason);
<a name="l00514"></a>00514 
<a name="l00515"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#279c943e61d9ca197a4bde9d8fe79bd3">00515</a> <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="Quest_01Debug_01System_8cpp.html#279c943e61d9ca197a4bde9d8fe79bd3">guiQuestDebugViewNPCInvButton</a>;
<a name="l00516"></a>00516 <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#a08f64911d6eb24e2c724b8c5a6a6320">BtnQuestDebugViewNPCInvButtonCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason);
<a name="l00517"></a>00517 
<a name="l00518"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#82fa91eaa6c3de81264c1fc7622f20b3">00518</a> <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="Quest_01Debug_01System_8cpp.html#82fa91eaa6c3de81264c1fc7622f20b3">guiQuestDebugRestoreNPCInvButton</a>;
<a name="l00519"></a>00519 <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#28ce97eb96c3e9b45cc71cbedf65e5c2">BtnQuestDebugRestoreNPCInvButtonCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason);
<a name="l00520"></a>00520 
<a name="l00521"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#aeda21c84111fefc34c2818fc15bf147">00521</a> <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="Quest_01Debug_01System_8cpp.html#aeda21c84111fefc34c2818fc15bf147">guiQuestDebugNPCLogButtonButton</a>;
<a name="l00522"></a>00522 <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#ffb2e89933ce68b664d42598d926b00e">BtnQuestDebugNPCLogButtonButtonCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason);
<a name="l00523"></a>00523 
<a name="l00524"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#b86bc3d6ce32759764670149c987c672">00524</a> <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="Quest_01Debug_01System_8cpp.html#b86bc3d6ce32759764670149c987c672">guiQuestDebugNPCRefreshButtonButton</a>;
<a name="l00525"></a>00525 <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#5f8c1356e44aeadcf99221530ca0be37">BtnQuestDebugNPCRefreshButtonButtonCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason);
<a name="l00526"></a>00526 
<a name="l00527"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#7de4de0f3c01b06f06fabc0c46c1f11e">00527</a> <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="Quest_01Debug_01System_8cpp.html#7de4de0f3c01b06f06fabc0c46c1f11e">guiQuestDebugStartMercTalkingButtonButton</a>;
<a name="l00528"></a>00528 <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#d468ca3f9e21d7eba54b67499f3e15b4">BtnQuestDebugStartMercTalkingButtonButtonCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason);
<a name="l00529"></a>00529 
<a name="l00530"></a>00530 <span class="comment">//checkbox for weather to add the merc to the players team</span>
<a name="l00531"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#d32da0fed654a7bef0b184324c5d1722">00531</a> <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="Quest_01Debug_01System_8cpp.html#d32da0fed654a7bef0b184324c5d1722">guiQuestDebugAddNpcToTeamToggle</a>;
<a name="l00532"></a>00532 <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#c3c7754e9ed780af2fbd90080d67b103">BtnQuestDebugAddNpcToTeamToggleCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason);
<a name="l00533"></a>00533 
<a name="l00534"></a>00534 <span class="comment">//checkbox for weather have rpc say the sector description</span>
<a name="l00535"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#8efd78ca08a71b2a6a7e97dc6aff3b93">00535</a> <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="Quest_01Debug_01System_8cpp.html#8efd78ca08a71b2a6a7e97dc6aff3b93">guiQuestDebugRPCSaySectorDescToggle</a>;
<a name="l00536"></a>00536 <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#6334efffbeaed6c8ba8e11b9d5aba1e8">BtnQuestDebugRPCSaySectorDescToggleCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason);
<a name="l00537"></a>00537 
<a name="l00538"></a>00538 
<a name="l00539"></a>00539 
<a name="l00540"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#4a6154f32101e09929f099b88295ef7e">00540</a> <a class="code" href="struct__MOUSE__REGION.html">MOUSE_REGION</a>    <a class="code" href="Quest_01Debug_01System_8cpp.html#4a6154f32101e09929f099b88295ef7e">gSelectedNpcListRegion</a>[ QUEST_DBS_MAX_DISPLAYED_ENTRIES ];
<a name="l00541"></a>00541 <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#5a227983182c7722b53cc3377314c86f">SelectNpcListRegionCallBack</a>(<a class="code" href="struct__MOUSE__REGION.html">MOUSE_REGION</a> * pRegion, <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iReason );
<a name="l00542"></a>00542 <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#495b73a2e1f02bdfb5b6e636ea3c2b21">SelectNpcListMovementCallBack</a>(<a class="code" href="struct__MOUSE__REGION.html">MOUSE_REGION</a> * pRegion, <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iReason );
<a name="l00543"></a>00543 
<a name="l00544"></a>00544 
<a name="l00545"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#48a9cd1e0c53bacd362ea24fc65626a8">00545</a> <a class="code" href="struct__MOUSE__REGION.html">MOUSE_REGION</a>    <a class="code" href="Quest_01Debug_01System_8cpp.html#48a9cd1e0c53bacd362ea24fc65626a8">gScrollAreaRegion</a>[ QUEST_DBS_NUM_INCREMENTS_IN_SCROLL_BAR ];
<a name="l00546"></a>00546 <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#561554a77afd1a831cd2334c74c99124">ScrollAreaRegionCallBack</a>(<a class="code" href="struct__MOUSE__REGION.html">MOUSE_REGION</a> * pRegion, <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iReason );
<a name="l00547"></a>00547 <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#92262bf364ce67757695676ea3a6eb73">ScrollAreaMovementCallBack</a>(<a class="code" href="struct__MOUSE__REGION.html">MOUSE_REGION</a> * pRegion, <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iReason );
<a name="l00548"></a>00548 
<a name="l00549"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#be5496d79add457e45e610947ff923d4">00549</a> <a class="code" href="struct__MOUSE__REGION.html">MOUSE_REGION</a>    <a class="code" href="Quest_01Debug_01System_8cpp.html#be5496d79add457e45e610947ff923d4">gScrollArrowsRegion</a>[2];
<a name="l00550"></a>00550 <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#a8564e488afa62ff9409ad95fbc8475e">ScrollArrowsRegionCallBack</a>(<a class="code" href="struct__MOUSE__REGION.html">MOUSE_REGION</a> * pRegion, <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iReason );
<a name="l00551"></a>00551 
<a name="l00552"></a>00552 
<a name="l00553"></a>00553 <span class="comment">//Text entry Disable the screen</span>
<a name="l00554"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#51710ca404b1084946db1bce07f87969">00554</a> <a class="code" href="struct__MOUSE__REGION.html">MOUSE_REGION</a>    <a class="code" href="Quest_01Debug_01System_8cpp.html#51710ca404b1084946db1bce07f87969">gQuestTextEntryDebugDisableScreenRegion</a>;
<a name="l00555"></a>00555 <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#877c5d3167ec49419a68a6569b56744a">QuestDebugTextEntryDisableScreenRegionCallBack</a>(<a class="code" href="struct__MOUSE__REGION.html">MOUSE_REGION</a> * pRegion, <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iReason );
<a name="l00556"></a>00556 
<a name="l00557"></a>00557 <span class="comment">//Ok button on the text entry form</span>
<a name="l00558"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#9ce763b0d51aaf96e21ac9e13c1af8ed">00558</a> <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="Quest_01Debug_01System_8cpp.html#9ce763b0d51aaf96e21ac9e13c1af8ed">guiQuestDebugTextEntryOkBtn</a>;
<a name="l00559"></a>00559 <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#39ed925e3ecccb4e35a14c13afb0ff91">BtnQuestDebugTextEntryOkBtnButtonCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason);
<a name="l00560"></a>00560 
<a name="l00561"></a>00561 <span class="comment">//Ok button on the NPC inventory form</span>
<a name="l00562"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#6a36a2564e62c40094b847d57b186469">00562</a> <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="Quest_01Debug_01System_8cpp.html#6a36a2564e62c40094b847d57b186469">guiQuestDebugNPCInventOkBtn</a>;
<a name="l00563"></a>00563 <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#1996f66b9ea30443be5de64066634822">BtnQuestDebugNPCInventOkBtnButtonCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason);
<a name="l00564"></a>00564 
<a name="l00565"></a>00565 
<a name="l00566"></a>00566 <span class="comment">//Mouse regions for the Quests</span>
<a name="l00567"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#313535ef32f11d78a1b59c5cbe1da258">00567</a> <a class="code" href="struct__MOUSE__REGION.html">MOUSE_REGION</a>    <a class="code" href="Quest_01Debug_01System_8cpp.html#313535ef32f11d78a1b59c5cbe1da258">gQuestListRegion</a>[ QUEST_DBS_NUM_DISPLAYED_QUESTS ];
<a name="l00568"></a>00568 <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#e81c1e385ee015ace18071eeee7ef13f">ScrollQuestListRegionCallBack</a>(<a class="code" href="struct__MOUSE__REGION.html">MOUSE_REGION</a> * pRegion, <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iReason );
<a name="l00569"></a>00569 
<a name="l00570"></a>00570 <span class="comment">//Mouse regions for the Facts</span>
<a name="l00571"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#2f10d33af637a234fc4f6944717cba26">00571</a> <a class="code" href="struct__MOUSE__REGION.html">MOUSE_REGION</a>    <a class="code" href="Quest_01Debug_01System_8cpp.html#2f10d33af637a234fc4f6944717cba26">gFactListRegion</a>[ QUEST_DBS_NUM_DISPLAYED_FACTS ];
<a name="l00572"></a>00572 <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#89fe8dd48c772edc16a268bb18dd47d9">ScrollFactListRegionCallBack</a>(<a class="code" href="struct__MOUSE__REGION.html">MOUSE_REGION</a> * pRegion, <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iReason );
<a name="l00573"></a>00573 
<a name="l00574"></a>00574 
<a name="l00575"></a>00575 
<a name="l00576"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#947e48531d84da93d7d24219e72a2020">00576</a> <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="Quest_01Debug_01System_8cpp.html#947e48531d84da93d7d24219e72a2020">guiQDPgUpButtonButton</a>;
<a name="l00577"></a>00577 <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#8c71dc19ccab0c5da04eb15cf3baffd8">BtnQDPgUpButtonButtonCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason);
<a name="l00578"></a>00578 
<a name="l00579"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#76d1668926b892cf06c64efec5f8ac94">00579</a> <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="Quest_01Debug_01System_8cpp.html#76d1668926b892cf06c64efec5f8ac94">guiQDPgDownButtonButton</a>;
<a name="l00580"></a>00580 <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#5b3c3e4416bfbcd15024498173f4c516">BtnQDPgDownButtonButtonCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason);
<a name="l00581"></a>00581 
<a name="l00582"></a>00582 
<a name="l00583"></a>00583 
<a name="l00584"></a>00584 
<a name="l00585"></a>00585 
<a name="l00586"></a>00586 
<a name="l00587"></a>00587 <span class="comment">//*******************************</span>
<a name="l00588"></a>00588 <span class="comment">//</span>
<a name="l00589"></a>00589 <span class="comment">//    Function Prototypes</span>
<a name="l00590"></a>00590 <span class="comment">//</span>
<a name="l00591"></a>00591 <span class="comment">//*******************************</span>
<a name="l00592"></a>00592 
<a name="l00593"></a>00593 <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>           <a class="code" href="Quest_01Debug_01System_8cpp.html#b9397e525e2c46d810b62ccfa69229c5">EnterQuestDebugSystem</a>();
<a name="l00594"></a>00594 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#22a24ffcf9bd4cfa8663bdd170a00850">RenderQuestDebugSystem</a>();
<a name="l00595"></a>00595 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#a68b69da7c49e62657860c79d53cd7de">ExitQuestDebugSystem</a>();
<a name="l00596"></a>00596 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#4d1a209d0a0a7f5da58ba7c3106360ff">HandleQuestDebugSystem</a>();
<a name="l00597"></a>00597 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#eace0f626dd858840ecca5fa56b97bb2">GetUserInput</a>();
<a name="l00598"></a>00598 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#2ef0d0d502e4b19961d864aa81b5e7bb">ColorFillQuestDebugScreenScreen</a>( <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sLeft, <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sTop, <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sRight, <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sBottom );
<a name="l00599"></a>00599 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#d5a9fe77fbacb3dbe649b540c274b15f">QuestDebug_ExitTactical</a>();
<a name="l00600"></a>00600 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#7360162f93b8fdc1c352044e8efddb55">QuestDebug_EnterTactical</a>();
<a name="l00601"></a>00601 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#7c94653fb8990103a91cabeb4da2a111">DisplayQuestInformation</a>();
<a name="l00602"></a>00602 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#395b5b4e17d4e32acefc84ac877744bf">DisplayFactInformation</a>();
<a name="l00603"></a>00603 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#1226312f6e8ab58191e28a59b16b1963">DisplaySectionLine</a>( );
<a name="l00604"></a>00604 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#630a36d9d8f33e330629380c1b935896">DisplayQuestList</a>();
<a name="l00605"></a>00605 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#d58930a75746c45397971169622da2c2">DisplayFactList</a>();
<a name="l00606"></a>00606 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#9c433953243fcc26aa34a77ef63af1eb">DisplayNPCInfo</a>();
<a name="l00607"></a>00607 <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>           <a class="code" href="Quest_01Debug_01System_8cpp.html#05daf318ed86fbd4275ec644bbd10943">CreateDestroyDisplaySelectNpcDropDownBox</a>( );
<a name="l00608"></a>00608 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#c7b6010f897a5b857c5b05431dfa9649">DrawQdsScrollRectangle</a>( );
<a name="l00609"></a>00609 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#c7c21b21d2980fdf71691236bfd4c187">CalcPositionOfNewScrollBoxLocation</a>();
<a name="l00610"></a>00610 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#eecc3d85df074960b8380661f10caf2e">DisplaySelectedListBox</a>( );
<a name="l00611"></a>00611 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#0f9fb4b867349fcd8ef6da0dcdd713ea">DisplaySelectedNPC</a>( );
<a name="l00612"></a>00612 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#bd08ff35a2aca10577a35b607726d531">DisplaySelectedItem</a>( );
<a name="l00613"></a>00613 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#36348cc8dab685c68466b733227bfaf2">TextEntryBox</a>( <a class="code" href="Types_8h.html#94ebfccc6e846c28751f8d616371f1e5">STR16</a> pString, <a class="code" href="Quest_01Debug_01System_8cpp.html#8218520cca4f0d3a0d7221f6a3b53469">TEXT_ENTRY_CALLBACK</a> TextEntryCallBack );
<a name="l00614"></a>00614 <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>           <a class="code" href="Quest_01Debug_01System_8cpp.html#02d3a0a41e0ebba38fa6c44372ce0927">CreateDestroyDisplayTextEntryBox</a>( <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubAction, <a class="code" href="Types_8h.html#94ebfccc6e846c28751f8d616371f1e5">STR16</a> pString, <a class="code" href="Quest_01Debug_01System_8cpp.html#8218520cca4f0d3a0d7221f6a3b53469">TEXT_ENTRY_CALLBACK</a> TextEntryCallBack );
<a name="l00615"></a>00615 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#bcfb5e6334e062794b648f295eeb17ca">InitQuestDebugTextInputBoxes</a>();
<a name="l00616"></a>00616 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#c02d776f3cd72ecb2b81b2f09986c06d">DestroyQuestDebugTextInputBoxes</a>();
<a name="l00617"></a>00617 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#8863fd98e75151afafb5f36eccc20606">AddNPCToGridNo</a>( <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iGridNo );
<a name="l00618"></a>00618 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#633350633614fc123c63a5ccf938dd60">AddItemToGridNo</a>( <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iGridNo );
<a name="l00619"></a>00619 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#44a1738d7be60bc3bdfc25d44c9c7423">StartMercTalkingFromQuoteNum</a>( <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iGridNo );
<a name="l00620"></a>00620 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#0b01e6b340e92c2b114a3339a4c16215">AddKeyToGridNo</a>( <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iGridNo );
<a name="l00621"></a>00621 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#f826e2c56302090e9180a357f2dabda1">ChangeDayNumber</a>( <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iDayToChangeTo );
<a name="l00622"></a>00622 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#4191217df1e4b34854428b9f2eabed1f">CreateDestroyDisplayNPCInventoryPopup</a>( <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubAction );
<a name="l00623"></a>00623 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#970409bc51ac493fe77db7814695daa8">AddNPCsInSectorToArray</a>();
<a name="l00624"></a>00624 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#d7fbb1c4b5052b25986c684e2f41eec7">ChangeQuestState</a>( <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iNumber );
<a name="l00625"></a>00625 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#f0369124cd89adc3433612e2dca40c59">ChangeFactState</a>( <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iNumber );
<a name="l00626"></a>00626 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#ed7e5548cbac4f876e449a56c95241a6">DisplayCurrentGridNo</a>();
<a name="l00627"></a>00627 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#43cd8ee8e8929ea5fb338665e2a0a319">EnableQDSButtons</a>();
<a name="l00628"></a>00628 
<a name="l00629"></a>00629 <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>                 <a class="code" href="Quest_01Debug_01System_8cpp.html#4d8824e6f939c86bac9e27aef76ae215">DoQDSMessageBox</a>( <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubStyle, <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> * zString, <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a> uiExitScreen, <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubFlags, <a class="code" href="MessageBoxScreen_8cpp.html#9227e34a11fa44eec4eaec54ef643d21">MSGBOX_CALLBACK</a> ReturnCallback );
<a name="l00630"></a>00630 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#8298a6a47684c694142199948fc4b17f">IncrementActiveDropDownBox</a>( <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sIncrementValue );
<a name="l00631"></a>00631 <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>             <a class="code" href="Quest_01Debug_01System_8cpp.html#fc31893574d6727e0d37d59f47b3066b">IsMercInTheSector</a>( <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usMercID );
<a name="l00632"></a>00632 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#1e84c83f7fcef8392324171910187183">RefreshAllNPCInventory</a>();
<a name="l00633"></a>00633 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#9baef8adcc504b54935d7ecd11234bda">SetQDSMercProfile</a>();
<a name="l00634"></a>00634 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#6ea6b67ad7fca1521d7da540fda6d435">HandleQDSTalkingMerc</a>();
<a name="l00635"></a>00635 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#ba867a985dca7f8c4ebcb3851ad93f1e">DisplayQDSCurrentlyQuoteNum</a>( );
<a name="l00636"></a>00636 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#2b25f673e16170e3772dbe5d6af4cd89">SetTalkingMercPauseState</a>( <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> fState );
<a name="l00637"></a>00637 <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>             <a class="code" href="Quest_01Debug_01System_8cpp.html#a8d1c4e2354fb381f23e64d6efd2bcf6">WhichPanelShouldTalkingMercUse</a>( );
<a name="l00638"></a>00638 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#3070e5c3e55894af03a9ca3703db5d56">EndMercTalking</a>();
<a name="l00639"></a>00639 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#ce3c931e6ad8c2268fa8152010032377">EnableFactMouseRegions</a>();
<a name="l00640"></a>00640 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#c032c8db3cd013a10ec3e7e2c16953b8">DisableFactMouseRegions</a>();
<a name="l00641"></a>00641 <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a>             <a class="code" href="Quest_01Debug_01System_8cpp.html#b8cc1a995358374ce1cfd340bf329c58">GetMaxNumberOfQuotesToPlay</a>( );
<a name="l00642"></a>00642 <span class="keywordtype">void</span>              <a class="code" href="Quest_01Debug_01System_8cpp.html#a3845eab0d232a38f3b055f308efb7ff">GetDebugLocationString</a>( <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usProfileID, <a class="code" href="Types_8h.html#94ebfccc6e846c28751f8d616371f1e5">STR16</a> pzText );
<a name="l00643"></a>00643 
<a name="l00644"></a>00644 <span class="comment">//ppp</span>
<a name="l00645"></a>00645 
<a name="l00646"></a>00646 
<a name="l00647"></a>00647 <span class="comment">//*******************************</span>
<a name="l00648"></a>00648 <span class="comment">//</span>
<a name="l00649"></a>00649 <span class="comment">//    Code</span>
<a name="l00650"></a>00650 <span class="comment">//</span>
<a name="l00651"></a>00651 <span class="comment">//*******************************</span>
<a name="l00652"></a>00652 
<a name="l00653"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#f77f3c959f1317b01028446fd18d56aa">00653</a> <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="jascreens_8h.html#3573b1f04e218e9f2cc60a9d0a8e35ab">QuestDebugScreenInit</a>()
<a name="l00654"></a>00654 {
<a name="l00655"></a>00655       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>      usListBoxFontHeight = <a class="code" href="Font_8cpp.html#35cddf34696d33489efb820caf968907">GetFontHeight</a>( QUEST_DBS_FONT_LISTBOX_TEXT ) + 2;
<a name="l00656"></a>00656 
<a name="l00657"></a>00657       <span class="comment">//Set so next time we come in, we can set up</span>
<a name="l00658"></a>00658       <a class="code" href="Quest_01Debug_01System_8cpp.html#d2c836f98df92d17548db902344fc258">gfQuestDebugEntry</a> = TRUE;
<a name="l00659"></a>00659       
<a name="l00660"></a>00660       <a class="code" href="Quest_01Debug_01System_8cpp.html#c236f04bbbfa90a51db3d139526ead95">gusQuestDebugBlue</a> = <a class="code" href="himage_8cpp.html#d29939ffcd39c7d1cc0a91222702d361">Get16BPPColor</a>( FROMRGB(  65,  79,  94 ) );
<a name="l00661"></a>00661 
<a name="l00662"></a>00662       <span class="comment">//Initialize which facts are at the top of the list</span>
<a name="l00663"></a>00663       <a class="code" href="Quest_01Debug_01System_8cpp.html#a6a552c95cdd51aa92acc43161859ab6">gusFactAtTopOfList</a> = 0;
<a name="l00664"></a>00664 
<a name="l00665"></a>00665       <a class="code" href="Quest_01Debug_01System_8cpp.html#5adde020f1e8631666f4388022c9202e">gubCurQuestSelected</a> = 0;
<a name="l00666"></a>00666       <a class="code" href="Quest_01Debug_01System_8cpp.html#416ff0556c709a6de4bc584d1d228311">gusCurFactSelected</a> = 0;
<a name="l00667"></a>00667 
<a name="l00668"></a>00668 
<a name="l00669"></a>00669 
<a name="l00670"></a>00670       <span class="comment">//</span>
<a name="l00671"></a>00671       <span class="comment">//Set the Npc List box</span>
<a name="l00672"></a>00672       <span class="comment">//</span>
<a name="l00673"></a>00673       memset( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>, 0, <span class="keyword">sizeof</span>( <a class="code" href="structSCROLL__BOX.html">SCROLL_BOX</a> ) );
<a name="l00674"></a>00674       <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#baa1a74a561a5f0d1c4494c4b2bb121a">DisplayFunction</a>                                             = <a class="code" href="Quest_01Debug_01System_8cpp.html#0f9fb4b867349fcd8ef6da0dcdd713ea">DisplaySelectedNPC</a>;                                                                           <span class="comment">//    The function to display the entries</span>
<a name="l00675"></a>00675 
<a name="l00676"></a>00676       <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#6f3452a7f1f4e9c80b5d30f87feb9246">usScrollPosX</a>                                                      = QUEST_DBS_SELECTED_NPC_BUTN_X;
<a name="l00677"></a>00677       <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#1581fa1c7e3ab83d3d84a6ffe7db6738">usScrollPosY</a>                                                      = QUEST_DBS_SELECTED_NPC_BUTN_Y + 25;
<a name="l00678"></a>00678       <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#c691135c59792f73f5a55c49908e4b7a">usScrollHeight</a>                                              = usListBoxFontHeight * QUEST_DBS_MAX_DISPLAYED_ENTRIES;
<a name="l00679"></a>00679       <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#7709cde08747319d0e9e558d6007fab5">usScrollWidth</a>                                                     = QUEST_DBS_LIST_BOX_WIDTH;
<a name="l00680"></a>00680       <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#5feec2b04bc344f3be381b6d5f2d494a">usScrollArrowHeight</a>                                   = QUEST_DBS_SCROLL_ARROW_HEIGHT;
<a name="l00681"></a>00681       <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#425c58a1a9717dd37087b7254231434e">usScrollBarHeight</a>                                     = <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#c691135c59792f73f5a55c49908e4b7a">usScrollHeight</a> - ( 2 * <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#5feec2b04bc344f3be381b6d5f2d494a">usScrollArrowHeight</a> );
<a name="l00682"></a>00682       <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#56907ccc250060088d8ee6a2d441d392">usScrollBarWidth</a>                                      = QUEST_DBS_SCROLL_BAR_WIDTH;
<a name="l00683"></a>00683       
<a name="l00684"></a>00684       <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a>                                      = -1;
<a name="l00685"></a>00685       <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">usItemDisplayedOnTopOfList</a>          = 0;<span class="comment">//FIRST_RPC;</span>
<a name="l00686"></a>00686       <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#1251664ccbeec622dcf990b4dae8fac7">usStartIndex</a>                                                      = 0;<span class="comment">//FIRST_RPC;</span>
<a name="l00687"></a>00687       <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#715672339dcfaceb5b2d4b96fcc32653">usMaxArrayIndex</a>                                             = NUM_PROFILES;
<a name="l00688"></a>00688       <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#83caaadedbcf85d6e042a0f32664b2ed">usNumDisplayedItems</a>                                   = QUEST_DBS_MAX_DISPLAYED_ENTRIES;
<a name="l00689"></a>00689       <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#5c7335f7d4612f5d750f8c52b2aff54d">usMaxNumDisplayedItems</a>                    = QUEST_DBS_MAX_DISPLAYED_ENTRIES;
<a name="l00690"></a>00690 
<a name="l00691"></a>00691       <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#3db938caea7bf117e178c5b018cc7eb6">ubCurScrollBoxAction</a>                            = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd0d0b45129a797d27de0a228453905361">QD_DROP_DOWN_NO_ACTION</a>;
<a name="l00692"></a>00692 
<a name="l00693"></a>00693 
<a name="l00694"></a>00694 
<a name="l00695"></a>00695       <span class="comment">//</span>
<a name="l00696"></a>00696       <span class="comment">//Set the Item List box</span>
<a name="l00697"></a>00697       <span class="comment">//</span>
<a name="l00698"></a>00698       memset( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#e35a36316db3497cff8cdefc0eca0493">gItemListBox</a>, 0, <span class="keyword">sizeof</span>( SCROLL_BOX ) );
<a name="l00699"></a>00699       <a class="code" href="Quest_01Debug_01System_8cpp.html#e35a36316db3497cff8cdefc0eca0493">gItemListBox</a>.<a class="code" href="structSCROLL__BOX.html#baa1a74a561a5f0d1c4494c4b2bb121a">DisplayFunction</a>                                                  = <a class="code" href="Quest_01Debug_01System_8cpp.html#bd08ff35a2aca10577a35b607726d531">DisplaySelectedItem</a>;                                                                          <span class="comment">//    The function to display the entries</span>
<a name="l00700"></a>00700 
<a name="l00701"></a>00701       <a class="code" href="Quest_01Debug_01System_8cpp.html#e35a36316db3497cff8cdefc0eca0493">gItemListBox</a>.<a class="code" href="structSCROLL__BOX.html#6f3452a7f1f4e9c80b5d30f87feb9246">usScrollPosX</a>                                                           = QUEST_DBS_SELECTED_ITEM_BUTN_X;
<a name="l00702"></a>00702       <a class="code" href="Quest_01Debug_01System_8cpp.html#e35a36316db3497cff8cdefc0eca0493">gItemListBox</a>.<a class="code" href="structSCROLL__BOX.html#1581fa1c7e3ab83d3d84a6ffe7db6738">usScrollPosY</a>                                                           = QUEST_DBS_SELECTED_ITEM_BUTN_Y + 25;
<a name="l00703"></a>00703       <a class="code" href="Quest_01Debug_01System_8cpp.html#e35a36316db3497cff8cdefc0eca0493">gItemListBox</a>.<a class="code" href="structSCROLL__BOX.html#c691135c59792f73f5a55c49908e4b7a">usScrollHeight</a>                                                   = usListBoxFontHeight * QUEST_DBS_MAX_DISPLAYED_ENTRIES;
<a name="l00704"></a>00704       <a class="code" href="Quest_01Debug_01System_8cpp.html#e35a36316db3497cff8cdefc0eca0493">gItemListBox</a>.<a class="code" href="structSCROLL__BOX.html#7709cde08747319d0e9e558d6007fab5">usScrollWidth</a>                                                    = QUEST_DBS_LIST_BOX_WIDTH;
<a name="l00705"></a>00705       <a class="code" href="Quest_01Debug_01System_8cpp.html#e35a36316db3497cff8cdefc0eca0493">gItemListBox</a>.<a class="code" href="structSCROLL__BOX.html#5feec2b04bc344f3be381b6d5f2d494a">usScrollArrowHeight</a>                                  = QUEST_DBS_SCROLL_ARROW_HEIGHT;
<a name="l00706"></a>00706       <a class="code" href="Quest_01Debug_01System_8cpp.html#e35a36316db3497cff8cdefc0eca0493">gItemListBox</a>.<a class="code" href="structSCROLL__BOX.html#425c58a1a9717dd37087b7254231434e">usScrollBarHeight</a>                                          = <a class="code" href="Quest_01Debug_01System_8cpp.html#e35a36316db3497cff8cdefc0eca0493">gItemListBox</a>.<a class="code" href="structSCROLL__BOX.html#c691135c59792f73f5a55c49908e4b7a">usScrollHeight</a> - ( 2 * <a class="code" href="Quest_01Debug_01System_8cpp.html#e35a36316db3497cff8cdefc0eca0493">gItemListBox</a>.<a class="code" href="structSCROLL__BOX.html#5feec2b04bc344f3be381b6d5f2d494a">usScrollArrowHeight</a> );
<a name="l00707"></a>00707       <a class="code" href="Quest_01Debug_01System_8cpp.html#e35a36316db3497cff8cdefc0eca0493">gItemListBox</a>.<a class="code" href="structSCROLL__BOX.html#56907ccc250060088d8ee6a2d441d392">usScrollBarWidth</a>                                           = QUEST_DBS_SCROLL_BAR_WIDTH;
<a name="l00708"></a>00708       
<a name="l00709"></a>00709       <a class="code" href="Quest_01Debug_01System_8cpp.html#e35a36316db3497cff8cdefc0eca0493">gItemListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a>                                     = -1;
<a name="l00710"></a>00710 
<a name="l00711"></a>00711       <a class="code" href="Quest_01Debug_01System_8cpp.html#e35a36316db3497cff8cdefc0eca0493">gItemListBox</a>.<a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">usItemDisplayedOnTopOfList</a>               = 1;
<a name="l00712"></a>00712       <a class="code" href="Quest_01Debug_01System_8cpp.html#e35a36316db3497cff8cdefc0eca0493">gItemListBox</a>.<a class="code" href="structSCROLL__BOX.html#1251664ccbeec622dcf990b4dae8fac7">usStartIndex</a>                                                           = 1;
<a name="l00713"></a>00713       <a class="code" href="Quest_01Debug_01System_8cpp.html#e35a36316db3497cff8cdefc0eca0493">gItemListBox</a>.<a class="code" href="structSCROLL__BOX.html#715672339dcfaceb5b2d4b96fcc32653">usMaxArrayIndex</a>                                            = <a class="code" href="Item_01Types_8h.html#572f9555da77e1b21f4cd40aed8d20f40efaf5227d3f780f8db037c71e3f903f">MAXITEMS</a>;
<a name="l00714"></a>00714       <a class="code" href="Quest_01Debug_01System_8cpp.html#e35a36316db3497cff8cdefc0eca0493">gItemListBox</a>.<a class="code" href="structSCROLL__BOX.html#83caaadedbcf85d6e042a0f32664b2ed">usNumDisplayedItems</a>                                  = QUEST_DBS_MAX_DISPLAYED_ENTRIES;
<a name="l00715"></a>00715       <a class="code" href="Quest_01Debug_01System_8cpp.html#e35a36316db3497cff8cdefc0eca0493">gItemListBox</a>.<a class="code" href="structSCROLL__BOX.html#5c7335f7d4612f5d750f8c52b2aff54d">usMaxNumDisplayedItems</a>                   = QUEST_DBS_MAX_DISPLAYED_ENTRIES;
<a name="l00716"></a>00716 
<a name="l00717"></a>00717       <a class="code" href="Quest_01Debug_01System_8cpp.html#e35a36316db3497cff8cdefc0eca0493">gItemListBox</a>.<a class="code" href="structSCROLL__BOX.html#3db938caea7bf117e178c5b018cc7eb6">ubCurScrollBoxAction</a>                                 = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd0d0b45129a797d27de0a228453905361">QD_DROP_DOWN_NO_ACTION</a>;
<a name="l00718"></a>00718 
<a name="l00719"></a>00719 
<a name="l00720"></a>00720       <a class="code" href="Quest_01Debug_01System_8cpp.html#0e7478a157d5003d7ee62ea44784d05a">gfUseLocalNPCs</a> = FALSE; 
<a name="l00721"></a>00721 
<a name="l00722"></a>00722 
<a name="l00723"></a>00723       <span class="comment">//Set up the global list box</span>
<a name="l00724"></a>00724       <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a> = &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>;
<a name="l00725"></a>00725 
<a name="l00726"></a>00726 
<a name="l00727"></a>00727 
<a name="l00728"></a>00728 
<a name="l00729"></a>00729       <span class="keywordflow">return</span>( TRUE );
<a name="l00730"></a>00730 }
<a name="l00731"></a>00731 
<a name="l00732"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#17c3f7d2423b3993b3af1d80c972385c">00732</a> <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="jascreens_8h.html#4c6b868c294577532a71c420149f243d">QuestDebugScreenHandle</a>()
<a name="l00733"></a>00733 {
<a name="l00734"></a>00734       <a class="code" href="video_8cpp.html#1ea7a707a9c4f1ce4e36edeb2b90711b">StartFrameBufferRender</a>();
<a name="l00735"></a>00735 
<a name="l00736"></a>00736       <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#d2c836f98df92d17548db902344fc258">gfQuestDebugEntry</a> )
<a name="l00737"></a>00737       {
<a name="l00738"></a>00738             <a class="code" href="Game_01Clock_8cpp.html#426aeef836203b725ffe02df6a9a9299">PauseGame</a>();
<a name="l00739"></a>00739 
<a name="l00740"></a>00740             <a class="code" href="Quest_01Debug_01System_8cpp.html#b9397e525e2c46d810b62ccfa69229c5">EnterQuestDebugSystem</a>();
<a name="l00741"></a>00741             <a class="code" href="Quest_01Debug_01System_8cpp.html#d2c836f98df92d17548db902344fc258">gfQuestDebugEntry</a> = FALSE;
<a name="l00742"></a>00742             <a class="code" href="Quest_01Debug_01System_8cpp.html#3dc1cbcb983a326486e2d31f161ca7ad">gfQuestDebugExit</a> = FALSE;
<a name="l00743"></a>00743 
<a name="l00744"></a>00744             <a class="code" href="Quest_01Debug_01System_8cpp.html#22a24ffcf9bd4cfa8663bdd170a00850">RenderQuestDebugSystem</a>();
<a name="l00745"></a>00745 
<a name="l00746"></a>00746             <span class="comment">//At this point the background is pure, copy it to the save buffer</span>
<a name="l00747"></a>00747             <a class="code" href="Render_01Dirty_8cpp.html#8be2dfedf23206c3c48200cc6279564f">BlitBufferToBuffer</a>( <a class="code" href="Interface_8cpp.html#b1f03a82938a7f565246d4c03d78ad03">guiRENDERBUFFER</a>, <a class="code" href="Map_01Screen_01Interface_8cpp.html#7d9956b05e9b87e244d4fdab6c4f71e4">guiSAVEBUFFER</a>, 0, 0, 639, 479 );
<a name="l00748"></a>00748 
<a name="l00749"></a>00749       }
<a name="l00750"></a>00750       <a class="code" href="Render_01Dirty_8cpp.html#bb373d7d895b90c4612402dfaa0b6f7a">RestoreBackgroundRects</a>();
<a name="l00751"></a>00751 
<a name="l00752"></a>00752       <span class="comment">// ATE: Disable messages....</span>
<a name="l00753"></a>00753       <a class="code" href="message_8cpp.html#f12795f94c1d328d34c619e8dd6921af">DisableScrollMessages</a>( );
<a name="l00754"></a>00754 
<a name="l00755"></a>00755       <a class="code" href="Quest_01Debug_01System_8cpp.html#eace0f626dd858840ecca5fa56b97bb2">GetUserInput</a>();
<a name="l00756"></a>00756 
<a name="l00757"></a>00757       <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#11a4cd1d2fb6e7985e7b97409238671b">gfTextEntryActive</a> || <a class="code" href="Quest_01Debug_01System_8cpp.html#5ea91ef3c648528165811e10ef9d8b59">gubTextEntryAction</a> )
<a name="l00758"></a>00758       {
<a name="l00759"></a>00759             <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#5ea91ef3c648528165811e10ef9d8b59">gubTextEntryAction</a> != <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd0d0b45129a797d27de0a228453905361">QD_DROP_DOWN_NO_ACTION</a> )
<a name="l00760"></a>00760             {
<a name="l00761"></a>00761                   <a class="code" href="Quest_01Debug_01System_8cpp.html#02d3a0a41e0ebba38fa6c44372ce0927">CreateDestroyDisplayTextEntryBox</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#5ea91ef3c648528165811e10ef9d8b59">gubTextEntryAction</a>, NULL, NULL );
<a name="l00762"></a>00762                   gubTextEntryAction = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd0d0b45129a797d27de0a228453905361">QD_DROP_DOWN_NO_ACTION</a>;
<a name="l00763"></a>00763             }
<a name="l00764"></a>00764 
<a name="l00765"></a>00765             <a class="code" href="Text_01Input_8cpp.html#1956083de1b05d735adeeb2579a2735c">RenderAllTextFields</a>();
<a name="l00766"></a>00766 
<a name="l00767"></a>00767       }
<a name="l00768"></a>00768       <span class="keywordflow">else</span>
<a name="l00769"></a>00769             <a class="code" href="Quest_01Debug_01System_8cpp.html#4d1a209d0a0a7f5da58ba7c3106360ff">HandleQuestDebugSystem</a>();
<a name="l00770"></a>00770 
<a name="l00771"></a>00771       <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#c125ac9b667b2cf718cda0f2afbb195a">gfRedrawQuestDebugSystem</a> )
<a name="l00772"></a>00772       {
<a name="l00773"></a>00773             <a class="code" href="Quest_01Debug_01System_8cpp.html#22a24ffcf9bd4cfa8663bdd170a00850">RenderQuestDebugSystem</a>();
<a name="l00774"></a>00774 
<a name="l00775"></a>00775             <a class="code" href="Quest_01Debug_01System_8cpp.html#c125ac9b667b2cf718cda0f2afbb195a">gfRedrawQuestDebugSystem</a> = FALSE;
<a name="l00776"></a>00776       }
<a name="l00777"></a>00777 
<a name="l00778"></a>00778       <span class="comment">//if the merc is supposed to be talking</span>
<a name="l00779"></a>00779       <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#f8b9e37597f9e3d0967fd2f80fe29896">giSelectedMercCurrentQuote</a> != -1 )
<a name="l00780"></a>00780       {
<a name="l00781"></a>00781             <span class="comment">//and it is an npc</span>
<a name="l00782"></a>00782             <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#a8d1c4e2354fb381f23e64d6efd2bcf6">WhichPanelShouldTalkingMercUse</a>( ) == <a class="code" href="Quest_01Debug_01System_8cpp.html#25f1c885c7f5230ea4c9bc48dde88fe1851a52a5d16dcd985fa5d13bc57b1816">QDS_NPC_PANEL</a> )
<a name="l00783"></a>00783             {
<a name="l00784"></a>00784                   <a class="code" href="Interface_01Dialogue_8cpp.html#96687692e3f323344c26cd8bc0e9dc38">gTalkPanel</a>.<a class="code" href="structNPC__DIALOGUE__TYPE.html#60d8a844696dac166d7d409f0dbfd3aa">fDirtyLevel</a> = DIRTYLEVEL2;
<a name="l00785"></a>00785                   <a class="code" href="Button_01System_8cpp.html#99f9e9d9b2c22bc0d2d8166c4bb2f353">ButtonList</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#947e48531d84da93d7d24219e72a2020">guiQDPgUpButtonButton</a> ]-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> |= BUTTON_FORCE_UNDIRTY;
<a name="l00786"></a>00786                   <a class="code" href="Interface_01Dialogue_8cpp.html#ad75e63ad3fbcf336ae9ee7d012b56f1">RenderTalkingMenu</a>( );
<a name="l00787"></a>00787             }
<a name="l00788"></a>00788       }
<a name="l00789"></a>00789 
<a name="l00790"></a>00790 
<a name="l00791"></a>00791       <span class="comment">// render buttons marked dirty      </span>
<a name="l00792"></a>00792       <a class="code" href="Button_01System_8cpp.html#d82e5028df813b9f64bea43abe59ea79">RenderButtons</a>( ); 
<a name="l00793"></a>00793 
<a name="l00794"></a>00794       <span class="comment">//To handle the dialog</span>
<a name="l00795"></a>00795       <a class="code" href="Dialogue_01Control_8cpp.html#944836c0addf8945aaa77cc8ec14aada">HandleDialogue</a>();
<a name="l00796"></a>00796       <a class="code" href="Faces_8cpp.html#8b6ccfed976e17f7d5b6559b804c8033">HandleAutoFaces</a>( );
<a name="l00797"></a>00797       <a class="code" href="Faces_8cpp.html#505d90482daac54fb4aa905009e49654">HandleTalkingAutoFaces</a>( );
<a name="l00798"></a>00798 
<a name="l00799"></a>00799       <a class="code" href="Render_01Dirty_8cpp.html#8a081a2a5654d035b2f4532ab5108a57">ExecuteVideoOverlays</a>();
<a name="l00800"></a>00800 
<a name="l00801"></a>00801       <a class="code" href="Render_01Dirty_8cpp.html#40e7fe3fa81110478902ebafec1d8483">SaveBackgroundRects</a>( );
<a name="l00802"></a>00802       <a class="code" href="Button_01System_8h.html#066d848d552923e144a162cf3e93a580">RenderButtonsFastHelp</a>();
<a name="l00803"></a>00803 
<a name="l00804"></a>00804       <a class="code" href="Render_01Dirty_8cpp.html#8db36a227ea1a41076c6dc7de2a28084">ExecuteBaseDirtyRectQueue</a>();
<a name="l00805"></a>00805       <a class="code" href="video_8cpp.html#cb214b937b77ff6e2f5f80a7fe45ea5a">EndFrameBufferRender</a>();
<a name="l00806"></a>00806 
<a name="l00807"></a>00807       <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#3dc1cbcb983a326486e2d31f161ca7ad">gfQuestDebugExit</a> )
<a name="l00808"></a>00808       {
<a name="l00809"></a>00809             <a class="code" href="Quest_01Debug_01System_8cpp.html#a68b69da7c49e62657860c79d53cd7de">ExitQuestDebugSystem</a>();
<a name="l00810"></a>00810             <a class="code" href="Quest_01Debug_01System_8cpp.html#3dc1cbcb983a326486e2d31f161ca7ad">gfQuestDebugExit</a> = FALSE;
<a name="l00811"></a>00811             <a class="code" href="Quest_01Debug_01System_8cpp.html#d2c836f98df92d17548db902344fc258">gfQuestDebugEntry</a> = TRUE;
<a name="l00812"></a>00812 
<a name="l00813"></a>00813             <a class="code" href="Game_01Clock_8cpp.html#de921a6d608034d1e9af613c36a39bf7">UnPauseGame</a>();
<a name="l00814"></a>00814             <span class="keywordflow">return</span>( <a class="code" href="screenids_8h.html#a4ee5dea8709d2b490486a62df77faf29873e16bc1530dedb416060abbeea6d0">GAME_SCREEN</a> );
<a name="l00815"></a>00815       }
<a name="l00816"></a>00816 
<a name="l00817"></a>00817       <span class="keywordflow">return</span>( <a class="code" href="screenids_8h.html#a4ee5dea8709d2b490486a62df77faf2938991f1775fa1057fe0745471762248">QUEST_DEBUG_SCREEN</a> );
<a name="l00818"></a>00818 }
<a name="l00819"></a>00819 
<a name="l00820"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#543a2bc792a0a1136e7df228ab38db69">00820</a> <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="jascreens_8h.html#c3a055dcd3b4d28a8dcdfb98a24d0402">QuestDebugScreenShutdown</a>()
<a name="l00821"></a>00821 {
<a name="l00822"></a>00822 
<a name="l00823"></a>00823       <span class="keywordflow">return</span>( TRUE );
<a name="l00824"></a>00824 }
<a name="l00825"></a>00825 
<a name="l00826"></a>00826 
<a name="l00827"></a>00827 
<a name="l00828"></a>00828 
<a name="l00829"></a>00829 
<a name="l00830"></a>00830 
<a name="l00831"></a>00831 
<a name="l00832"></a>00832 
<a name="l00833"></a>00833 
<a name="l00834"></a>00834 
<a name="l00835"></a>00835 
<a name="l00836"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#b9397e525e2c46d810b62ccfa69229c5">00836</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>     <a class="code" href="Quest_01Debug_01System_8cpp.html#b9397e525e2c46d810b62ccfa69229c5">EnterQuestDebugSystem</a>()
<a name="l00837"></a>00837 {
<a name="l00838"></a>00838       <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> i;
<a name="l00839"></a>00839       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usPosX, usPosY;
<a name="l00840"></a>00840       <span class="keywordtype">wchar_t</span>     zName[ 128 ];
<a name="l00841"></a>00841 <span class="comment">//    UINT16      usListBoxFontHeight = GetFontHeight( QUEST_DBS_FONT_LISTBOX_TEXT ) + 2;</span>
<a name="l00842"></a>00842 
<a name="l00843"></a>00843 
<a name="l00844"></a>00844 <span class="comment">//    UINT16      zItemName[ SIZE_ITEM_NAME ];</span>
<a name="l00845"></a>00845 <span class="comment">//    UINT16      zItemDesc[ SIZE_ITEM_INFO ];</span>
<a name="l00846"></a>00846 
<a name="l00847"></a>00847       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usFontHeight = <a class="code" href="Font_8cpp.html#35cddf34696d33489efb820caf968907">GetFontHeight</a>( QUEST_DBS_FONT_DYNAMIC_TEXT ) + 2;
<a name="l00848"></a>00848   <a class="code" href="structVOBJECT__DESC.html">VOBJECT_DESC</a>    VObjectDesc;
<a name="l00849"></a>00849 
<a name="l00850"></a>00850       <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#99f1fee32505439a1bfc01830568fab5">gfExitQdsDueToMessageBox</a> )
<a name="l00851"></a>00851       {
<a name="l00852"></a>00852             <a class="code" href="Quest_01Debug_01System_8cpp.html#c125ac9b667b2cf718cda0f2afbb195a">gfRedrawQuestDebugSystem</a> = TRUE;
<a name="l00853"></a>00853             <a class="code" href="Quest_01Debug_01System_8cpp.html#99f1fee32505439a1bfc01830568fab5">gfExitQdsDueToMessageBox</a> = FALSE;
<a name="l00854"></a>00854             <span class="keywordflow">return</span>( TRUE );
<a name="l00855"></a>00855       }
<a name="l00856"></a>00856 
<a name="l00857"></a>00857 
<a name="l00858"></a>00858       <a class="code" href="Quest_01Debug_01System_8cpp.html#d5a9fe77fbacb3dbe649b540c274b15f">QuestDebug_ExitTactical</a>();
<a name="l00859"></a>00859 
<a name="l00860"></a>00860       <a class="code" href="mousesystem_8cpp.html#dce08766ef4cbacb9372efe12d26a1e0">MSYS_DefineRegion</a>( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#719ad994af2d01cadc401f45d8874355">gQuestDebugSysScreenRegions</a>, 0, 0, <a class="code" href="local_8h.html#599adbe412c60e0cc5abb86be7ee4507">SCREEN_WIDTH</a>, <a class="code" href="local_8h.html#f1c710caf1e3a9e81829078054e83799">SCREEN_HEIGHT</a>, MSYS_PRIORITY_HIGH,
<a name="l00861"></a>00861                         <a class="code" href="Cursors_8h.html#5e184f913c35dbf305f3c369dee23e195f01e13f727403aee6675e3f0a61f63d">CURSOR_LAPTOP_SCREEN</a>, MSYS_NO_CALLBACK, MSYS_NO_CALLBACK ); 
<a name="l00862"></a>00862       <span class="comment">// Add region</span>
<a name="l00863"></a>00863       <a class="code" href="mousesystem_8cpp.html#d654da5fdc0c95350f4c40c17ed3933d">MSYS_AddRegion</a>( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#719ad994af2d01cadc401f45d8874355">gQuestDebugSysScreenRegions</a> );
<a name="l00864"></a>00864 
<a name="l00865"></a>00865 
<a name="l00866"></a>00866       <a class="code" href="Quest_01Debug_01System_8cpp.html#4c712edb1b4e63300117258664f5a769">guiQuestDebugExitButton</a> = 
<a name="l00867"></a>00867             <a class="code" href="Button_01System_8cpp.html#16393e47d05ca56c74fc5c61f889e3e5">CreateTextButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5a59d87d2d17e0a6c1b12a9a50710dca6">QUEST_DBS_EXIT_QUEST_DEBUG</a> ], QUEST_DBS_FONT_STATIC_TEXT, QUEST_DBS_COLOR_STATIC_TEXT, FONT_BLACK, BUTTON_USE_DEFAULT,
<a name="l00868"></a>00868             535, 450, 100, 25, BUTTON_TOGGLE, MSYS_PRIORITY_HIGH+10, BUTTON_NO_CALLBACK,
<a name="l00869"></a>00869             <a class="code" href="Quest_01Debug_01System_8cpp.html#3a60d0b2021c9ece179a6d99fee1e6e9">BtnQuestDebugExitButtonCallback</a> );
<a name="l00870"></a>00870 
<a name="l00871"></a>00871       <span class="comment">//Check box to toggle between all and local npc's</span>
<a name="l00872"></a>00872       <a class="code" href="Quest_01Debug_01System_8cpp.html#c0e294a72daf2ba0c99e606c7cdd1e54">guiQuestDebugAllOrSectorNPCToggle</a> = 
<a name="l00873"></a>00873             <a class="code" href="Button_01System_8cpp.html#c3a718bcaa4462199883f68bcf73cb53">CreateCheckBoxButton</a>(   QUEST_DBS_NPC_CHCKBOX_TGL_X, QUEST_DBS_NPC_CHCKBOX_TGL_Y, <span class="stringliteral">"INTERFACE\\checkbox.sti"</span>, MSYS_PRIORITY_HIGH+2, <a class="code" href="Quest_01Debug_01System_8cpp.html#75ae13c504e8618995515de249f0e5f3">BtnQuestDebugAllOrSectorNPCToggleCallback</a> );
<a name="l00874"></a>00874 <span class="comment">//    ButtonList[ iSummaryButton[ SUMMARY_PROGRESSCHECKBOX ] ]-&gt;uiFlags |= BUTTON_CLICKED_ON;</span>
<a name="l00875"></a>00875 
<a name="l00876"></a>00876 
<a name="l00877"></a>00877 
<a name="l00878"></a>00878       <span class="comment">//Currently Selected NPC button</span>
<a name="l00879"></a>00879       <a class="code" href="Quest_01Debug_01System_8cpp.html#7ad04426e1486995a59c3352ecde50ac">guiQuestDebugCurNPCButton</a> = 
<a name="l00880"></a>00880             <a class="code" href="Button_01System_8cpp.html#16393e47d05ca56c74fc5c61f889e3e5">CreateTextButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd563a780e3526dffcb83438094c6731ec4">QUEST_DBS_SELECTED_NPC</a> ], QUEST_DBS_FONT_STATIC_TEXT, QUEST_DBS_COLOR_STATIC_TEXT, FONT_BLACK, BUTTON_USE_DEFAULT,
<a name="l00881"></a>00881             QUEST_DBS_SELECTED_NPC_BUTN_X, QUEST_DBS_SELECTED_NPC_BUTN_Y, QUEST_DBS_LIST_BOX_WIDTH, QDS_BUTTON_HEIGHT, BUTTON_TOGGLE, MSYS_PRIORITY_HIGH+2, BUTTON_NO_CALLBACK,
<a name="l00882"></a>00882             <a class="code" href="Quest_01Debug_01System_8cpp.html#0ba64349e904ba2f3607efdfa729c435">BtnQuestDebugCurNPCButtonCallback</a> );
<a name="l00883"></a>00883 
<a name="l00884"></a>00884 
<a name="l00885"></a>00885 
<a name="l00886"></a>00886       <span class="comment">// Currently Selected item button</span>
<a name="l00887"></a>00887       <a class="code" href="Quest_01Debug_01System_8cpp.html#2cefb6f2685705b58756a10cd6c1ac16">guiQuestDebugCurItemButton</a> = 
<a name="l00888"></a>00888             <a class="code" href="Button_01System_8cpp.html#16393e47d05ca56c74fc5c61f889e3e5">CreateTextButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd50659e58e4dd510a8dc72592662d283d2">QUEST_DBS_SELECTED_ITEM</a> ], QUEST_DBS_FONT_STATIC_TEXT, QUEST_DBS_COLOR_STATIC_TEXT, FONT_BLACK, BUTTON_USE_DEFAULT,
<a name="l00889"></a>00889             QUEST_DBS_SELECTED_ITEM_BUTN_X, QUEST_DBS_SELECTED_ITEM_BUTN_Y, QUEST_DBS_LIST_BOX_WIDTH, QDS_BUTTON_HEIGHT, BUTTON_TOGGLE, MSYS_PRIORITY_HIGH+2, BUTTON_NO_CALLBACK,
<a name="l00890"></a>00890             <a class="code" href="Quest_01Debug_01System_8cpp.html#5fece11aa03839008306ca18de865e3a">BtnQuestDebugCurItemButtonCallback</a>);
<a name="l00891"></a>00891 
<a name="l00892"></a>00892       <span class="comment">// Add NPC to location</span>
<a name="l00893"></a>00893       <a class="code" href="Quest_01Debug_01System_8cpp.html#2cd41c59a860829919c29db0ba30231d">guiQuestDebugAddNpcToLocationButton</a> = 
<a name="l00894"></a>00894             <a class="code" href="Button_01System_8cpp.html#16393e47d05ca56c74fc5c61f889e3e5">CreateTextButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5cadb043c4dd1fe7cfe04efc2b302bb43">QUEST_DBS_ADD_CURRENT_NPC</a> ], QUEST_DBS_FONT_STATIC_TEXT, QUEST_DBS_COLOR_STATIC_TEXT, FONT_BLACK, BUTTON_USE_DEFAULT,
<a name="l00895"></a>00895             QUEST_DBS_ADD_NPC_BTN_X, QUEST_DBS_ADD_NPC_BTN_Y, QUEST_DBS_LIST_BOX_WIDTH, QDS_BUTTON_HEIGHT, BUTTON_TOGGLE, MSYS_PRIORITY_HIGH+2, BUTTON_NO_CALLBACK,
<a name="l00896"></a>00896             <a class="code" href="Quest_01Debug_01System_8cpp.html#3be3845856b98537620e2931fdc6fb02">BtnQuestDebugAddNpcToLocationButtonCallback</a>);
<a name="l00897"></a>00897 
<a name="l00898"></a>00898       <span class="comment">// Add item to location</span>
<a name="l00899"></a>00899       <a class="code" href="Quest_01Debug_01System_8cpp.html#e377364680a772afcc667204c7d531b0">guiQuestDebugAddItemToLocationButton</a> = 
<a name="l00900"></a>00900             <a class="code" href="Button_01System_8cpp.html#16393e47d05ca56c74fc5c61f889e3e5">CreateTextButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5b9d6dfbb93ea2c5fe28c9d720e243284">QUEST_DBS_ADD_CURRENT_ITEM</a> ], QUEST_DBS_FONT_STATIC_TEXT, QUEST_DBS_COLOR_STATIC_TEXT, FONT_BLACK, BUTTON_USE_DEFAULT,
<a name="l00901"></a>00901             QUEST_DBS_ADD_ITEM_BTN_X, QUEST_DBS_ADD_ITEM_BTN_Y, QUEST_DBS_LIST_BOX_WIDTH, QDS_BUTTON_HEIGHT, BUTTON_TOGGLE, MSYS_PRIORITY_HIGH+2, BUTTON_NO_CALLBACK,
<a name="l00902"></a>00902             <a class="code" href="Quest_01Debug_01System_8cpp.html#11a0d83a772a82c444775d6ca4da7efe">BtnQuestDebugAddItemToLocationButtonCallback</a>);
<a name="l00903"></a>00903 
<a name="l00904"></a>00904       <span class="comment">// Give item to Npc</span>
<a name="l00905"></a>00905       <a class="code" href="Quest_01Debug_01System_8cpp.html#ef5dfeb58cb2a53b4f77c63776c2e32e">guiQuestDebugGiveItemToNPCButton</a> = 
<a name="l00906"></a>00906             <a class="code" href="Button_01System_8cpp.html#16393e47d05ca56c74fc5c61f889e3e5">CreateTextButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5b0a2231e761359b86064af35d7aa21cd">QUEST_DBS_GIVE_ITEM_TO_NPC</a> ], QUEST_DBS_FONT_STATIC_TEXT, QUEST_DBS_COLOR_STATIC_TEXT, FONT_BLACK, BUTTON_USE_DEFAULT,
<a name="l00907"></a>00907             QUEST_DBS_GIVE_ITEM_TO_NPC_BTN_X, QUEST_DBS_GIVE_ITEM_TO_NPC_BTN_Y, QUEST_DBS_LIST_BOX_WIDTH, QDS_BUTTON_HEIGHT, BUTTON_TOGGLE, MSYS_PRIORITY_HIGH+2, BUTTON_NO_CALLBACK,
<a name="l00908"></a>00908             <a class="code" href="Quest_01Debug_01System_8cpp.html#7cb1f1a30921c18ff9af3e20e8e85b6b">BtnQuestDebugGiveItemToNPCButtonCallback</a>);
<a name="l00909"></a>00909 
<a name="l00910"></a>00910       <span class="comment">// Change Day </span>
<a name="l00911"></a>00911       <a class="code" href="Quest_01Debug_01System_8cpp.html#683fc4a13a7184a539809d54c07028f1">guiQuestDebugChangeDayButton</a> = 
<a name="l00912"></a>00912             <a class="code" href="Button_01System_8cpp.html#16393e47d05ca56c74fc5c61f889e3e5">CreateTextButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5d24c747497f301e5b0e65c97519897c1">QUEST_DBS_CHANGE_DAY</a> ], QUEST_DBS_FONT_STATIC_TEXT, QUEST_DBS_COLOR_STATIC_TEXT, FONT_BLACK, BUTTON_USE_DEFAULT,
<a name="l00913"></a>00913             QUEST_DBS_CHANGE_DAY_BTN_X, QUEST_DBS_CHANGE_DAY_BTN_Y, QUEST_DBS_LIST_BOX_WIDTH, QDS_BUTTON_HEIGHT, BUTTON_TOGGLE, MSYS_PRIORITY_HIGH+2, BUTTON_NO_CALLBACK,
<a name="l00914"></a>00914             <a class="code" href="Quest_01Debug_01System_8cpp.html#d9d449d5b73774304f79655e9e462893">BtnQuestDebugChangeDayButtonCallback</a> );
<a name="l00915"></a>00915 
<a name="l00916"></a>00916       <span class="comment">// View NPC Inventory</span>
<a name="l00917"></a>00917       <a class="code" href="Quest_01Debug_01System_8cpp.html#279c943e61d9ca197a4bde9d8fe79bd3">guiQuestDebugViewNPCInvButton</a> = 
<a name="l00918"></a>00918             <a class="code" href="Button_01System_8cpp.html#16393e47d05ca56c74fc5c61f889e3e5">CreateTextButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd57a72903589d2cae6eeef2449a05b8bd7">QUEST_DBS_VIEW_NPC_INVENTORY</a> ], QUEST_DBS_FONT_STATIC_TEXT, QUEST_DBS_COLOR_STATIC_TEXT, FONT_BLACK, BUTTON_USE_DEFAULT,
<a name="l00919"></a>00919             QUEST_DBS_VIEW_NPC_INV_BTN_X, QUEST_DBS_VIEW_NPC_INV_BTN_Y, QUEST_DBS_LIST_BOX_WIDTH, QDS_BUTTON_HEIGHT, BUTTON_TOGGLE, MSYS_PRIORITY_HIGH+2, BUTTON_NO_CALLBACK,
<a name="l00920"></a>00920             <a class="code" href="Quest_01Debug_01System_8cpp.html#a08f64911d6eb24e2c724b8c5a6a6320">BtnQuestDebugViewNPCInvButtonCallback</a> );
<a name="l00921"></a>00921 
<a name="l00922"></a>00922       <span class="comment">// Restore NPC Inventory</span>
<a name="l00923"></a>00923       <a class="code" href="Quest_01Debug_01System_8cpp.html#82fa91eaa6c3de81264c1fc7622f20b3">guiQuestDebugRestoreNPCInvButton</a> = 
<a name="l00924"></a>00924             <a class="code" href="Button_01System_8cpp.html#16393e47d05ca56c74fc5c61f889e3e5">CreateTextButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd546f11a88d7a49513be7a22126a19bdb9">QUEST_DBS_RESTORE_NPC_INVENTORY</a> ], QUEST_DBS_FONT_STATIC_TEXT, QUEST_DBS_COLOR_STATIC_TEXT, FONT_BLACK, BUTTON_USE_DEFAULT,
<a name="l00925"></a>00925             QUEST_DBS_RESTORE_NPC_INV_BTN_X, QUEST_DBS_RESTORE_NPC_INV_BTN_Y, QUEST_DBS_LIST_BOX_WIDTH, QDS_BUTTON_HEIGHT, BUTTON_TOGGLE, MSYS_PRIORITY_HIGH+2, BUTTON_NO_CALLBACK,
<a name="l00926"></a>00926             <a class="code" href="Quest_01Debug_01System_8cpp.html#28ce97eb96c3e9b45cc71cbedf65e5c2">BtnQuestDebugRestoreNPCInvButtonCallback</a> );
<a name="l00927"></a>00927 
<a name="l00928"></a>00928 
<a name="l00929"></a>00929       <span class="comment">// NPC log button </span>
<a name="l00930"></a>00930       swprintf( zName, L<span class="stringliteral">"%s - (%s)"</span>, <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd53f874cdcb30018c5ddec2902f7ab262c">QUEST_DBS_NPC_LOG_BUTTON</a> ], <a class="code" href="Quest_01Debug_01System_8cpp.html#7a63f7cece94dc1faec866f8155736b0">gfNpcLogButton</a> ? L<span class="stringliteral">"On"</span> : L<span class="stringliteral">"Off"</span>);
<a name="l00931"></a>00931       <a class="code" href="Quest_01Debug_01System_8cpp.html#aeda21c84111fefc34c2818fc15bf147">guiQuestDebugNPCLogButtonButton</a> = 
<a name="l00932"></a>00932             <a class="code" href="Button_01System_8cpp.html#16393e47d05ca56c74fc5c61f889e3e5">CreateTextButton</a>( zName, QUEST_DBS_FONT_STATIC_TEXT, QUEST_DBS_COLOR_STATIC_TEXT, FONT_BLACK, BUTTON_USE_DEFAULT,
<a name="l00933"></a>00933             QUEST_DBS_NPC_LOG_BTN_X, QUEST_DBS_NPC_LOG_BTN_Y, QUEST_DBS_LIST_BOX_WIDTH, QDS_BUTTON_HEIGHT, BUTTON_TOGGLE, MSYS_PRIORITY_HIGH+2, BUTTON_NO_CALLBACK,
<a name="l00934"></a>00934             <a class="code" href="Quest_01Debug_01System_8cpp.html#ffb2e89933ce68b664d42598d926b00e">BtnQuestDebugNPCLogButtonButtonCallback</a> );
<a name="l00935"></a>00935 
<a name="l00936"></a>00936       <a class="code" href="Quest_01Debug_01System_8cpp.html#b86bc3d6ce32759764670149c987c672">guiQuestDebugNPCRefreshButtonButton</a> = 
<a name="l00937"></a>00937             <a class="code" href="Button_01System_8cpp.html#16393e47d05ca56c74fc5c61f889e3e5">CreateTextButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd58b65de2c95a5411d08b9a2216603f5dd">QUEST_DBS_REFRESH_NPC</a> ], QUEST_DBS_FONT_STATIC_TEXT, QUEST_DBS_COLOR_STATIC_TEXT, FONT_BLACK, BUTTON_USE_DEFAULT,
<a name="l00938"></a>00938             QUEST_DBS_NPC_REFRESH_BTN_X, QUEST_DBS_NPC_REFRESH_BTN_Y, QUEST_DBS_LIST_BOX_WIDTH, QDS_BUTTON_HEIGHT, BUTTON_TOGGLE, MSYS_PRIORITY_HIGH+2, BUTTON_NO_CALLBACK,
<a name="l00939"></a>00939             <a class="code" href="Quest_01Debug_01System_8cpp.html#5f8c1356e44aeadcf99221530ca0be37">BtnQuestDebugNPCRefreshButtonButtonCallback</a> );
<a name="l00940"></a>00940 
<a name="l00941"></a>00941 
<a name="l00942"></a>00942       <span class="comment">//Start the selected merc talking</span>
<a name="l00943"></a>00943       <a class="code" href="Quest_01Debug_01System_8cpp.html#7de4de0f3c01b06f06fabc0c46c1f11e">guiQuestDebugStartMercTalkingButtonButton</a> = 
<a name="l00944"></a>00944             <a class="code" href="Button_01System_8cpp.html#16393e47d05ca56c74fc5c61f889e3e5">CreateTextButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd51bc46cedce82d6125a2a611f0a6e810d">QUEST_DBS_START_MERC_TALKING</a> ], QUEST_DBS_FONT_STATIC_TEXT, QUEST_DBS_COLOR_STATIC_TEXT, FONT_BLACK, BUTTON_USE_DEFAULT,
<a name="l00945"></a>00945             QUEST_DBS_START_MERC_TALKING_BTN_X, QUEST_DBS_START_MERC_TALKING_BTN_Y, QUEST_DBS_LIST_BOX_WIDTH, QDS_BUTTON_HEIGHT, BUTTON_TOGGLE, MSYS_PRIORITY_HIGH+2, BUTTON_NO_CALLBACK,
<a name="l00946"></a>00946             <a class="code" href="Quest_01Debug_01System_8cpp.html#d468ca3f9e21d7eba54b67499f3e15b4">BtnQuestDebugStartMercTalkingButtonButtonCallback</a> );
<a name="l00947"></a>00947 
<a name="l00948"></a>00948 
<a name="l00949"></a>00949 
<a name="l00950"></a>00950       <a class="code" href="Quest_01Debug_01System_8cpp.html#947e48531d84da93d7d24219e72a2020">guiQDPgUpButtonButton</a> = 
<a name="l00951"></a>00951             <a class="code" href="Button_01System_8cpp.html#16393e47d05ca56c74fc5c61f889e3e5">CreateTextButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5bcf86acd6936e51a7043bbdab4012504">QUEST_DBS_PG_FACTS_UP</a> ], QUEST_DBS_FONT_STATIC_TEXT, QUEST_DBS_COLOR_STATIC_TEXT, FONT_BLACK, BUTTON_USE_DEFAULT,
<a name="l00952"></a>00952             QUEST_DBS_SECOND_COL_NUMBER_X+5, QUEST_DBS_SECOND_COL_NUMBER_Y + QUEST_DBS_LIST_TEXT_OFFSET, QUEST_DBS_LIST_BOX_WIDTH, QDS_BUTTON_HEIGHT, BUTTON_TOGGLE, MSYS_PRIORITY_HIGH+2, BUTTON_NO_CALLBACK,
<a name="l00953"></a>00953             <a class="code" href="Quest_01Debug_01System_8cpp.html#8c71dc19ccab0c5da04eb15cf3baffd8">BtnQDPgUpButtonButtonCallback</a> );
<a name="l00954"></a>00954 
<a name="l00955"></a>00955 
<a name="l00956"></a>00956 
<a name="l00957"></a>00957       <a class="code" href="Quest_01Debug_01System_8cpp.html#76d1668926b892cf06c64efec5f8ac94">guiQDPgDownButtonButton</a> = 
<a name="l00958"></a>00958             <a class="code" href="Button_01System_8cpp.html#16393e47d05ca56c74fc5c61f889e3e5">CreateTextButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd57ebaf6f237d7f608571f3e8799f91336">QUEST_DBS_PG_FACTS_DOWN</a> ], QUEST_DBS_FONT_STATIC_TEXT, QUEST_DBS_COLOR_STATIC_TEXT, FONT_BLACK, BUTTON_USE_DEFAULT,
<a name="l00959"></a>00959             QUEST_DBS_SECOND_COL_NUMBER_X+5, QUEST_DBS_SECOND_COL_NUMBER_Y + 15 * QUEST_DBS_NUM_DISPLAYED_FACTS + QUEST_DBS_LIST_TEXT_OFFSET, QUEST_DBS_LIST_BOX_WIDTH, QDS_BUTTON_HEIGHT, BUTTON_TOGGLE, MSYS_PRIORITY_HIGH+2, BUTTON_NO_CALLBACK,
<a name="l00960"></a>00960             <a class="code" href="Quest_01Debug_01System_8cpp.html#5b3c3e4416bfbcd15024498173f4c516">BtnQDPgDownButtonButtonCallback</a> );
<a name="l00961"></a>00961 
<a name="l00962"></a>00962       
<a name="l00963"></a>00963       <span class="comment">//checkbox for weather to add the merc to the players team</span>
<a name="l00964"></a>00964       <a class="code" href="Quest_01Debug_01System_8cpp.html#d32da0fed654a7bef0b184324c5d1722">guiQuestDebugAddNpcToTeamToggle</a> = 
<a name="l00965"></a>00965             <a class="code" href="Button_01System_8cpp.html#c3a718bcaa4462199883f68bcf73cb53">CreateCheckBoxButton</a>(   QUEST_DBS_ADD_NPC_TO_TEAM_BTN_X, QUEST_DBS_ADD_NPC_TO_TEAM_BTN_Y, <span class="stringliteral">"INTERFACE\\checkbox.sti"</span>, MSYS_PRIORITY_HIGH+2, <a class="code" href="Quest_01Debug_01System_8cpp.html#c3c7754e9ed780af2fbd90080d67b103">BtnQuestDebugAddNpcToTeamToggleCallback</a> );
<a name="l00966"></a>00966       <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#5380ba59664879efb0e2272a7212975e">gfAddNpcToTeam</a> )
<a name="l00967"></a>00967             <a class="code" href="Button_01System_8cpp.html#99f9e9d9b2c22bc0d2d8166c4bb2f353">ButtonList</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#d32da0fed654a7bef0b184324c5d1722">guiQuestDebugAddNpcToTeamToggle</a> ]-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> |= BUTTON_CLICKED_ON;
<a name="l00968"></a>00968 
<a name="l00969"></a>00969 
<a name="l00970"></a>00970       <span class="comment">//checkbox for weather have rpc say the sector description</span>
<a name="l00971"></a>00971       <a class="code" href="Quest_01Debug_01System_8cpp.html#8efd78ca08a71b2a6a7e97dc6aff3b93">guiQuestDebugRPCSaySectorDescToggle</a> = 
<a name="l00972"></a>00972             <a class="code" href="Button_01System_8cpp.html#c3a718bcaa4462199883f68bcf73cb53">CreateCheckBoxButton</a>(   QUEST_DBS_RPC_TO_SAY_SECTOR_DESC_BTN_X, QUEST_DBS_RPC_TO_SAY_SECTOR_DESC_BTN_Y, <span class="stringliteral">"INTERFACE\\checkbox.sti"</span>, MSYS_PRIORITY_HIGH+2, <a class="code" href="Quest_01Debug_01System_8cpp.html#6334efffbeaed6c8ba8e11b9d5aba1e8">BtnQuestDebugRPCSaySectorDescToggleCallback</a> );
<a name="l00973"></a>00973       <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#7bf86b564617760f500ea5e8ed4aed60">gfRpcToSaySectorDesc</a> )
<a name="l00974"></a>00974             <a class="code" href="Button_01System_8cpp.html#99f9e9d9b2c22bc0d2d8166c4bb2f353">ButtonList</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#8efd78ca08a71b2a6a7e97dc6aff3b93">guiQuestDebugRPCSaySectorDescToggle</a> ]-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> |= BUTTON_CLICKED_ON;
<a name="l00975"></a>00975 
<a name="l00976"></a>00976 
<a name="l00977"></a>00977       <span class="comment">//Setup mouse regions for the Quest list</span>
<a name="l00978"></a>00978       usPosX = QUEST_DBS_FIRST_COL_NUMBER_X;
<a name="l00979"></a>00979       usPosY = QUEST_DBS_FIRST_COL_NUMBER_Y  + QUEST_DBS_LIST_TEXT_OFFSET;
<a name="l00980"></a>00980       <span class="keywordflow">for</span>( i=0; i&lt; QUEST_DBS_NUM_DISPLAYED_QUESTS; i++)
<a name="l00981"></a>00981       {
<a name="l00982"></a>00982             <a class="code" href="mousesystem_8cpp.html#dce08766ef4cbacb9372efe12d26a1e0">MSYS_DefineRegion</a>( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#313535ef32f11d78a1b59c5cbe1da258">gQuestListRegion</a>[ i ], usPosX, usPosY, (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)(usPosX+QUEST_DBS_FIRST_SECTION_WIDTH), (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)(usPosY+usFontHeight), MSYS_PRIORITY_HIGH+2,
<a name="l00983"></a>00983                               <a class="code" href="Cursors_8h.html#5e184f913c35dbf305f3c369dee23e193882c88cafa91aed5714f421f6957b19">CURSOR_WWW</a>, MSYS_NO_CALLBACK, <a class="code" href="Quest_01Debug_01System_8cpp.html#e81c1e385ee015ace18071eeee7ef13f">ScrollQuestListRegionCallBack</a> ); <span class="comment">//CURSOR_LAPTOP_SCREEN</span>
<a name="l00984"></a>00984             <span class="comment">// Add region</span>
<a name="l00985"></a>00985             <a class="code" href="mousesystem_8cpp.html#d654da5fdc0c95350f4c40c17ed3933d">MSYS_AddRegion</a>( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#313535ef32f11d78a1b59c5cbe1da258">gQuestListRegion</a>[ i ] );
<a name="l00986"></a>00986             <a class="code" href="mousesystem_8cpp.html#df7126cc1e28adba535e334e406d5c5e">MSYS_SetRegionUserData</a>( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#313535ef32f11d78a1b59c5cbe1da258">gQuestListRegion</a>[ i ], 0, i);
<a name="l00987"></a>00987 
<a name="l00988"></a>00988             usPosY += usFontHeight;
<a name="l00989"></a>00989       }
<a name="l00990"></a>00990 
<a name="l00991"></a>00991 
<a name="l00992"></a>00992       <span class="comment">//Setup mouse regions for the Fact lists</span>
<a name="l00993"></a>00993       usPosX = QUEST_DBS_SECOND_COL_NUMBER_X;
<a name="l00994"></a>00994       usPosY = QUEST_DBS_SECOND_COL_NUMBER_Y + QUEST_DBS_LIST_TEXT_OFFSET + QUEST_DBS_FACT_LIST_OFFSET;
<a name="l00995"></a>00995       <span class="keywordflow">for</span>( i=0; i&lt; QUEST_DBS_NUM_DISPLAYED_FACTS; i++)
<a name="l00996"></a>00996       {
<a name="l00997"></a>00997             <a class="code" href="mousesystem_8cpp.html#dce08766ef4cbacb9372efe12d26a1e0">MSYS_DefineRegion</a>( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#2f10d33af637a234fc4f6944717cba26">gFactListRegion</a>[ i ], usPosX, usPosY, (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)(usPosX+QUEST_DBS_SECOND_SECTION_WIDTH), (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)(usPosY+usFontHeight), MSYS_PRIORITY_HIGH+2,
<a name="l00998"></a>00998                               <a class="code" href="Cursors_8h.html#5e184f913c35dbf305f3c369dee23e193882c88cafa91aed5714f421f6957b19">CURSOR_WWW</a>, MSYS_NO_CALLBACK, <a class="code" href="Quest_01Debug_01System_8cpp.html#89fe8dd48c772edc16a268bb18dd47d9">ScrollFactListRegionCallBack</a> ); <span class="comment">//CURSOR_LAPTOP_SCREEN</span>
<a name="l00999"></a>00999             <span class="comment">// Add region</span>
<a name="l01000"></a>01000             <a class="code" href="mousesystem_8cpp.html#d654da5fdc0c95350f4c40c17ed3933d">MSYS_AddRegion</a>( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#2f10d33af637a234fc4f6944717cba26">gFactListRegion</a>[ i ] );
<a name="l01001"></a>01001             <a class="code" href="mousesystem_8cpp.html#df7126cc1e28adba535e334e406d5c5e">MSYS_SetRegionUserData</a>( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#2f10d33af637a234fc4f6944717cba26">gFactListRegion</a>[ i ], 0, i);
<a name="l01002"></a>01002 
<a name="l01003"></a>01003             usPosY += usFontHeight;
<a name="l01004"></a>01004       }
<a name="l01005"></a>01005 
<a name="l01006"></a>01006 
<a name="l01007"></a>01007       
<a name="l01008"></a>01008       <span class="comment">// load Scroll Horizontal Arrow graphic and add it</span>
<a name="l01009"></a>01009       VObjectDesc.<a class="code" href="structVOBJECT__DESC.html#2df21c3aa88a0442d5d81b021fa15bf4">fCreateFlags</a>=VOBJECT_CREATE_FROMFILE;
<a name="l01010"></a>01010       <a class="code" href="Utilities_8cpp.html#a5e70f75b6f0518668a489ce02e007b7">FilenameForBPP</a>(<span class="stringliteral">"INTERFACE\\Qd_ScrollArrows.sti"</span>, VObjectDesc.<a class="code" href="structVOBJECT__DESC.html#6dbe3d70c19525e407a05e537cfb22f3">ImageFile</a>);
<a name="l01011"></a>01011       CHECKF(AddVideoObject(&amp;VObjectDesc, &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#95ce8b83cdbfe6b351e297f66cecdc5f">guiQdScrollArrowImage</a>));
<a name="l01012"></a>01012 
<a name="l01013"></a>01013 
<a name="l01014"></a>01014       VObjectDesc.<a class="code" href="structVOBJECT__DESC.html#2df21c3aa88a0442d5d81b021fa15bf4">fCreateFlags</a> = VOBJECT_CREATE_FROMFILE;
<a name="l01015"></a>01015       <a class="code" href="Utilities_8cpp.html#a5e70f75b6f0518668a489ce02e007b7">FilenameForBPP</a>(<span class="stringliteral">"INTERFACE\\Bars.sti"</span>, VObjectDesc.<a class="code" href="structVOBJECT__DESC.html#6dbe3d70c19525e407a05e537cfb22f3">ImageFile</a>);
<a name="l01016"></a>01016       CHECKF( AddVideoObject( &amp;VObjectDesc, &amp;<a class="code" href="mapscreen_8cpp.html#9ec22e0df8213b2de4895dc157fd0114">guiBrownBackgroundForTeamPanel</a> ) );
<a name="l01017"></a>01017 
<a name="l01018"></a>01018 
<a name="l01019"></a>01019       <a class="code" href="Quest_01Debug_01System_8cpp.html#c125ac9b667b2cf718cda0f2afbb195a">gfRedrawQuestDebugSystem</a> = TRUE;
<a name="l01020"></a>01020 
<a name="l01021"></a>01021 
<a name="l01022"></a>01022 
<a name="l01023"></a>01023       <a class="code" href="Quest_01Debug_01System_8cpp.html#970409bc51ac493fe77db7814695daa8">AddNPCsInSectorToArray</a>();
<a name="l01024"></a>01024 
<a name="l01025"></a>01025       <span class="comment">//Remove the mouse region over the clock</span>
<a name="l01026"></a>01026       <a class="code" href="Game_01Clock_8cpp.html#f5e50d607198b08ac9e9c16ede05b0e3">RemoveMouseRegionForPauseOfClock</a>(  );
<a name="l01027"></a>01027 
<a name="l01028"></a>01028 
<a name="l01029"></a>01029       <span class="comment">//Disable the buttons the depend on a seleted item or npc</span>
<a name="l01030"></a>01030       <a class="code" href="Button_01System_8cpp.html#f47071abdc2fdbae8fae4688cedaddfc">DisableButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#2cd41c59a860829919c29db0ba30231d">guiQuestDebugAddNpcToLocationButton</a> );
<a name="l01031"></a>01031       <a class="code" href="Button_01System_8cpp.html#f47071abdc2fdbae8fae4688cedaddfc">DisableButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#7de4de0f3c01b06f06fabc0c46c1f11e">guiQuestDebugStartMercTalkingButtonButton</a> );
<a name="l01032"></a>01032       <a class="code" href="Button_01System_8cpp.html#f47071abdc2fdbae8fae4688cedaddfc">DisableButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#e377364680a772afcc667204c7d531b0">guiQuestDebugAddItemToLocationButton</a> );
<a name="l01033"></a>01033       <a class="code" href="Button_01System_8cpp.html#f47071abdc2fdbae8fae4688cedaddfc">DisableButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#ef5dfeb58cb2a53b4f77c63776c2e32e">guiQuestDebugGiveItemToNPCButton</a> );
<a name="l01034"></a>01034       <a class="code" href="Button_01System_8cpp.html#f47071abdc2fdbae8fae4688cedaddfc">DisableButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#279c943e61d9ca197a4bde9d8fe79bd3">guiQuestDebugViewNPCInvButton</a> );
<a name="l01035"></a>01035       <a class="code" href="Button_01System_8cpp.html#f47071abdc2fdbae8fae4688cedaddfc">DisableButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#aeda21c84111fefc34c2818fc15bf147">guiQuestDebugNPCLogButtonButton</a> );
<a name="l01036"></a>01036       <a class="code" href="Button_01System_8cpp.html#f47071abdc2fdbae8fae4688cedaddfc">DisableButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#b86bc3d6ce32759764670149c987c672">guiQuestDebugNPCRefreshButtonButton</a> );
<a name="l01037"></a>01037 
<a name="l01038"></a>01038 
<a name="l01039"></a>01039       <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#4e678f054d912bdf66c50b14adb72a74">giHaveSelectedNPC</a> != -1 )
<a name="l01040"></a>01040       {
<a name="l01041"></a>01041             <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>      zItemDesc[ SIZE_ITEM_INFO ];
<a name="l01042"></a>01042 
<a name="l01043"></a>01043             <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#0e7478a157d5003d7ee62ea44784d05a">gfUseLocalNPCs</a> )
<a name="l01044"></a>01044                   swprintf( zItemDesc, L<span class="stringliteral">"%d - %s"</span>, <a class="code" href="Quest_01Debug_01System_8cpp.html#6d22a033af1f12b11e6a60c97c1e54e7">gubCurrentNpcInSector</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#4e678f054d912bdf66c50b14adb72a74">giHaveSelectedNPC</a> ],  <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#6d22a033af1f12b11e6a60c97c1e54e7">gubCurrentNpcInSector</a>[ giHaveSelectedNPC ] ].zNickname );
<a name="l01045"></a>01045             <span class="keywordflow">else</span>
<a name="l01046"></a>01046                   swprintf( zItemDesc, L<span class="stringliteral">"%d - %s"</span>, giHaveSelectedNPC,  <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ giHaveSelectedNPC ].zNickname );
<a name="l01047"></a>01047             <a class="code" href="Button_01System_8cpp.html#927e98ae8d3535e396faf9ade7f5feb8">SpecifyButtonText</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#7ad04426e1486995a59c3352ecde50ac">guiQuestDebugCurNPCButton</a>, zItemDesc );
<a name="l01048"></a>01048 
<a name="l01049"></a>01049             <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> = (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)giHaveSelectedNPC;
<a name="l01050"></a>01050 
<a name="l01051"></a>01051             <a class="code" href="Quest_01Debug_01System_8cpp.html#43cd8ee8e8929ea5fb338665e2a0a319">EnableQDSButtons</a>();
<a name="l01052"></a>01052       }
<a name="l01053"></a>01053 
<a name="l01054"></a>01054       <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#d9333e5fb48a37bff10e43ec6db994a2">giHaveSelectedItem</a> != -1 )
<a name="l01055"></a>01055       {
<a name="l01056"></a>01056             <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>      zItemName[ SIZE_ITEM_NAME ];
<a name="l01057"></a>01057             <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>      zItemDesc[ SIZE_ITEM_INFO ];
<a name="l01058"></a>01058 
<a name="l01059"></a>01059             <a class="code" href="Sys_01Globals_8h.html#3d1e5716a3d04a53b8846319dd57da83">wcscpy</a>( zItemName, <a class="code" href="__DutchText_8cpp.html#1a6754089e322c2627f2dae5ac92f044">ShortItemNames</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#d9333e5fb48a37bff10e43ec6db994a2">giHaveSelectedItem</a> ] );
<a name="l01060"></a>01060 
<a name="l01061"></a>01061             swprintf( zItemDesc, L<span class="stringliteral">"%d - %s"</span>, giHaveSelectedItem, zItemName );
<a name="l01062"></a>01062             <a class="code" href="Button_01System_8cpp.html#927e98ae8d3535e396faf9ade7f5feb8">SpecifyButtonText</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#2cefb6f2685705b58756a10cd6c1ac16">guiQuestDebugCurItemButton</a>, zItemDesc );
<a name="l01063"></a>01063 
<a name="l01064"></a>01064             <a class="code" href="Quest_01Debug_01System_8cpp.html#e35a36316db3497cff8cdefc0eca0493">gItemListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> = (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)giHaveSelectedItem;
<a name="l01065"></a>01065 
<a name="l01066"></a>01066             <a class="code" href="Quest_01Debug_01System_8cpp.html#43cd8ee8e8929ea5fb338665e2a0a319">EnableQDSButtons</a>();
<a name="l01067"></a>01067       }
<a name="l01068"></a>01068 
<a name="l01069"></a>01069 
<a name="l01070"></a>01070       <span class="keywordflow">return</span>( TRUE );
<a name="l01071"></a>01071 }
<a name="l01072"></a>01072 
<a name="l01073"></a>01073 
<a name="l01074"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#a68b69da7c49e62657860c79d53cd7de">01074</a> <span class="keywordtype">void</span>        <a class="code" href="Quest_01Debug_01System_8cpp.html#a68b69da7c49e62657860c79d53cd7de">ExitQuestDebugSystem</a>()
<a name="l01075"></a>01075 {
<a name="l01076"></a>01076       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> i;
<a name="l01077"></a>01077 
<a name="l01078"></a>01078       <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#99f1fee32505439a1bfc01830568fab5">gfExitQdsDueToMessageBox</a> )
<a name="l01079"></a>01079       {
<a name="l01080"></a>01080             <span class="keywordflow">return</span>;
<a name="l01081"></a>01081       }
<a name="l01082"></a>01082   <a class="code" href="mousesystem_8cpp.html#f2581a6cadb531c87ebd6b3f5b70f258">MSYS_RemoveRegion</a>( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#719ad994af2d01cadc401f45d8874355">gQuestDebugSysScreenRegions</a> );
<a name="l01083"></a>01083       <a class="code" href="Quest_01Debug_01System_8cpp.html#7360162f93b8fdc1c352044e8efddb55">QuestDebug_EnterTactical</a>();
<a name="l01084"></a>01084 
<a name="l01085"></a>01085       <a class="code" href="Button_01System_8cpp.html#daa181fdf3d05f2242b5d9cbeb91e9bf">RemoveButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#4c712edb1b4e63300117258664f5a769">guiQuestDebugExitButton</a> );
<a name="l01086"></a>01086 
<a name="l01087"></a>01087       <a class="code" href="Button_01System_8cpp.html#daa181fdf3d05f2242b5d9cbeb91e9bf">RemoveButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#7ad04426e1486995a59c3352ecde50ac">guiQuestDebugCurNPCButton</a> );
<a name="l01088"></a>01088       <a class="code" href="Button_01System_8cpp.html#daa181fdf3d05f2242b5d9cbeb91e9bf">RemoveButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#2cefb6f2685705b58756a10cd6c1ac16">guiQuestDebugCurItemButton</a> );
<a name="l01089"></a>01089       <a class="code" href="Button_01System_8cpp.html#daa181fdf3d05f2242b5d9cbeb91e9bf">RemoveButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#2cd41c59a860829919c29db0ba30231d">guiQuestDebugAddNpcToLocationButton</a> );
<a name="l01090"></a>01090       <a class="code" href="Button_01System_8cpp.html#daa181fdf3d05f2242b5d9cbeb91e9bf">RemoveButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#e377364680a772afcc667204c7d531b0">guiQuestDebugAddItemToLocationButton</a> );
<a name="l01091"></a>01091       <a class="code" href="Button_01System_8cpp.html#daa181fdf3d05f2242b5d9cbeb91e9bf">RemoveButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#683fc4a13a7184a539809d54c07028f1">guiQuestDebugChangeDayButton</a> );
<a name="l01092"></a>01092       <a class="code" href="Button_01System_8cpp.html#daa181fdf3d05f2242b5d9cbeb91e9bf">RemoveButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#aeda21c84111fefc34c2818fc15bf147">guiQuestDebugNPCLogButtonButton</a> );
<a name="l01093"></a>01093       <a class="code" href="Button_01System_8cpp.html#daa181fdf3d05f2242b5d9cbeb91e9bf">RemoveButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#ef5dfeb58cb2a53b4f77c63776c2e32e">guiQuestDebugGiveItemToNPCButton</a> );
<a name="l01094"></a>01094       <a class="code" href="Button_01System_8cpp.html#daa181fdf3d05f2242b5d9cbeb91e9bf">RemoveButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#279c943e61d9ca197a4bde9d8fe79bd3">guiQuestDebugViewNPCInvButton</a> );
<a name="l01095"></a>01095       <a class="code" href="Button_01System_8cpp.html#daa181fdf3d05f2242b5d9cbeb91e9bf">RemoveButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#82fa91eaa6c3de81264c1fc7622f20b3">guiQuestDebugRestoreNPCInvButton</a> );
<a name="l01096"></a>01096       <a class="code" href="Button_01System_8cpp.html#daa181fdf3d05f2242b5d9cbeb91e9bf">RemoveButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#c0e294a72daf2ba0c99e606c7cdd1e54">guiQuestDebugAllOrSectorNPCToggle</a> );
<a name="l01097"></a>01097       <a class="code" href="Button_01System_8cpp.html#daa181fdf3d05f2242b5d9cbeb91e9bf">RemoveButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#b86bc3d6ce32759764670149c987c672">guiQuestDebugNPCRefreshButtonButton</a> );
<a name="l01098"></a>01098       <a class="code" href="Button_01System_8cpp.html#daa181fdf3d05f2242b5d9cbeb91e9bf">RemoveButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#7de4de0f3c01b06f06fabc0c46c1f11e">guiQuestDebugStartMercTalkingButtonButton</a> );
<a name="l01099"></a>01099       <a class="code" href="Button_01System_8cpp.html#daa181fdf3d05f2242b5d9cbeb91e9bf">RemoveButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#d32da0fed654a7bef0b184324c5d1722">guiQuestDebugAddNpcToTeamToggle</a> );
<a name="l01100"></a>01100       <a class="code" href="Button_01System_8cpp.html#daa181fdf3d05f2242b5d9cbeb91e9bf">RemoveButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#8efd78ca08a71b2a6a7e97dc6aff3b93">guiQuestDebugRPCSaySectorDescToggle</a> );
<a name="l01101"></a>01101 
<a name="l01102"></a>01102 
<a name="l01103"></a>01103 
<a name="l01104"></a>01104       <a class="code" href="Button_01System_8cpp.html#daa181fdf3d05f2242b5d9cbeb91e9bf">RemoveButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#947e48531d84da93d7d24219e72a2020">guiQDPgUpButtonButton</a> );
<a name="l01105"></a>01105       <a class="code" href="Button_01System_8cpp.html#daa181fdf3d05f2242b5d9cbeb91e9bf">RemoveButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#76d1668926b892cf06c64efec5f8ac94">guiQDPgDownButtonButton</a> );
<a name="l01106"></a>01106 
<a name="l01107"></a>01107 
<a name="l01108"></a>01108 
<a name="l01109"></a>01109       <a class="code" href="vobject_8cpp.html#94715e750fad7cebd3d9d388cdff59e2">DeleteVideoObjectFromIndex</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#95ce8b83cdbfe6b351e297f66cecdc5f">guiQdScrollArrowImage</a> );
<a name="l01110"></a>01110 
<a name="l01111"></a>01111 
<a name="l01112"></a>01112 <span class="comment">//    DeleteVideoObjectFromIndex( guiBrownBackgroundForTeamPanel );</span>
<a name="l01113"></a>01113 
<a name="l01114"></a>01114       <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#3db938caea7bf117e178c5b018cc7eb6">ubCurScrollBoxAction</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbdebfaf2b25c7edf4f76d41cf99805783b">QD_DROP_DOWN_DESTROY</a>;
<a name="l01115"></a>01115       <a class="code" href="Quest_01Debug_01System_8cpp.html#05daf318ed86fbd4275ec644bbd10943">CreateDestroyDisplaySelectNpcDropDownBox</a>();
<a name="l01116"></a>01116       <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#3db938caea7bf117e178c5b018cc7eb6">ubCurScrollBoxAction</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd0d0b45129a797d27de0a228453905361">QD_DROP_DOWN_NO_ACTION</a>;
<a name="l01117"></a>01117 
<a name="l01118"></a>01118       <span class="comment">//Remove the quest list mouse regions</span>
<a name="l01119"></a>01119       <span class="keywordflow">for</span>( i=0; i&lt; QUEST_DBS_NUM_DISPLAYED_QUESTS; i++)
<a name="l01120"></a>01120             <a class="code" href="mousesystem_8cpp.html#f2581a6cadb531c87ebd6b3f5b70f258">MSYS_RemoveRegion</a>( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#313535ef32f11d78a1b59c5cbe1da258">gQuestListRegion</a>[ i ] );
<a name="l01121"></a>01121 
<a name="l01122"></a>01122       <span class="comment">//Remove the fact list mouse regions</span>
<a name="l01123"></a>01123       <span class="keywordflow">for</span>( i=0; i&lt; QUEST_DBS_NUM_DISPLAYED_FACTS; i++)
<a name="l01124"></a>01124             <a class="code" href="mousesystem_8cpp.html#f2581a6cadb531c87ebd6b3f5b70f258">MSYS_RemoveRegion</a>( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#2f10d33af637a234fc4f6944717cba26">gFactListRegion</a>[ i ] );
<a name="l01125"></a>01125 
<a name="l01126"></a>01126 
<a name="l01127"></a>01127       <span class="comment">//Create the clock mouse region</span>
<a name="l01128"></a>01128       <a class="code" href="Game_01Clock_8cpp.html#1f3119c3167315036f4bbdc5fde6c24d">CreateMouseRegionForPauseOfClock</a>( CLOCK_REGION_START_X, CLOCK_REGION_START_Y );
<a name="l01129"></a>01129 
<a name="l01130"></a>01130       <a class="code" href="Quest_01Debug_01System_8cpp.html#4e678f054d912bdf66c50b14adb72a74">giHaveSelectedNPC</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a>;
<a name="l01131"></a>01131       <a class="code" href="Quest_01Debug_01System_8cpp.html#d9333e5fb48a37bff10e43ec6db994a2">giHaveSelectedItem</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#e35a36316db3497cff8cdefc0eca0493">gItemListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a>;
<a name="l01132"></a>01132 
<a name="l01133"></a>01133       <a class="code" href="Quest_01Debug_01System_8cpp.html#3070e5c3e55894af03a9ca3703db5d56">EndMercTalking</a>();
<a name="l01134"></a>01134 
<a name="l01135"></a>01135       <a class="code" href="Quest_01Debug_01System_8cpp.html#f8b9e37597f9e3d0967fd2f80fe29896">giSelectedMercCurrentQuote</a> = -1;
<a name="l01136"></a>01136 }
<a name="l01137"></a>01137 
<a name="l01138"></a>01138 
<a name="l01139"></a>01139 
<a name="l01140"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#4d1a209d0a0a7f5da58ba7c3106360ff">01140</a> <span class="keywordtype">void</span>        <a class="code" href="Quest_01Debug_01System_8cpp.html#4d1a209d0a0a7f5da58ba7c3106360ff">HandleQuestDebugSystem</a>()
<a name="l01141"></a>01141 {
<a name="l01142"></a>01142       <a class="code" href="Types_8h.html#fcdf88c1d4179fcd6d8a1fa9bbcb8a80">CHAR16</a>      zTemp[512];
<a name="l01143"></a>01143 
<a name="l01144"></a>01144       <span class="comment">//hhh</span>
<a name="l01145"></a>01145 
<a name="l01146"></a>01146 
<a name="l01147"></a>01147       <a class="code" href="Quest_01Debug_01System_8cpp.html#6ea6b67ad7fca1521d7da540fda6d435">HandleQDSTalkingMerc</a>();
<a name="l01148"></a>01148 
<a name="l01149"></a>01149 
<a name="l01150"></a>01150 <span class="comment">//    if( !gfTextEntryActive )</span>
<a name="l01151"></a>01151       <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#5ea91ef3c648528165811e10ef9d8b59">gubTextEntryAction</a> != <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd0d0b45129a797d27de0a228453905361">QD_DROP_DOWN_NO_ACTION</a> )
<a name="l01152"></a>01152       {
<a name="l01153"></a>01153 
<a name="l01154"></a>01154       }
<a name="l01155"></a>01155 
<a name="l01156"></a>01156       <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#3db938caea7bf117e178c5b018cc7eb6">ubCurScrollBoxAction</a> != <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd0d0b45129a797d27de0a228453905361">QD_DROP_DOWN_NO_ACTION</a> )
<a name="l01157"></a>01157       {
<a name="l01158"></a>01158             <a class="code" href="Quest_01Debug_01System_8cpp.html#05daf318ed86fbd4275ec644bbd10943">CreateDestroyDisplaySelectNpcDropDownBox</a>( );
<a name="l01159"></a>01159 
<a name="l01160"></a>01160             <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#3db938caea7bf117e178c5b018cc7eb6">ubCurScrollBoxAction</a> == <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd82d1cfe78d6f8f5a01a85b6eb2bd9d03">QD_DROP_DOWN_CREATE</a> )
<a name="l01161"></a>01161                   <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#3db938caea7bf117e178c5b018cc7eb6">ubCurScrollBoxAction</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd8591bda8e913b81be08b95dc51522445">QD_DROP_DOWN_DISPLAY</a>;
<a name="l01162"></a>01162             <span class="keywordflow">else</span>
<a name="l01163"></a>01163                   <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#3db938caea7bf117e178c5b018cc7eb6">ubCurScrollBoxAction</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd0d0b45129a797d27de0a228453905361">QD_DROP_DOWN_NO_ACTION</a>;
<a name="l01164"></a>01164       }
<a name="l01165"></a>01165 
<a name="l01166"></a>01166       <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#02b9a964a99548ea3561720ebd825afe">gubNPCInventoryPopupAction</a> != <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd0d0b45129a797d27de0a228453905361">QD_DROP_DOWN_NO_ACTION</a> )
<a name="l01167"></a>01167       {
<a name="l01168"></a>01168             <a class="code" href="Quest_01Debug_01System_8cpp.html#4191217df1e4b34854428b9f2eabed1f">CreateDestroyDisplayNPCInventoryPopup</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#02b9a964a99548ea3561720ebd825afe">gubNPCInventoryPopupAction</a> );
<a name="l01169"></a>01169 
<a name="l01170"></a>01170             <span class="keywordflow">if</span>( gubNPCInventoryPopupAction == <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd82d1cfe78d6f8f5a01a85b6eb2bd9d03">QD_DROP_DOWN_CREATE</a> )
<a name="l01171"></a>01171                   gubNPCInventoryPopupAction = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd8591bda8e913b81be08b95dc51522445">QD_DROP_DOWN_DISPLAY</a>;
<a name="l01172"></a>01172             <span class="keywordflow">else</span>
<a name="l01173"></a>01173                   gubNPCInventoryPopupAction = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd0d0b45129a797d27de0a228453905361">QD_DROP_DOWN_NO_ACTION</a>;
<a name="l01174"></a>01174       }
<a name="l01175"></a>01175 
<a name="l01176"></a>01176       <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#67d5f23a40d5cc444d179ac5cc16626f">gfAddKeyNextPass</a> )
<a name="l01177"></a>01177       {
<a name="l01178"></a>01178             swprintf( zTemp, L<span class="stringliteral">"  Please enter the Keys ID. ( 0 - %d )"</span>, NUM_KEYS );
<a name="l01179"></a>01179             <a class="code" href="Quest_01Debug_01System_8cpp.html#36348cc8dab685c68466b733227bfaf2">TextEntryBox</a>( zTemp, <a class="code" href="Quest_01Debug_01System_8cpp.html#0b01e6b340e92c2b114a3339a4c16215">AddKeyToGridNo</a> );
<a name="l01180"></a>01180             <a class="code" href="Quest_01Debug_01System_8cpp.html#67d5f23a40d5cc444d179ac5cc16626f">gfAddKeyNextPass</a> = FALSE;
<a name="l01181"></a>01181       }
<a name="l01182"></a>01182 
<a name="l01183"></a>01183 }
<a name="l01184"></a>01184 
<a name="l01185"></a>01185 
<a name="l01186"></a>01186 
<a name="l01187"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#22a24ffcf9bd4cfa8663bdd170a00850">01187</a> <span class="keywordtype">void</span>        <a class="code" href="Quest_01Debug_01System_8cpp.html#22a24ffcf9bd4cfa8663bdd170a00850">RenderQuestDebugSystem</a>()
<a name="l01188"></a>01188 {
<a name="l01189"></a>01189       <a class="code" href="Quest_01Debug_01System_8cpp.html#2ef0d0d502e4b19961d864aa81b5e7bb">ColorFillQuestDebugScreenScreen</a>( 0, 0, <a class="code" href="local_8h.html#599adbe412c60e0cc5abb86be7ee4507">SCREEN_WIDTH</a>, <a class="code" href="local_8h.html#f1c710caf1e3a9e81829078054e83799">SCREEN_HEIGHT</a> );
<a name="l01190"></a>01190 
<a name="l01191"></a>01191       <span class="comment">//display the title     </span>
<a name="l01192"></a>01192       <a class="code" href="WordWrap_8cpp.html#b17ac632920394af93f027727a77ea4e">DisplayWrappedString</a>( 0, 5, 640, 2, QUEST_DBS_FONT_TITLE, QUEST_DBS_COLOR_TITLE, <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd50732b5b3b56e4e5647f3b7ba71d20d24">QUEST_DBS_TITLE</a>], FONT_MCOLOR_BLACK, FALSE, CENTER_JUSTIFIED     );
<a name="l01193"></a>01193 
<a name="l01194"></a>01194 
<a name="l01195"></a>01195       <span class="comment">//Display vertical lines b/n sections</span>
<a name="l01196"></a>01196       <a class="code" href="Quest_01Debug_01System_8cpp.html#1226312f6e8ab58191e28a59b16b1963">DisplaySectionLine</a>( );
<a name="l01197"></a>01197 
<a name="l01198"></a>01198 
<a name="l01199"></a>01199       <span class="comment">//Display the Quest Text</span>
<a name="l01200"></a>01200       <a class="code" href="Quest_01Debug_01System_8cpp.html#7c94653fb8990103a91cabeb4da2a111">DisplayQuestInformation</a>();
<a name="l01201"></a>01201 
<a name="l01202"></a>01202       <span class="comment">//Display the Fact Text</span>
<a name="l01203"></a>01203       <a class="code" href="Quest_01Debug_01System_8cpp.html#395b5b4e17d4e32acefc84ac877744bf">DisplayFactInformation</a>();
<a name="l01204"></a>01204 
<a name="l01205"></a>01205       <span class="comment">//Display the list of quests</span>
<a name="l01206"></a>01206       <a class="code" href="Quest_01Debug_01System_8cpp.html#630a36d9d8f33e330629380c1b935896">DisplayQuestList</a>();
<a name="l01207"></a>01207 
<a name="l01208"></a>01208       <span class="comment">//Display the list of tasks</span>
<a name="l01209"></a>01209       <a class="code" href="Quest_01Debug_01System_8cpp.html#d58930a75746c45397971169622da2c2">DisplayFactList</a>();
<a name="l01210"></a>01210 
<a name="l01211"></a>01211       <span class="comment">//Display the NPC and Item info</span>
<a name="l01212"></a>01212       <a class="code" href="Quest_01Debug_01System_8cpp.html#9c433953243fcc26aa34a77ef63af1eb">DisplayNPCInfo</a>();
<a name="l01213"></a>01213 
<a name="l01214"></a>01214       <span class="comment">//Display the text beside the NPC in current sector toggle box</span>
<a name="l01215"></a>01215       <a class="code" href="WordWrap_8cpp.html#64f08dc42335055ef4c534d4f99ea5c8">DrawTextToScreen</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5132fae9f958004065f29538209c4a268">QUEST_DBS_VIEW_LOCAL_NPC</a> ], QUEST_DBS_NPC_CHCKBOX_TGL_X + 25, QUEST_DBS_NPC_CHCKBOX_TGL_Y+1, QUEST_DBS_NUMBER_COL_WIDTH, QUEST_DBS_FONT_DYNAMIC_TEXT, QUEST_DBS_COLOR_DYNAMIC_TEXT, FONT_MCOLOR_BLACK, FALSE, LEFT_JUSTIFIED    );                
<a name="l01216"></a>01216 
<a name="l01217"></a>01217       <span class="comment">//Display the text beside the add npc to team toggle box</span>
<a name="l01218"></a>01218       <a class="code" href="WordWrap_8cpp.html#64f08dc42335055ef4c534d4f99ea5c8">DrawTextToScreen</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5b6f8a1c809603feebd9b4ad69f020818">QUEST_DBS_ADD_NPC_TO_TEAM</a> ], QUEST_DBS_NPC_CHCKBOX_TGL_X + 25, QUEST_DBS_ADD_NPC_TO_TEAM_BTN_Y+1, QUEST_DBS_NUMBER_COL_WIDTH, QUEST_DBS_FONT_DYNAMIC_TEXT, QUEST_DBS_COLOR_DYNAMIC_TEXT, FONT_MCOLOR_BLACK, FALSE, LEFT_JUSTIFIED     );                
<a name="l01219"></a>01219 
<a name="l01220"></a>01220       <span class="comment">//Display the text beside the rpc say sector desc quotes</span>
<a name="l01221"></a>01221       <a class="code" href="WordWrap_8cpp.html#64f08dc42335055ef4c534d4f99ea5c8">DrawTextToScreen</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd51d65368101fddaf7f76a80eb1c1b122f">QUEST_DBS_RPC_SAY_SECTOR_DESC</a> ], QUEST_DBS_NPC_CHCKBOX_TGL_X + 25, QUEST_DBS_RPC_TO_SAY_SECTOR_DESC_BTN_Y, QUEST_DBS_NUMBER_COL_WIDTH, QUEST_DBS_FONT_DYNAMIC_TEXT, QUEST_DBS_COLOR_DYNAMIC_TEXT, FONT_MCOLOR_BLACK, FALSE, LEFT_JUSTIFIED  );                
<a name="l01222"></a>01222 
<a name="l01223"></a>01223 
<a name="l01224"></a>01224       <a class="code" href="Quest_01Debug_01System_8cpp.html#ed7e5548cbac4f876e449a56c95241a6">DisplayCurrentGridNo</a>();
<a name="l01225"></a>01225 <span class="comment">//rr</span>
<a name="l01226"></a>01226 
<a name="l01227"></a>01227       <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#11a4cd1d2fb6e7985e7b97409238671b">gfTextEntryActive</a> )
<a name="l01228"></a>01228       {
<a name="l01229"></a>01229             <a class="code" href="Quest_01Debug_01System_8cpp.html#5ea91ef3c648528165811e10ef9d8b59">gubTextEntryAction</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd8591bda8e913b81be08b95dc51522445">QD_DROP_DOWN_DISPLAY</a>;
<a name="l01230"></a>01230             <a class="code" href="Quest_01Debug_01System_8cpp.html#02d3a0a41e0ebba38fa6c44372ce0927">CreateDestroyDisplayTextEntryBox</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#5ea91ef3c648528165811e10ef9d8b59">gubTextEntryAction</a>, NULL, NULL );
<a name="l01231"></a>01231             <a class="code" href="Quest_01Debug_01System_8cpp.html#5ea91ef3c648528165811e10ef9d8b59">gubTextEntryAction</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd0d0b45129a797d27de0a228453905361">QD_DROP_DOWN_NO_ACTION</a>;
<a name="l01232"></a>01232       }
<a name="l01233"></a>01233 
<a name="l01234"></a>01234 
<a name="l01235"></a>01235       <span class="comment">//if there is a merc talking</span>
<a name="l01236"></a>01236       <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#f8b9e37597f9e3d0967fd2f80fe29896">giSelectedMercCurrentQuote</a> != -1 )
<a name="l01237"></a>01237             <a class="code" href="Quest_01Debug_01System_8cpp.html#ba867a985dca7f8c4ebcb3851ad93f1e">DisplayQDSCurrentlyQuoteNum</a>( );
<a name="l01238"></a>01238       
<a name="l01239"></a>01239   <a class="code" href="Button_01System_8cpp.html#dd66106191abe97a8b80611179ff8996">MarkButtonsDirty</a>( );
<a name="l01240"></a>01240       <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>( 0, 0, 640, 480 );
<a name="l01241"></a>01241 }
<a name="l01242"></a>01242 
<a name="l01243"></a>01243 
<a name="l01244"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#ed7e5548cbac4f876e449a56c95241a6">01244</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#ed7e5548cbac4f876e449a56c95241a6">DisplayCurrentGridNo</a>()
<a name="l01245"></a>01245 {
<a name="l01246"></a>01246       <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#a270ab8323007b531982733eea5cfb21">gsQdsEnteringGridNo</a> != 0 )
<a name="l01247"></a>01247       {
<a name="l01248"></a>01248             <a class="code" href="Types_8h.html#fcdf88c1d4179fcd6d8a1fa9bbcb8a80">CHAR16</a>      zTemp[512];
<a name="l01249"></a>01249 
<a name="l01250"></a>01250             swprintf( zTemp, L<span class="stringliteral">"%s:  %d"</span>, <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd53b04c7cae5633de01b6f68e881b530e6">QUEST_DBS_CURRENT_GRIDNO</a> ], <a class="code" href="Quest_01Debug_01System_8cpp.html#a270ab8323007b531982733eea5cfb21">gsQdsEnteringGridNo</a> );
<a name="l01251"></a>01251             <a class="code" href="WordWrap_8cpp.html#64f08dc42335055ef4c534d4f99ea5c8">DrawTextToScreen</a>( zTemp, QUEST_DBS_NPC_CURRENT_GRIDNO_X, QUEST_DBS_NPC_CURRENT_GRIDNO_Y, QUEST_DBS_NUMBER_COL_WIDTH, QUEST_DBS_FONT_DYNAMIC_TEXT, QUEST_DBS_COLOR_DYNAMIC_TEXT, FONT_MCOLOR_BLACK, FALSE, LEFT_JUSTIFIED      );                
<a name="l01252"></a>01252       }
<a name="l01253"></a>01253 }
<a name="l01254"></a>01254 
<a name="l01255"></a>01255 
<a name="l01256"></a>01256 
<a name="l01257"></a>01257 
<a name="l01258"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#eace0f626dd858840ecca5fa56b97bb2">01258</a> <span class="keywordtype">void</span>        <a class="code" href="Quest_01Debug_01System_8cpp.html#eace0f626dd858840ecca5fa56b97bb2">GetUserInput</a>()
<a name="l01259"></a>01259 {
<a name="l01260"></a>01260       <a class="code" href="structInputAtom.html">InputAtom</a> Event;
<a name="l01261"></a>01261       POINT  MousePos;
<a name="l01262"></a>01262       <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubPanelMercShouldUse = <a class="code" href="Quest_01Debug_01System_8cpp.html#a8d1c4e2354fb381f23e64d6efd2bcf6">WhichPanelShouldTalkingMercUse</a>( <span class="comment">/*giSelectedMercCurrentQuote*/</span> ); <span class="comment">// doesn't take parameters (jonathanl)</span>
<a name="l01263"></a>01263 
<a name="l01264"></a>01264 
<a name="l01265"></a>01265       GetCursorPos(&amp;MousePos);
<a name="l01266"></a>01266 
<a name="l01267"></a>01267       <span class="keywordflow">while</span>( <a class="code" href="input_8cpp.html#aa80627b666beae961462d3619bfa8b3">DequeueEvent</a>( &amp;Event ) )
<a name="l01268"></a>01268       {
<a name="l01269"></a>01269             <span class="keywordflow">if</span>( !<a class="code" href="Text_01Input_8cpp.html#e40026592a0bc40b2d5247f00eaaed33">HandleTextInput</a>( &amp;Event ) &amp;&amp; Event.<a class="code" href="structInputAtom.html#3cf53aa0e37277ff1a69bb6230e600ce">usEvent</a> == KEY_DOWN )
<a name="l01270"></a>01270             {
<a name="l01271"></a>01271                   <span class="keywordflow">switch</span>( Event.<a class="code" href="structInputAtom.html#c171abb99b6fe1f56f9bae755bdac911">usParam</a> )
<a name="l01272"></a>01272                   {
<a name="l01273"></a>01273                         <span class="keywordflow">case</span> ESC:
<a name="l01274"></a>01274                               <a class="code" href="Quest_01Debug_01System_8cpp.html#5ea91ef3c648528165811e10ef9d8b59">gubTextEntryAction</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd910dc9b5dce27b0ddbac87411818b2ac">QD_DROP_DOWN_CANCEL</a>;
<a name="l01275"></a>01275 
<a name="l01276"></a>01276                               <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#3db938caea7bf117e178c5b018cc7eb6">ubCurScrollBoxAction</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbdebfaf2b25c7edf4f76d41cf99805783b">QD_DROP_DOWN_DESTROY</a>;
<a name="l01277"></a>01277                               <a class="code" href="Quest_01Debug_01System_8cpp.html#05daf318ed86fbd4275ec644bbd10943">CreateDestroyDisplaySelectNpcDropDownBox</a>();
<a name="l01278"></a>01278                               <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#3db938caea7bf117e178c5b018cc7eb6">ubCurScrollBoxAction</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd0d0b45129a797d27de0a228453905361">QD_DROP_DOWN_NO_ACTION</a>;
<a name="l01279"></a>01279                               <a class="code" href="Quest_01Debug_01System_8cpp.html#67d5f23a40d5cc444d179ac5cc16626f">gfAddKeyNextPass</a> = FALSE;
<a name="l01280"></a>01280 
<a name="l01281"></a>01281 
<a name="l01282"></a>01282                               
<a name="l01283"></a>01283                               <a class="code" href="Quest_01Debug_01System_8cpp.html#3070e5c3e55894af03a9ca3703db5d56">EndMercTalking</a>();
<a name="l01284"></a>01284 
<a name="l01285"></a>01285                               <span class="keywordflow">break</span>;
<a name="l01286"></a>01286 
<a name="l01287"></a>01287                         <span class="keywordflow">case</span> SPACE:
<a name="l01288"></a>01288                               <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#f8b9e37597f9e3d0967fd2f80fe29896">giSelectedMercCurrentQuote</a> != -1 )
<a name="l01289"></a>01289                                     <a class="code" href="Quest_01Debug_01System_8cpp.html#2b25f673e16170e3772dbe5d6af4cd89">SetTalkingMercPauseState</a>( (<a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>)!<a class="code" href="Quest_01Debug_01System_8cpp.html#a396f2a934c7b021f993b13c53fb366a">gfPauseTalkingMercPopup</a> );
<a name="l01290"></a>01290                               <span class="keywordflow">break</span>;
<a name="l01291"></a>01291 
<a name="l01292"></a>01292                         <span class="keywordflow">case</span> LEFTARROW:
<a name="l01293"></a>01293                               <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#f8b9e37597f9e3d0967fd2f80fe29896">giSelectedMercCurrentQuote</a> != -1 )
<a name="l01294"></a>01294                               {
<a name="l01295"></a>01295                                     <span class="keywordflow">if</span>( ubPanelMercShouldUse == <a class="code" href="Quest_01Debug_01System_8cpp.html#25f1c885c7f5230ea4c9bc48dde88fe15a574ad4de0993d979a632ec5747a0d3">QDS_REGULAR_PANEL</a> )
<a name="l01296"></a>01296                                           <a class="code" href="Faces_8cpp.html#2ab2239abb85c9b35f473e561a68132c">ShutupaYoFace</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#9f589748c6d610e7571aada84a866a1e">gTalkingMercSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#d5f6fd345324ba5fdf49c5a0624f6620">iFaceIndex</a> );
<a name="l01297"></a>01297                                     <span class="keywordflow">else</span>
<a name="l01298"></a>01298                                           <a class="code" href="Faces_8cpp.html#2ab2239abb85c9b35f473e561a68132c">ShutupaYoFace</a>( <a class="code" href="Interface_01Dialogue_8cpp.html#96687692e3f323344c26cd8bc0e9dc38">gTalkPanel</a>.<a class="code" href="structNPC__DIALOGUE__TYPE.html#ac78906f3e25bb0d09d8b521691aa1ff">iFaceIndex</a> );
<a name="l01299"></a>01299 
<a name="l01300"></a>01300 
<a name="l01301"></a>01301                                     <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#f8b9e37597f9e3d0967fd2f80fe29896">giSelectedMercCurrentQuote</a> &gt; 1 )
<a name="l01302"></a>01302                                     {
<a name="l01303"></a>01303                                           <a class="code" href="Quest_01Debug_01System_8cpp.html#f8b9e37597f9e3d0967fd2f80fe29896">giSelectedMercCurrentQuote</a>--;
<a name="l01304"></a>01304                                           <a class="code" href="Quest_01Debug_01System_8cpp.html#f8b9e37597f9e3d0967fd2f80fe29896">giSelectedMercCurrentQuote</a>--;
<a name="l01305"></a>01305                                     }
<a name="l01306"></a>01306                                     <span class="keywordflow">else</span>
<a name="l01307"></a>01307                                           <a class="code" href="Quest_01Debug_01System_8cpp.html#f8b9e37597f9e3d0967fd2f80fe29896">giSelectedMercCurrentQuote</a> = 0;
<a name="l01308"></a>01308 
<a name="l01309"></a>01309                                     <a class="code" href="Quest_01Debug_01System_8cpp.html#ba867a985dca7f8c4ebcb3851ad93f1e">DisplayQDSCurrentlyQuoteNum</a>( );
<a name="l01310"></a>01310 
<a name="l01311"></a>01311                               }
<a name="l01312"></a>01312                               <span class="keywordflow">break</span>;
<a name="l01313"></a>01313 
<a name="l01314"></a>01314                         <span class="keywordflow">case</span> RIGHTARROW:
<a name="l01315"></a>01315                               <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#f8b9e37597f9e3d0967fd2f80fe29896">giSelectedMercCurrentQuote</a> != -1 )
<a name="l01316"></a>01316                               {
<a name="l01317"></a>01317                                     <span class="keywordflow">if</span>( ubPanelMercShouldUse == <a class="code" href="Quest_01Debug_01System_8cpp.html#25f1c885c7f5230ea4c9bc48dde88fe15a574ad4de0993d979a632ec5747a0d3">QDS_REGULAR_PANEL</a> )
<a name="l01318"></a>01318                                           <a class="code" href="Faces_8cpp.html#2ab2239abb85c9b35f473e561a68132c">ShutupaYoFace</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#9f589748c6d610e7571aada84a866a1e">gTalkingMercSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#d5f6fd345324ba5fdf49c5a0624f6620">iFaceIndex</a> );
<a name="l01319"></a>01319                                     <span class="keywordflow">else</span>
<a name="l01320"></a>01320                                           <a class="code" href="Faces_8cpp.html#2ab2239abb85c9b35f473e561a68132c">ShutupaYoFace</a>( <a class="code" href="Interface_01Dialogue_8cpp.html#96687692e3f323344c26cd8bc0e9dc38">gTalkPanel</a>.<a class="code" href="structNPC__DIALOGUE__TYPE.html#ac78906f3e25bb0d09d8b521691aa1ff">iFaceIndex</a> );
<a name="l01321"></a>01321 
<a name="l01322"></a>01322                                     <span class="comment">//if( giSelectedMercCurrentQuote &lt; GetMaxNumberOfQuotesToPlay( ) )</span>
<a name="l01323"></a>01323                                     <span class="comment">//{</span>
<a name="l01324"></a>01324                                     <span class="comment">//    giSelectedMercCurrentQuote++;</span>
<a name="l01325"></a>01325                                     <span class="comment">//}</span>
<a name="l01326"></a>01326                                     <a class="code" href="Quest_01Debug_01System_8cpp.html#ba867a985dca7f8c4ebcb3851ad93f1e">DisplayQDSCurrentlyQuoteNum</a>( );
<a name="l01327"></a>01327 
<a name="l01328"></a>01328                               }
<a name="l01329"></a>01329                               <span class="keywordflow">break</span>;
<a name="l01330"></a>01330 
<a name="l01331"></a>01331                         <span class="keywordflow">case</span> F11:
<a name="l01332"></a>01332                               <a class="code" href="Quest_01Debug_01System_8cpp.html#3dc1cbcb983a326486e2d31f161ca7ad">gfQuestDebugExit</a> = TRUE;
<a name="l01333"></a>01333                               <span class="keywordflow">break</span>;
<a name="l01334"></a>01334 
<a name="l01335"></a>01335                         <span class="keywordflow">case</span> <span class="charliteral">'x'</span>:
<a name="l01336"></a>01336                               <span class="keywordflow">if</span>( Event.<a class="code" href="structInputAtom.html#4561a8befc251f5c2a03004f4378fdd0">usKeyState</a> &amp; ALT_DOWN )
<a name="l01337"></a>01337                               {
<a name="l01338"></a>01338                                     <a class="code" href="Quest_01Debug_01System_8cpp.html#3dc1cbcb983a326486e2d31f161ca7ad">gfQuestDebugExit</a> = TRUE;
<a name="l01339"></a>01339                                     <a class="code" href="sgp_8cpp.html#aab7b157104c24c2e5a34f497bedf61e">gfProgramIsRunning</a> = FALSE;
<a name="l01340"></a>01340                               }
<a name="l01341"></a>01341                               <span class="keywordflow">break</span>;
<a name="l01342"></a>01342 
<a name="l01343"></a>01343                         <span class="keywordflow">case</span> ENTER:
<a name="l01344"></a>01344                               <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#11a4cd1d2fb6e7985e7b97409238671b">gfTextEntryActive</a> )
<a name="l01345"></a>01345                                     <a class="code" href="Quest_01Debug_01System_8cpp.html#5ea91ef3c648528165811e10ef9d8b59">gubTextEntryAction</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbdebfaf2b25c7edf4f76d41cf99805783b">QD_DROP_DOWN_DESTROY</a>;
<a name="l01346"></a>01346                               <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#cd4b46a9626ef490e89a5c9b0460fb6a">gfInDropDownBox</a> )
<a name="l01347"></a>01347                               {
<a name="l01348"></a>01348                                     <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#3db938caea7bf117e178c5b018cc7eb6">ubCurScrollBoxAction</a>     = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbdebfaf2b25c7edf4f76d41cf99805783b">QD_DROP_DOWN_DESTROY</a>;
<a name="l01349"></a>01349                               }
<a name="l01350"></a>01350 
<a name="l01351"></a>01351                               <span class="keywordflow">break</span>;
<a name="l01352"></a>01352 
<a name="l01353"></a>01353                         <span class="keywordflow">case</span> PGDN:
<a name="l01354"></a>01354                               <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#cd4b46a9626ef490e89a5c9b0460fb6a">gfInDropDownBox</a> )
<a name="l01355"></a>01355                               {
<a name="l01356"></a>01356                                     <a class="code" href="Quest_01Debug_01System_8cpp.html#8298a6a47684c694142199948fc4b17f">IncrementActiveDropDownBox</a>( (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(<a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> + QUEST_DBS_MAX_DISPLAYED_ENTRIES ) );
<a name="l01357"></a>01357                               }
<a name="l01358"></a>01358                               <span class="keywordflow">break</span>;
<a name="l01359"></a>01359 
<a name="l01360"></a>01360                         <span class="keywordflow">case</span> PGUP:
<a name="l01361"></a>01361                               <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#cd4b46a9626ef490e89a5c9b0460fb6a">gfInDropDownBox</a> )
<a name="l01362"></a>01362                               {
<a name="l01363"></a>01363                                     <a class="code" href="Quest_01Debug_01System_8cpp.html#8298a6a47684c694142199948fc4b17f">IncrementActiveDropDownBox</a>( (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)( <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> - QUEST_DBS_MAX_DISPLAYED_ENTRIES ) );
<a name="l01364"></a>01364                               }
<a name="l01365"></a>01365                               <span class="keywordflow">break</span>;
<a name="l01366"></a>01366 
<a name="l01367"></a>01367                         <span class="keywordflow">case</span> DNARROW:
<a name="l01368"></a>01368                               <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#cd4b46a9626ef490e89a5c9b0460fb6a">gfInDropDownBox</a> )
<a name="l01369"></a>01369                               {
<a name="l01370"></a>01370                                     <a class="code" href="Quest_01Debug_01System_8cpp.html#8298a6a47684c694142199948fc4b17f">IncrementActiveDropDownBox</a>( (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(<a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> + 1 ) );
<a name="l01371"></a>01371                               }
<a name="l01372"></a>01372                               <span class="keywordflow">break</span>;
<a name="l01373"></a>01373 
<a name="l01374"></a>01374                         <span class="keywordflow">case</span> UPARROW:
<a name="l01375"></a>01375                               <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#cd4b46a9626ef490e89a5c9b0460fb6a">gfInDropDownBox</a> )
<a name="l01376"></a>01376                               {
<a name="l01377"></a>01377                                     <a class="code" href="Quest_01Debug_01System_8cpp.html#8298a6a47684c694142199948fc4b17f">IncrementActiveDropDownBox</a>( (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)( <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> - 1 ) );
<a name="l01378"></a>01378                               }
<a name="l01379"></a>01379                               <span class="keywordflow">break</span>;
<a name="l01380"></a>01380 
<a name="l01381"></a>01381                         <span class="keywordflow">case</span> <span class="charliteral">'d'</span>:
<a name="l01382"></a>01382                               {
<a name="l01383"></a>01383                                     <a class="code" href="Types_8h.html#fcdf88c1d4179fcd6d8a1fa9bbcb8a80">CHAR16</a> zTemp[512];
<a name="l01384"></a>01384 
<a name="l01385"></a>01385                                     <span class="comment">// toggle whether dropped items are damaged or not</span>
<a name="l01386"></a>01386                                     <a class="code" href="Quest_01Debug_01System_8cpp.html#8c685cf9c66d9bcf4d469e35077d3c33">gfDropDamagedItems</a> ^= 1;
<a name="l01387"></a>01387                                     swprintf( zTemp, L<span class="stringliteral">"Items dropped will be in %s condition"</span>, <a class="code" href="Quest_01Debug_01System_8cpp.html#8c685cf9c66d9bcf4d469e35077d3c33">gfDropDamagedItems</a> ? L<span class="stringliteral">"DAMAGED"</span> : L<span class="stringliteral">"PERFECT"</span> );
<a name="l01388"></a>01388                                     <a class="code" href="Quest_01Debug_01System_8cpp.html#4d8824e6f939c86bac9e27aef76ae215">DoQDSMessageBox</a>( <a class="code" href="MessageBoxScreen_8h.html#2f1398dba5e4a5616b83437528bdb28edfaaee6cf60e9dcec27ec0650dbbc39f">MSG_BOX_BASIC_STYLE</a>, (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> *)zTemp, <a class="code" href="screenids_8h.html#a4ee5dea8709d2b490486a62df77faf2938991f1775fa1057fe0745471762248">QUEST_DEBUG_SCREEN</a>, MSG_BOX_FLAG_OK, NULL );
<a name="l01389"></a>01389                               }
<a name="l01390"></a>01390                               <span class="keywordflow">break</span>;
<a name="l01391"></a>01391                   }
<a name="l01392"></a>01392             }
<a name="l01393"></a>01393             
<a name="l01394"></a>01394             <span class="keywordflow">else</span> <span class="keywordflow">if</span>( Event.<a class="code" href="structInputAtom.html#3cf53aa0e37277ff1a69bb6230e600ce">usEvent</a> == KEY_REPEAT )
<a name="l01395"></a>01395             {
<a name="l01396"></a>01396                   <span class="keywordflow">switch</span>( Event.<a class="code" href="structInputAtom.html#c171abb99b6fe1f56f9bae755bdac911">usParam</a> )
<a name="l01397"></a>01397                   {
<a name="l01398"></a>01398                         <span class="keywordflow">case</span> PGDN:
<a name="l01399"></a>01399                               <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#cd4b46a9626ef490e89a5c9b0460fb6a">gfInDropDownBox</a> )
<a name="l01400"></a>01400                               {
<a name="l01401"></a>01401                                     <a class="code" href="Quest_01Debug_01System_8cpp.html#8298a6a47684c694142199948fc4b17f">IncrementActiveDropDownBox</a>( (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(<a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> + QUEST_DBS_MAX_DISPLAYED_ENTRIES ) );
<a name="l01402"></a>01402                               }
<a name="l01403"></a>01403                               <span class="keywordflow">break</span>;
<a name="l01404"></a>01404 
<a name="l01405"></a>01405                         <span class="keywordflow">case</span> PGUP:
<a name="l01406"></a>01406                               <span class="keywordflow">if</span>( gfInDropDownBox )
<a name="l01407"></a>01407                               {
<a name="l01408"></a>01408                                     <a class="code" href="Quest_01Debug_01System_8cpp.html#8298a6a47684c694142199948fc4b17f">IncrementActiveDropDownBox</a>( (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)( <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> - QUEST_DBS_MAX_DISPLAYED_ENTRIES ) );
<a name="l01409"></a>01409                               }
<a name="l01410"></a>01410                               <span class="keywordflow">break</span>;
<a name="l01411"></a>01411 
<a name="l01412"></a>01412                         <span class="keywordflow">case</span> DNARROW:
<a name="l01413"></a>01413                               <span class="keywordflow">if</span>( gfInDropDownBox )
<a name="l01414"></a>01414                               {
<a name="l01415"></a>01415                                     <a class="code" href="Quest_01Debug_01System_8cpp.html#8298a6a47684c694142199948fc4b17f">IncrementActiveDropDownBox</a>( (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(<a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> + 1 ) );
<a name="l01416"></a>01416                               }
<a name="l01417"></a>01417                               <span class="keywordflow">break</span>;
<a name="l01418"></a>01418 
<a name="l01419"></a>01419                         <span class="keywordflow">case</span> UPARROW:
<a name="l01420"></a>01420                               <span class="keywordflow">if</span>( gfInDropDownBox )
<a name="l01421"></a>01421                               {
<a name="l01422"></a>01422                                     <a class="code" href="Quest_01Debug_01System_8cpp.html#8298a6a47684c694142199948fc4b17f">IncrementActiveDropDownBox</a>( (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)( <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> - 1 ) );
<a name="l01423"></a>01423                               }
<a name="l01424"></a>01424                               <span class="keywordflow">break</span>;
<a name="l01425"></a>01425 
<a name="l01426"></a>01426 
<a name="l01427"></a>01427                         <span class="keywordflow">case</span> LEFTARROW:
<a name="l01428"></a>01428                               <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#f8b9e37597f9e3d0967fd2f80fe29896">giSelectedMercCurrentQuote</a> != -1 )
<a name="l01429"></a>01429                               {
<a name="l01430"></a>01430                                     <span class="keywordflow">if</span>( ubPanelMercShouldUse == <a class="code" href="Quest_01Debug_01System_8cpp.html#25f1c885c7f5230ea4c9bc48dde88fe15a574ad4de0993d979a632ec5747a0d3">QDS_REGULAR_PANEL</a> )
<a name="l01431"></a>01431                                           <a class="code" href="Faces_8cpp.html#2ab2239abb85c9b35f473e561a68132c">ShutupaYoFace</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#9f589748c6d610e7571aada84a866a1e">gTalkingMercSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#d5f6fd345324ba5fdf49c5a0624f6620">iFaceIndex</a> );
<a name="l01432"></a>01432                                     <span class="keywordflow">else</span>
<a name="l01433"></a>01433                                           <a class="code" href="Faces_8cpp.html#2ab2239abb85c9b35f473e561a68132c">ShutupaYoFace</a>( <a class="code" href="Interface_01Dialogue_8cpp.html#96687692e3f323344c26cd8bc0e9dc38">gTalkPanel</a>.<a class="code" href="structNPC__DIALOGUE__TYPE.html#ac78906f3e25bb0d09d8b521691aa1ff">iFaceIndex</a> );
<a name="l01434"></a>01434 
<a name="l01435"></a>01435                                     <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#f8b9e37597f9e3d0967fd2f80fe29896">giSelectedMercCurrentQuote</a> &gt; 1 )
<a name="l01436"></a>01436                                     {
<a name="l01437"></a>01437                                           <a class="code" href="Quest_01Debug_01System_8cpp.html#f8b9e37597f9e3d0967fd2f80fe29896">giSelectedMercCurrentQuote</a>--;
<a name="l01438"></a>01438                                           <a class="code" href="Quest_01Debug_01System_8cpp.html#f8b9e37597f9e3d0967fd2f80fe29896">giSelectedMercCurrentQuote</a>--;
<a name="l01439"></a>01439                                     }
<a name="l01440"></a>01440                                     <span class="keywordflow">else</span>
<a name="l01441"></a>01441                                           <a class="code" href="Quest_01Debug_01System_8cpp.html#f8b9e37597f9e3d0967fd2f80fe29896">giSelectedMercCurrentQuote</a> = 0;
<a name="l01442"></a>01442 
<a name="l01443"></a>01443                                     <a class="code" href="Quest_01Debug_01System_8cpp.html#ba867a985dca7f8c4ebcb3851ad93f1e">DisplayQDSCurrentlyQuoteNum</a>( );
<a name="l01444"></a>01444 
<a name="l01445"></a>01445                               }
<a name="l01446"></a>01446                               <span class="keywordflow">break</span>;
<a name="l01447"></a>01447 
<a name="l01448"></a>01448                         <span class="keywordflow">case</span> RIGHTARROW:
<a name="l01449"></a>01449                               <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#f8b9e37597f9e3d0967fd2f80fe29896">giSelectedMercCurrentQuote</a> != -1 )
<a name="l01450"></a>01450                               {
<a name="l01451"></a>01451                                     <a class="code" href="Quest_01Debug_01System_8cpp.html#ba867a985dca7f8c4ebcb3851ad93f1e">DisplayQDSCurrentlyQuoteNum</a>( );
<a name="l01452"></a>01452 
<a name="l01453"></a>01453                                     <span class="keywordflow">if</span>( ubPanelMercShouldUse == <a class="code" href="Quest_01Debug_01System_8cpp.html#25f1c885c7f5230ea4c9bc48dde88fe15a574ad4de0993d979a632ec5747a0d3">QDS_REGULAR_PANEL</a> )
<a name="l01454"></a>01454                                           <a class="code" href="Faces_8cpp.html#2ab2239abb85c9b35f473e561a68132c">ShutupaYoFace</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#9f589748c6d610e7571aada84a866a1e">gTalkingMercSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#d5f6fd345324ba5fdf49c5a0624f6620">iFaceIndex</a> );
<a name="l01455"></a>01455                                     <span class="keywordflow">else</span>
<a name="l01456"></a>01456                                           <a class="code" href="Faces_8cpp.html#2ab2239abb85c9b35f473e561a68132c">ShutupaYoFace</a>( <a class="code" href="Interface_01Dialogue_8cpp.html#96687692e3f323344c26cd8bc0e9dc38">gTalkPanel</a>.<a class="code" href="structNPC__DIALOGUE__TYPE.html#ac78906f3e25bb0d09d8b521691aa1ff">iFaceIndex</a> );
<a name="l01457"></a>01457 
<a name="l01458"></a>01458                               }
<a name="l01459"></a>01459                               <span class="keywordflow">break</span>;
<a name="l01460"></a>01460                   }
<a name="l01461"></a>01461             }
<a name="l01462"></a>01462       }
<a name="l01463"></a>01463 }
<a name="l01464"></a>01464 
<a name="l01465"></a>01465 
<a name="l01466"></a>01466 
<a name="l01467"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#2ef0d0d502e4b19961d864aa81b5e7bb">01467</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#2ef0d0d502e4b19961d864aa81b5e7bb">ColorFillQuestDebugScreenScreen</a>( <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sLeft, <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sTop, <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sRight, <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sBottom )
<a name="l01468"></a>01468 {
<a name="l01469"></a>01469       <a class="code" href="vsurface_8cpp.html#10d0257b54c4d27b2d82ead2a46cd581">ColorFillVideoSurfaceArea</a>( <a class="code" href="Button_01System_8cpp.html#adf152591a0f0c6941fd90d830ff5997">ButtonDestBuffer</a>, sLeft, sTop, sRight, sBottom, <a class="code" href="Quest_01Debug_01System_8cpp.html#c236f04bbbfa90a51db3d139526ead95">gusQuestDebugBlue</a> );
<a name="l01470"></a>01470 }
<a name="l01471"></a>01471 
<a name="l01472"></a>01472 
<a name="l01473"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#d5a9fe77fbacb3dbe649b540c274b15f">01473</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#d5a9fe77fbacb3dbe649b540c274b15f">QuestDebug_ExitTactical</a>()
<a name="l01474"></a>01474 {
<a name="l01475"></a>01475 }
<a name="l01476"></a>01476 
<a name="l01477"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#7360162f93b8fdc1c352044e8efddb55">01477</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#7360162f93b8fdc1c352044e8efddb55">QuestDebug_EnterTactical</a>()
<a name="l01478"></a>01478 {
<a name="l01479"></a>01479       <a class="code" href="gamescreen_8cpp.html#867f99c3de6aa934b389781e5ef07afa">EnterTacticalScreen</a>( );
<a name="l01480"></a>01480 }
<a name="l01481"></a>01481 
<a name="l01482"></a>01482 
<a name="l01483"></a>01483 
<a name="l01484"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#1226312f6e8ab58191e28a59b16b1963">01484</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#1226312f6e8ab58191e28a59b16b1963">DisplaySectionLine</a>( )
<a name="l01485"></a>01485 {
<a name="l01486"></a>01486   <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a> uiDestPitchBYTES;
<a name="l01487"></a>01487   <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> *pDestBuf;
<a name="l01488"></a>01488       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usStartX;
<a name="l01489"></a>01489       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usStartY;
<a name="l01490"></a>01490       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usEndX;
<a name="l01491"></a>01491       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usEndY;
<a name="l01492"></a>01492 
<a name="l01493"></a>01493       usStartX = usEndX = QUEST_DBS_FIRST_SECTION_WIDTH;
<a name="l01494"></a>01494 
<a name="l01495"></a>01495       usStartY = QUEST_DBS_FIRST_COL_NUMBER_Y;
<a name="l01496"></a>01496       usEndY = 475;
<a name="l01497"></a>01497 
<a name="l01498"></a>01498       pDestBuf = <a class="code" href="vsurface_8cpp.html#592b2aeda6075fcbf9d7c67dc44fbd47">LockVideoSurface</a>( FRAME_BUFFER, &amp;uiDestPitchBYTES );               
<a name="l01499"></a>01499 
<a name="l01500"></a>01500   <span class="comment">// draw the line in b/n the first and second section</span>
<a name="l01501"></a>01501       <a class="code" href="line_8cpp.html#03cb6a8fa3b4bbdfcdab02c903bc7b7e">SetClippingRegionAndImageWidth</a>( uiDestPitchBYTES, 0, 0, 640, 480);
<a name="l01502"></a>01502       <a class="code" href="line_8cpp.html#aa92e189d27648ae67b8b8f5de610f42">LineDraw</a>(FALSE, usStartX, usStartY, usEndX, usEndY, <a class="code" href="himage_8cpp.html#d29939ffcd39c7d1cc0a91222702d361">Get16BPPColor</a>( FROMRGB( 255, 255, 255 ) ), pDestBuf);
<a name="l01503"></a>01503 
<a name="l01504"></a>01504   <span class="comment">// draw the line in b/n the second and third section</span>
<a name="l01505"></a>01505       usStartX = usEndX = QUEST_DBS_FIRST_SECTION_WIDTH + QUEST_DBS_SECOND_SECTION_WIDTH;
<a name="l01506"></a>01506       <a class="code" href="line_8cpp.html#aa92e189d27648ae67b8b8f5de610f42">LineDraw</a>(FALSE, usStartX, usStartY, usEndX, usEndY, <a class="code" href="himage_8cpp.html#d29939ffcd39c7d1cc0a91222702d361">Get16BPPColor</a>( FROMRGB( 255, 255, 255 ) ), pDestBuf);
<a name="l01507"></a>01507 
<a name="l01508"></a>01508 
<a name="l01509"></a>01509       <span class="comment">//draw the horizopntal line under the title</span>
<a name="l01510"></a>01510       usStartX = 0;
<a name="l01511"></a>01511       usEndX = 639;
<a name="l01512"></a>01512       usStartY = usEndY = 75;
<a name="l01513"></a>01513       <a class="code" href="line_8cpp.html#aa92e189d27648ae67b8b8f5de610f42">LineDraw</a>(FALSE, usStartX, usStartY, usEndX, usEndY, <a class="code" href="himage_8cpp.html#d29939ffcd39c7d1cc0a91222702d361">Get16BPPColor</a>( FROMRGB( 255, 255, 255 ) ), pDestBuf);
<a name="l01514"></a>01514 
<a name="l01515"></a>01515       <span class="comment">// unlock frame buffer</span>
<a name="l01516"></a>01516       <a class="code" href="vsurface_8cpp.html#abe4e4124597b70b046a3b3567002cb2">UnLockVideoSurface</a>( FRAME_BUFFER );
<a name="l01517"></a>01517 }
<a name="l01518"></a>01518 
<a name="l01519"></a>01519 
<a name="l01520"></a>01520 
<a name="l01521"></a>01521 
<a name="l01522"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#7c94653fb8990103a91cabeb4da2a111">01522</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#7c94653fb8990103a91cabeb4da2a111">DisplayQuestInformation</a>()
<a name="l01523"></a>01523 {
<a name="l01524"></a>01524       <span class="comment">//Display Quests</span>
<a name="l01525"></a>01525       <a class="code" href="WordWrap_8cpp.html#b17ac632920394af93f027727a77ea4e">DisplayWrappedString</a>( 0, QUEST_DBS_SECTION_TITLE_Y, QUEST_DBS_FIRST_SECTION_WIDTH, 2, QUEST_DBS_FONT_TITLE, QUEST_DBS_COLOR_SUBTITLE, <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5daa4ad3ca2fad8eeeb39ea0ef8968724">QUEST_DBS_QUESTS</a> ], FONT_MCOLOR_BLACK, FALSE, CENTER_JUSTIFIED    );                
<a name="l01526"></a>01526 
<a name="l01527"></a>01527       <span class="comment">//Display Quest Number text</span>
<a name="l01528"></a>01528       <a class="code" href="WordWrap_8cpp.html#b17ac632920394af93f027727a77ea4e">DisplayWrappedString</a>( QUEST_DBS_FIRST_COL_NUMBER_X, QUEST_DBS_FIRST_COL_NUMBER_Y, QUEST_DBS_NUMBER_COL_WIDTH, 2, QUEST_DBS_FONT_STATIC_TEXT, QUEST_DBS_COLOR_SUBTITLE, <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5f32318a75159d5260a9a9a1659b0b7a5">QUEST_DBS_QUEST_NUMBER</a> ], FONT_MCOLOR_BLACK, FALSE, CENTER_JUSTIFIED );
<a name="l01529"></a>01529 
<a name="l01530"></a>01530       <span class="comment">//Display Quest title text</span>
<a name="l01531"></a>01531       <a class="code" href="WordWrap_8cpp.html#b17ac632920394af93f027727a77ea4e">DisplayWrappedString</a>( QUEST_DBS_FIRST_COL_TITLE_X, QUEST_DBS_FIRST_COL_TITLE_Y, QUEST_DBS_TITLE_COL_WIDTH, 2, QUEST_DBS_FONT_STATIC_TEXT, QUEST_DBS_COLOR_SUBTITLE, <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5ab3cdfbc44034a0b2d481dacf8dac00d">QUEST_DBS_QUEST_TITLE</a> ], FONT_MCOLOR_BLACK, FALSE, CENTER_JUSTIFIED     );
<a name="l01532"></a>01532 
<a name="l01533"></a>01533       <span class="comment">//Display Quest status text</span>
<a name="l01534"></a>01534       <a class="code" href="WordWrap_8cpp.html#b17ac632920394af93f027727a77ea4e">DisplayWrappedString</a>( QUEST_DBS_FIRST_COL_STATUS_X, QUEST_DBS_FIRST_COL_STATUS_Y, QUEST_DBS_STATUS_COL_WIDTH, 2, QUEST_DBS_FONT_STATIC_TEXT, QUEST_DBS_COLOR_SUBTITLE, <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5c04469f85913cc3575fb28762a1f76fc">QUEST_DBS_STATUS</a> ], FONT_MCOLOR_BLACK, FALSE, CENTER_JUSTIFIED );
<a name="l01535"></a>01535 }
<a name="l01536"></a>01536 
<a name="l01537"></a>01537 
<a name="l01538"></a>01538 
<a name="l01539"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#395b5b4e17d4e32acefc84ac877744bf">01539</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#395b5b4e17d4e32acefc84ac877744bf">DisplayFactInformation</a>()
<a name="l01540"></a>01540 {
<a name="l01541"></a>01541       <span class="comment">//Display Fact</span>
<a name="l01542"></a>01542       <a class="code" href="WordWrap_8cpp.html#b17ac632920394af93f027727a77ea4e">DisplayWrappedString</a>( QUEST_DBS_FIRST_SECTION_WIDTH, QUEST_DBS_SECTION_TITLE_Y, QUEST_DBS_SECOND_SECTION_WIDTH, 2, QUEST_DBS_FONT_TITLE, QUEST_DBS_COLOR_SUBTITLE, <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd58faf1f2b1ac899c89b9367da5583900a">QUEST_DBS_FACTS</a> ], FONT_MCOLOR_BLACK, FALSE, CENTER_JUSTIFIED      );                
<a name="l01543"></a>01543 
<a name="l01544"></a>01544       <span class="comment">//Display Fact Number text</span>
<a name="l01545"></a>01545       <a class="code" href="WordWrap_8cpp.html#b17ac632920394af93f027727a77ea4e">DisplayWrappedString</a>( QUEST_DBS_SECOND_COL_NUMBER_X, QUEST_DBS_SECOND_COL_NUMBER_Y, QUEST_DBS_NUMBER_COL_WIDTH, 2, QUEST_DBS_FONT_STATIC_TEXT, QUEST_DBS_COLOR_SUBTITLE, <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5d9d3b686c9744dafdbc435b299bb2d29">QUEST_DBS_FACT_NUMBER</a> ], FONT_MCOLOR_BLACK, FALSE, CENTER_JUSTIFIED      );
<a name="l01546"></a>01546 
<a name="l01547"></a>01547       <span class="comment">//Display Fact title text</span>
<a name="l01548"></a>01548       <a class="code" href="WordWrap_8cpp.html#b17ac632920394af93f027727a77ea4e">DisplayWrappedString</a>( QUEST_DBS_SECOND_COL_TITLE_X, QUEST_DBS_SECOND_COL_TITLE_Y, QUEST_DBS_TITLE_COL_WIDTH, 2, QUEST_DBS_FONT_STATIC_TEXT, QUEST_DBS_COLOR_SUBTITLE, <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd513d0e3f45e5bbad294ecc5783f8d2d31">QUEST_DBS_DESC</a> ], FONT_MCOLOR_BLACK, FALSE, CENTER_JUSTIFIED    );
<a name="l01549"></a>01549 
<a name="l01550"></a>01550       <span class="comment">//Display Fact status text</span>
<a name="l01551"></a>01551       <a class="code" href="WordWrap_8cpp.html#b17ac632920394af93f027727a77ea4e">DisplayWrappedString</a>( QUEST_DBS_SECOND_COL_STATUS_X, QUEST_DBS_SECOND_COL_STATUS_Y, QUEST_DBS_STATUS_COL_WIDTH, 2, QUEST_DBS_FONT_STATIC_TEXT, QUEST_DBS_COLOR_SUBTITLE, <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5c04469f85913cc3575fb28762a1f76fc">QUEST_DBS_STATUS</a> ], FONT_MCOLOR_BLACK, FALSE, CENTER_JUSTIFIED     );
<a name="l01552"></a>01552 }
<a name="l01553"></a>01553 
<a name="l01554"></a>01554 
<a name="l01555"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#3a60d0b2021c9ece179a6d99fee1e6e9">01555</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#3a60d0b2021c9ece179a6d99fee1e6e9">BtnQuestDebugExitButtonCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason)
<a name="l01556"></a>01556 {
<a name="l01557"></a>01557       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_DWN )
<a name="l01558"></a>01558       {
<a name="l01559"></a>01559             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> |= BUTTON_CLICKED_ON;
<a name="l01560"></a>01560             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l01561"></a>01561       }
<a name="l01562"></a>01562       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP )
<a name="l01563"></a>01563       {
<a name="l01564"></a>01564             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON );
<a name="l01565"></a>01565             <a class="code" href="Quest_01Debug_01System_8cpp.html#3dc1cbcb983a326486e2d31f161ca7ad">gfQuestDebugExit</a> = TRUE;
<a name="l01566"></a>01566             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l01567"></a>01567       }
<a name="l01568"></a>01568       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LOST_MOUSE)
<a name="l01569"></a>01569       {
<a name="l01570"></a>01570             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON );
<a name="l01571"></a>01571             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l01572"></a>01572       }
<a name="l01573"></a>01573 }
<a name="l01574"></a>01574 
<a name="l01575"></a>01575 
<a name="l01576"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#630a36d9d8f33e330629380c1b935896">01576</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#630a36d9d8f33e330629380c1b935896">DisplayQuestList</a>()
<a name="l01577"></a>01577 {
<a name="l01578"></a>01578       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>      usLoop1, usCount;
<a name="l01579"></a>01579       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>      usTextHeight = <a class="code" href="Font_8cpp.html#35cddf34696d33489efb820caf968907">GetFontHeight</a>( QUEST_DBS_FONT_DYNAMIC_TEXT ) + 2;
<a name="l01580"></a>01580       <span class="keywordtype">wchar_t</span>     sTemp[15];
<a name="l01581"></a>01581       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>      usPosY;
<a name="l01582"></a>01582 
<a name="l01583"></a>01583       usPosY = QUEST_DBS_FIRST_COL_NUMBER_Y + QUEST_DBS_LIST_TEXT_OFFSET;     <span class="comment">//&amp;&amp; (usCount &lt; QUEST_DBS_MAX_DISPLAYED_ENTRIES )</span>
<a name="l01584"></a>01584       <span class="keywordflow">for</span>( usLoop1=0, usCount=0; (usLoop1&lt;MAX_QUESTS)  ; usLoop1++)
<a name="l01585"></a>01585       {
<a name="l01586"></a>01586             <span class="comment">//Display Quest Number text</span>
<a name="l01587"></a>01587             swprintf( sTemp, L<span class="stringliteral">"%02d"</span>, usLoop1 );
<a name="l01588"></a>01588             <a class="code" href="WordWrap_8cpp.html#64f08dc42335055ef4c534d4f99ea5c8">DrawTextToScreen</a>( sTemp, QUEST_DBS_FIRST_COL_NUMBER_X, usPosY, QUEST_DBS_NUMBER_COL_WIDTH, QUEST_DBS_FONT_DYNAMIC_TEXT, QUEST_DBS_COLOR_DYNAMIC_TEXT, FONT_MCOLOR_BLACK, FALSE, LEFT_JUSTIFIED  );                
<a name="l01589"></a>01589       
<a name="l01590"></a>01590             <span class="comment">//Display Quest title text</span>
<a name="l01591"></a>01591             <a class="code" href="WordWrap_8cpp.html#b17ac632920394af93f027727a77ea4e">DisplayWrappedString</a>( QUEST_DBS_FIRST_COL_TITLE_X, usPosY, QUEST_DBS_TITLE_COL_WIDTH, 2, QUEST_DBS_FONT_STATIC_TEXT, QUEST_DBS_COLOR_STATIC_TEXT, <a class="code" href="QuestText_8cpp.html#0fcc279101a6da882ff557c0f206c207">QuestDescText</a>[ usLoop1 ], FONT_MCOLOR_BLACK, FALSE, CENTER_JUSTIFIED  );
<a name="l01592"></a>01592 
<a name="l01593"></a>01593             <span class="comment">//Display Quest status text</span>
<a name="l01594"></a>01594             <a class="code" href="WordWrap_8cpp.html#b17ac632920394af93f027727a77ea4e">DisplayWrappedString</a>( QUEST_DBS_FIRST_COL_STATUS_X, usPosY, QUEST_DBS_STATUS_COL_WIDTH, 2, QUEST_DBS_FONT_STATIC_TEXT, QUEST_DBS_COLOR_STATIC_TEXT, <a class="code" href="Quest_01Debug_01System_8cpp.html#5f86ae592e7eb11c896d2c42b67bfe14">QuestStates</a>[ <a class="code" href="Quests_8cpp.html#b371f5479136d9c6e6debcb700a5c809">gubQuest</a>[ usLoop1 ] ], FONT_MCOLOR_BLACK, FALSE, CENTER_JUSTIFIED  );
<a name="l01595"></a>01595 <span class="comment">//          swprintf( sTemp, L"%02d", gubQuest[ usLoop1 ] );</span>
<a name="l01596"></a>01596 <span class="comment">//          DrawTextToScreen( sTemp, QUEST_DBS_FIRST_COL_STATUS_X, usPosY, QUEST_DBS_NUMBER_COL_WIDTH, QUEST_DBS_FONT_DYNAMIC_TEXT, QUEST_DBS_COLOR_DYNAMIC_TEXT, FONT_MCOLOR_BLACK, FALSE, RIGHT_JUSTIFIED );                </span>
<a name="l01597"></a>01597 
<a name="l01598"></a>01598             usPosY += usTextHeight;
<a name="l01599"></a>01599             usCount++;
<a name="l01600"></a>01600       }
<a name="l01601"></a>01601 }
<a name="l01602"></a>01602 
<a name="l01603"></a>01603 
<a name="l01604"></a>01604 
<a name="l01605"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#d58930a75746c45397971169622da2c2">01605</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#d58930a75746c45397971169622da2c2">DisplayFactList</a>()
<a name="l01606"></a>01606 {
<a name="l01607"></a>01607       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>      usLoop1, usCount;
<a name="l01608"></a>01608       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>      usTextHeight = <a class="code" href="Font_8cpp.html#35cddf34696d33489efb820caf968907">GetFontHeight</a>( QUEST_DBS_FONT_DYNAMIC_TEXT ) + 2;
<a name="l01609"></a>01609       <span class="keywordtype">wchar_t</span>     sTemp[512];
<a name="l01610"></a>01610       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>      usPosY;
<a name="l01611"></a>01611 
<a name="l01612"></a>01612       usPosY = QUEST_DBS_SECOND_COL_NUMBER_Y + QUEST_DBS_LIST_TEXT_OFFSET + QUEST_DBS_FACT_LIST_OFFSET;     <span class="comment">//</span>
<a name="l01613"></a>01613 
<a name="l01614"></a>01614       <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#a6a552c95cdd51aa92acc43161859ab6">gusFactAtTopOfList</a>+QUEST_DBS_NUM_DISPLAYED_FACTS &gt; NUM_FACTS )
<a name="l01615"></a>01615             <a class="code" href="Quest_01Debug_01System_8cpp.html#a6a552c95cdd51aa92acc43161859ab6">gusFactAtTopOfList</a> = NUM_FACTS - QUEST_DBS_NUM_DISPLAYED_FACTS;
<a name="l01616"></a>01616 
<a name="l01617"></a>01617 
<a name="l01618"></a>01618       <span class="keywordflow">for</span>( usLoop1=<a class="code" href="Quest_01Debug_01System_8cpp.html#a6a552c95cdd51aa92acc43161859ab6">gusFactAtTopOfList</a>, usCount=0; (usLoop1&lt;NUM_FACTS) &amp;&amp; (usCount &lt; QUEST_DBS_NUM_DISPLAYED_FACTS ); usLoop1++)
<a name="l01619"></a>01619       {
<a name="l01620"></a>01620             <span class="comment">//Display Quest Number text</span>
<a name="l01621"></a>01621             swprintf( sTemp, L<span class="stringliteral">"%02d"</span>, usLoop1 );
<a name="l01622"></a>01622             <a class="code" href="WordWrap_8cpp.html#64f08dc42335055ef4c534d4f99ea5c8">DrawTextToScreen</a>( sTemp, QUEST_DBS_SECOND_COL_NUMBER_X, usPosY, QUEST_DBS_NUMBER_COL_WIDTH, QUEST_DBS_FONT_DYNAMIC_TEXT, QUEST_DBS_COLOR_DYNAMIC_TEXT, FONT_MCOLOR_BLACK, FALSE, LEFT_JUSTIFIED );                
<a name="l01623"></a>01623       
<a name="l01624"></a>01624             <span class="comment">//Display Quest title text</span>
<a name="l01625"></a>01625             <span class="keywordflow">if</span>( <a class="code" href="QuestText_8cpp.html#09c18ae8370b597ad6ee4ee0be67c10f">FactDescText</a>[ usLoop1 ][0] == <span class="charliteral">'\0'</span> )
<a name="l01626"></a>01626             {                 
<a name="l01627"></a>01627                   swprintf( sTemp, L<span class="stringliteral">"No Fact %03d Yet"</span>, usLoop1 );
<a name="l01628"></a>01628                   <a class="code" href="WordWrap_8cpp.html#b17ac632920394af93f027727a77ea4e">DisplayWrappedString</a>( QUEST_DBS_SECOND_COL_TITLE_X, usPosY, QUEST_DBS_SECOND_TITLE_COL_WIDTH, 2, QUEST_DBS_FONT_DYNAMIC_TEXT, QUEST_DBS_COLOR_STATIC_TEXT, sTemp, FONT_MCOLOR_BLACK, FALSE, CENTER_JUSTIFIED      );
<a name="l01629"></a>01629             }
<a name="l01630"></a>01630             <span class="keywordflow">else</span>
<a name="l01631"></a>01631             {
<a name="l01632"></a>01632                   <a class="code" href="Sys_01Globals_8h.html#3d1e5716a3d04a53b8846319dd57da83">wcscpy</a>( sTemp, <a class="code" href="QuestText_8cpp.html#09c18ae8370b597ad6ee4ee0be67c10f">FactDescText</a>[ usLoop1 ] );
<a name="l01633"></a>01633 
<a name="l01634"></a>01634                   <span class="keywordflow">if</span>( <a class="code" href="Font_8cpp.html#3bbbfeabebae07a03f719f35607c6e4f">StringPixLength</a>( sTemp, QUEST_DBS_FONT_DYNAMIC_TEXT ) &gt; QUEST_DBS_SECOND_TITLE_COL_WIDTH )
<a name="l01635"></a>01635                   {
<a name="l01636"></a>01636                         <a class="code" href="Map_01Screen_01Interface_01Map_01Inventory_8cpp.html#494a0cc01ae15aedcb5d5d5fc774282c">ReduceStringLength</a>( sTemp, QUEST_DBS_SECOND_TITLE_COL_WIDTH, QUEST_DBS_FONT_DYNAMIC_TEXT );
<a name="l01637"></a>01637                   }
<a name="l01638"></a>01638 
<a name="l01639"></a>01639 <span class="comment">//                DisplayWrappedString( QUEST_DBS_SECOND_COL_TITLE_X, usPosY, QUEST_DBS_SECOND_TITLE_COL_WIDTH, 2, QUEST_DBS_FONT_DYNAMIC_TEXT, QUEST_DBS_COLOR_STATIC_TEXT, FactDescText[ usLoop1 ], FONT_MCOLOR_BLACK, FALSE, CENTER_JUSTIFIED      );</span>
<a name="l01640"></a>01640                   <a class="code" href="WordWrap_8cpp.html#64f08dc42335055ef4c534d4f99ea5c8">DrawTextToScreen</a>( sTemp, QUEST_DBS_SECOND_COL_TITLE_X, usPosY, QUEST_DBS_SECOND_TITLE_COL_WIDTH, QUEST_DBS_FONT_DYNAMIC_TEXT, QUEST_DBS_COLOR_DYNAMIC_TEXT, FONT_MCOLOR_BLACK, FALSE, CENTER_JUSTIFIED      );                
<a name="l01641"></a>01641             }
<a name="l01642"></a>01642 
<a name="l01643"></a>01643             <a class="code" href="WordWrap_8cpp.html#64f08dc42335055ef4c534d4f99ea5c8">DrawTextToScreen</a>( <a class="code" href="Quests_8cpp.html#c2813b14c5c981423bf788f8f84a193a">gubFact</a>[ usLoop1 ] ? L<span class="stringliteral">"True"</span> : L<span class="stringliteral">"False"</span>, QUEST_DBS_SECOND_COL_STATUS_X, usPosY, QUEST_DBS_STATUS_COL_WIDTH, QUEST_DBS_FONT_DYNAMIC_TEXT, QUEST_DBS_COLOR_DYNAMIC_TEXT, FONT_MCOLOR_BLACK, FALSE, CENTER_JUSTIFIED );                
<a name="l01644"></a>01644 
<a name="l01645"></a>01645             usPosY += usTextHeight;
<a name="l01646"></a>01646             usCount++;
<a name="l01647"></a>01647       }
<a name="l01648"></a>01648 }
<a name="l01649"></a>01649 
<a name="l01650"></a>01650 
<a name="l01651"></a>01651 
<a name="l01652"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#0ba64349e904ba2f3607efdfa729c435">01652</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#0ba64349e904ba2f3607efdfa729c435">BtnQuestDebugCurNPCButtonCallback</a> (<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason)
<a name="l01653"></a>01653 {
<a name="l01654"></a>01654       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_DWN )
<a name="l01655"></a>01655       {
<a name="l01656"></a>01656             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> |= BUTTON_CLICKED_ON;
<a name="l01657"></a>01657             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l01658"></a>01658       }
<a name="l01659"></a>01659       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP )
<a name="l01660"></a>01660       {
<a name="l01661"></a>01661             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON );
<a name="l01662"></a>01662 
<a name="l01663"></a>01663             <span class="comment">//if there is an old list box active, destroy the new one</span>
<a name="l01664"></a>01664             <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#3db938caea7bf117e178c5b018cc7eb6">ubCurScrollBoxAction</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbdebfaf2b25c7edf4f76d41cf99805783b">QD_DROP_DOWN_DESTROY</a>;
<a name="l01665"></a>01665             <a class="code" href="Quest_01Debug_01System_8cpp.html#05daf318ed86fbd4275ec644bbd10943">CreateDestroyDisplaySelectNpcDropDownBox</a>();
<a name="l01666"></a>01666             <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#3db938caea7bf117e178c5b018cc7eb6">ubCurScrollBoxAction</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd0d0b45129a797d27de0a228453905361">QD_DROP_DOWN_NO_ACTION</a>;
<a name="l01667"></a>01667 
<a name="l01668"></a>01668 
<a name="l01669"></a>01669             <span class="comment">//Set up the global list box</span>
<a name="l01670"></a>01670             <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a> = &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>;
<a name="l01671"></a>01671 
<a name="l01672"></a>01672             <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#3db938caea7bf117e178c5b018cc7eb6">ubCurScrollBoxAction</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd82d1cfe78d6f8f5a01a85b6eb2bd9d03">QD_DROP_DOWN_CREATE</a>;
<a name="l01673"></a>01673 
<a name="l01674"></a>01674             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l01675"></a>01675       }
<a name="l01676"></a>01676       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LOST_MOUSE)
<a name="l01677"></a>01677       {
<a name="l01678"></a>01678             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON );
<a name="l01679"></a>01679             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l01680"></a>01680       }
<a name="l01681"></a>01681 }
<a name="l01682"></a>01682 
<a name="l01683"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#5fece11aa03839008306ca18de865e3a">01683</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#5fece11aa03839008306ca18de865e3a">BtnQuestDebugCurItemButtonCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason)
<a name="l01684"></a>01684 {
<a name="l01685"></a>01685       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_DWN )
<a name="l01686"></a>01686       {
<a name="l01687"></a>01687             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> |= BUTTON_CLICKED_ON;
<a name="l01688"></a>01688             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l01689"></a>01689       }
<a name="l01690"></a>01690       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP )
<a name="l01691"></a>01691       {
<a name="l01692"></a>01692             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON );
<a name="l01693"></a>01693 
<a name="l01694"></a>01694 
<a name="l01695"></a>01695             <span class="comment">//if there is an old list box active, destroy the new one</span>
<a name="l01696"></a>01696             <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#3db938caea7bf117e178c5b018cc7eb6">ubCurScrollBoxAction</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbdebfaf2b25c7edf4f76d41cf99805783b">QD_DROP_DOWN_DESTROY</a>;
<a name="l01697"></a>01697             <a class="code" href="Quest_01Debug_01System_8cpp.html#05daf318ed86fbd4275ec644bbd10943">CreateDestroyDisplaySelectNpcDropDownBox</a>();
<a name="l01698"></a>01698             <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#3db938caea7bf117e178c5b018cc7eb6">ubCurScrollBoxAction</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd0d0b45129a797d27de0a228453905361">QD_DROP_DOWN_NO_ACTION</a>;
<a name="l01699"></a>01699 
<a name="l01700"></a>01700 
<a name="l01701"></a>01701             <span class="comment">//Set up the global list box</span>
<a name="l01702"></a>01702             <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a> = &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#e35a36316db3497cff8cdefc0eca0493">gItemListBox</a>;
<a name="l01703"></a>01703 
<a name="l01704"></a>01704             <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#3db938caea7bf117e178c5b018cc7eb6">ubCurScrollBoxAction</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd82d1cfe78d6f8f5a01a85b6eb2bd9d03">QD_DROP_DOWN_CREATE</a>;
<a name="l01705"></a>01705 
<a name="l01706"></a>01706 
<a name="l01707"></a>01707             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l01708"></a>01708       }
<a name="l01709"></a>01709       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LOST_MOUSE)
<a name="l01710"></a>01710       {
<a name="l01711"></a>01711             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON );
<a name="l01712"></a>01712             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l01713"></a>01713       }
<a name="l01714"></a>01714 }
<a name="l01715"></a>01715 
<a name="l01716"></a>01716 
<a name="l01717"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#9c433953243fcc26aa34a77ef63af1eb">01717</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#9c433953243fcc26aa34a77ef63af1eb">DisplayNPCInfo</a>()
<a name="l01718"></a>01718 {
<a name="l01719"></a>01719       <span class="comment">//display section title</span>
<a name="l01720"></a>01720       <a class="code" href="WordWrap_8cpp.html#b17ac632920394af93f027727a77ea4e">DisplayWrappedString</a>( QUEST_DBS_THIRD_COL_TITLE_X, QUEST_DBS_SECTION_TITLE_Y, QUEST_DBS_THIRD_SECTION_WIDTH, 2, QUEST_DBS_FONT_TITLE, QUEST_DBS_COLOR_SUBTITLE, <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5656b9c6590ebcc4b615366ff992eafd7">QUEST_DBS_NPC_INFO</a> ], FONT_MCOLOR_BLACK, FALSE, CENTER_JUSTIFIED      );
<a name="l01721"></a>01721 
<a name="l01722"></a>01722 
<a name="l01723"></a>01723 
<a name="l01724"></a>01724 }
<a name="l01725"></a>01725 
<a name="l01726"></a>01726 
<a name="l01727"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#05daf318ed86fbd4275ec644bbd10943">01727</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>           <a class="code" href="Quest_01Debug_01System_8cpp.html#05daf318ed86fbd4275ec644bbd10943">CreateDestroyDisplaySelectNpcDropDownBox</a>( )
<a name="l01728"></a>01728 {
<a name="l01729"></a>01729       <span class="keyword">static</span>      <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> fMouseRegionsCreated=FALSE;
<a name="l01730"></a>01730       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>      i;
<a name="l01731"></a>01731       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>      usPosX, usPosY;
<a name="l01732"></a>01732 
<a name="l01733"></a>01733       <span class="comment">//if there are </span>
<a name="l01734"></a>01734       <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#715672339dcfaceb5b2d4b96fcc32653">usMaxArrayIndex</a> == 0 )
<a name="l01735"></a>01735             <span class="keywordflow">return</span>( FALSE );
<a name="l01736"></a>01736 
<a name="l01737"></a>01737       <span class="keywordflow">switch</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#3db938caea7bf117e178c5b018cc7eb6">ubCurScrollBoxAction</a> )
<a name="l01738"></a>01738       {
<a name="l01739"></a>01739             <span class="keywordflow">case</span>  <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd0d0b45129a797d27de0a228453905361">QD_DROP_DOWN_NO_ACTION</a>:
<a name="l01740"></a>01740             {
<a name="l01741"></a>01741 
<a name="l01742"></a>01742             }
<a name="l01743"></a>01743             <span class="keywordflow">break</span>;
<a name="l01744"></a>01744 
<a name="l01745"></a>01745             <span class="keywordflow">case</span>  <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd82d1cfe78d6f8f5a01a85b6eb2bd9d03">QD_DROP_DOWN_CREATE</a>:
<a name="l01746"></a>01746             {
<a name="l01747"></a>01747                   <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>      usFontHeight = <a class="code" href="Font_8cpp.html#35cddf34696d33489efb820caf968907">GetFontHeight</a>( QUEST_DBS_FONT_LISTBOX_TEXT ) + 2;
<a name="l01748"></a>01748 
<a name="l01749"></a>01749                   <span class="comment">//if the mouse regions have already been creates, return</span>
<a name="l01750"></a>01750                   <span class="keywordflow">if</span>( fMouseRegionsCreated )
<a name="l01751"></a>01751                         <span class="keywordflow">break</span>;
<a name="l01752"></a>01752 
<a name="l01753"></a>01753                   <span class="comment">//if the are more entries then can be displayed</span>
<a name="l01754"></a>01754 <span class="comment">//                if( gpActiveListBox-&gt;usMaxArrayIndex &gt; gpActiveListBox-&gt;usNumDisplayedItems )</span>
<a name="l01755"></a>01755 <span class="comment">//                {</span>
<a name="l01756"></a>01756                         usPosX = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#6f3452a7f1f4e9c80b5d30f87feb9246">usScrollPosX</a>;
<a name="l01757"></a>01757                         usPosY = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#1581fa1c7e3ab83d3d84a6ffe7db6738">usScrollPosY</a>;
<a name="l01758"></a>01758 
<a name="l01759"></a>01759                         <span class="comment">//Set the initial value for the box</span>
<a name="l01760"></a>01760 <span class="comment">//                      if( gpActiveListBox == &amp;gNpcListBox )</span>
<a name="l01761"></a>01761 <span class="comment">//                            gpActiveListBox-&gt;sCurSelectedItem = FIRST_RPC;</span>
<a name="l01762"></a>01762 <span class="comment">//                      else</span>
<a name="l01763"></a>01763 <span class="comment">//                            gpActiveListBox-&gt;sCurSelectedItem = 1;</span>
<a name="l01764"></a>01764 
<a name="l01765"></a>01765 
<a name="l01766"></a>01766                         <span class="comment">// create the scroll regions</span>
<a name="l01767"></a>01767                         <span class="keywordflow">for</span>( i=0; i&lt; <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#83caaadedbcf85d6e042a0f32664b2ed">usNumDisplayedItems</a>; i++)
<a name="l01768"></a>01768                         {
<a name="l01769"></a>01769                               <a class="code" href="mousesystem_8cpp.html#dce08766ef4cbacb9372efe12d26a1e0">MSYS_DefineRegion</a>( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#4a6154f32101e09929f099b88295ef7e">gSelectedNpcListRegion</a>[i], usPosX, (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)(usPosY), (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)(usPosX + <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#7709cde08747319d0e9e558d6007fab5">usScrollWidth</a>), (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)(usPosY+usFontHeight), MSYS_PRIORITY_HIGH+20,
<a name="l01770"></a>01770                                                                    <a class="code" href="Cursors_8h.html#5e184f913c35dbf305f3c369dee23e193882c88cafa91aed5714f421f6957b19">CURSOR_WWW</a>, <a class="code" href="Quest_01Debug_01System_8cpp.html#495b73a2e1f02bdfb5b6e636ea3c2b21">SelectNpcListMovementCallBack</a>, <a class="code" href="Quest_01Debug_01System_8cpp.html#5a227983182c7722b53cc3377314c86f">SelectNpcListRegionCallBack</a>); 
<a name="l01771"></a>01771                               <a class="code" href="mousesystem_8cpp.html#d654da5fdc0c95350f4c40c17ed3933d">MSYS_AddRegion</a>(&amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#4a6154f32101e09929f099b88295ef7e">gSelectedNpcListRegion</a>[i]); 
<a name="l01772"></a>01772                               <a class="code" href="mousesystem_8cpp.html#df7126cc1e28adba535e334e406d5c5e">MSYS_SetRegionUserData</a>( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#4a6154f32101e09929f099b88295ef7e">gSelectedNpcListRegion</a>[ i ], 0, i);
<a name="l01773"></a>01773 
<a name="l01774"></a>01774                               usPosY += usFontHeight;
<a name="l01775"></a>01775                         }
<a name="l01776"></a>01776 
<a name="l01777"></a>01777                         fMouseRegionsCreated = TRUE;
<a name="l01778"></a>01778 <span class="comment">//                }</span>
<a name="l01779"></a>01779 <span class="comment">//                else</span>
<a name="l01780"></a>01780 <span class="comment">//                      fMouseRegionsCreated = FALSE;</span>
<a name="l01781"></a>01781 
<a name="l01782"></a>01782 
<a name="l01783"></a>01783                   <span class="comment">//Scroll bars</span>
<a name="l01784"></a>01784                   usPosX = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#6f3452a7f1f4e9c80b5d30f87feb9246">usScrollPosX</a> + <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#7709cde08747319d0e9e558d6007fab5">usScrollWidth</a>;
<a name="l01785"></a>01785                   usPosY = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#1581fa1c7e3ab83d3d84a6ffe7db6738">usScrollPosY</a> + <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#5feec2b04bc344f3be381b6d5f2d494a">usScrollArrowHeight</a> + 2 ;
<a name="l01786"></a>01786 
<a name="l01787"></a>01787                   <span class="keywordflow">for</span>(i=0; i&lt;QUEST_DBS_NUM_INCREMENTS_IN_SCROLL_BAR; i++ )
<a name="l01788"></a>01788                   {
<a name="l01789"></a>01789                         <a class="code" href="mousesystem_8cpp.html#dce08766ef4cbacb9372efe12d26a1e0">MSYS_DefineRegion</a>( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#48a9cd1e0c53bacd362ea24fc65626a8">gScrollAreaRegion</a>[i], usPosX, usPosY, (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)(usPosX+<a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#56907ccc250060088d8ee6a2d441d392">usScrollBarWidth</a>), (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)(usPosY + <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#425c58a1a9717dd37087b7254231434e">usScrollBarHeight</a> ), MSYS_PRIORITY_HIGH+20,
<a name="l01790"></a>01790                                                              <a class="code" href="Cursors_8h.html#5e184f913c35dbf305f3c369dee23e193882c88cafa91aed5714f421f6957b19">CURSOR_WWW</a>, <a class="code" href="Quest_01Debug_01System_8cpp.html#92262bf364ce67757695676ea3a6eb73">ScrollAreaMovementCallBack</a>, <a class="code" href="Quest_01Debug_01System_8cpp.html#561554a77afd1a831cd2334c74c99124">ScrollAreaRegionCallBack</a>); 
<a name="l01791"></a>01791                         <a class="code" href="mousesystem_8cpp.html#d654da5fdc0c95350f4c40c17ed3933d">MSYS_AddRegion</a>(&amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#48a9cd1e0c53bacd362ea24fc65626a8">gScrollAreaRegion</a>[i]); 
<a name="l01792"></a>01792                         <a class="code" href="mousesystem_8cpp.html#df7126cc1e28adba535e334e406d5c5e">MSYS_SetRegionUserData</a>( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#48a9cd1e0c53bacd362ea24fc65626a8">gScrollAreaRegion</a>[ i ], 0, i );
<a name="l01793"></a>01793                   }
<a name="l01794"></a>01794 
<a name="l01795"></a>01795                   <span class="comment">//Top Scroll arrow</span>
<a name="l01796"></a>01796                   usPosX = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#6f3452a7f1f4e9c80b5d30f87feb9246">usScrollPosX</a> + <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#7709cde08747319d0e9e558d6007fab5">usScrollWidth</a>;
<a name="l01797"></a>01797                   usPosY = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#1581fa1c7e3ab83d3d84a6ffe7db6738">usScrollPosY</a> + 2;
<a name="l01798"></a>01798 
<a name="l01799"></a>01799                   <a class="code" href="mousesystem_8cpp.html#dce08766ef4cbacb9372efe12d26a1e0">MSYS_DefineRegion</a>( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#be5496d79add457e45e610947ff923d4">gScrollArrowsRegion</a>[0], usPosX, (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)(usPosY), (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)(usPosX+<a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#56907ccc250060088d8ee6a2d441d392">usScrollBarWidth</a>), (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)(usPosY+<a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#5feec2b04bc344f3be381b6d5f2d494a">usScrollArrowHeight</a>), MSYS_PRIORITY_HIGH+20,
<a name="l01800"></a>01800                                                        <a class="code" href="Cursors_8h.html#5e184f913c35dbf305f3c369dee23e193882c88cafa91aed5714f421f6957b19">CURSOR_WWW</a>, MSYS_NO_CALLBACK, <a class="code" href="Quest_01Debug_01System_8cpp.html#a8564e488afa62ff9409ad95fbc8475e">ScrollArrowsRegionCallBack</a>); 
<a name="l01801"></a>01801                   <a class="code" href="mousesystem_8cpp.html#d654da5fdc0c95350f4c40c17ed3933d">MSYS_AddRegion</a>(&amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#be5496d79add457e45e610947ff923d4">gScrollArrowsRegion</a>[0]); 
<a name="l01802"></a>01802                   <a class="code" href="mousesystem_8cpp.html#df7126cc1e28adba535e334e406d5c5e">MSYS_SetRegionUserData</a>( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#be5496d79add457e45e610947ff923d4">gScrollArrowsRegion</a>[ 0 ], 0, 0 );
<a name="l01803"></a>01803 
<a name="l01804"></a>01804                   <span class="comment">//Bottom Scroll arrow</span>
<a name="l01805"></a>01805                   usPosY = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#1581fa1c7e3ab83d3d84a6ffe7db6738">usScrollPosY</a> + <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#c691135c59792f73f5a55c49908e4b7a">usScrollHeight</a> - <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#5feec2b04bc344f3be381b6d5f2d494a">usScrollArrowHeight</a> - 2;
<a name="l01806"></a>01806 
<a name="l01807"></a>01807                   <a class="code" href="mousesystem_8cpp.html#dce08766ef4cbacb9372efe12d26a1e0">MSYS_DefineRegion</a>( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#be5496d79add457e45e610947ff923d4">gScrollArrowsRegion</a>[1], usPosX, usPosY, (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)(usPosX+<a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#56907ccc250060088d8ee6a2d441d392">usScrollBarWidth</a>), (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)(usPosY + <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#5feec2b04bc344f3be381b6d5f2d494a">usScrollArrowHeight</a>), MSYS_PRIORITY_HIGH+20,
<a name="l01808"></a>01808                                                        <a class="code" href="Cursors_8h.html#5e184f913c35dbf305f3c369dee23e193882c88cafa91aed5714f421f6957b19">CURSOR_WWW</a>, MSYS_NO_CALLBACK, <a class="code" href="Quest_01Debug_01System_8cpp.html#a8564e488afa62ff9409ad95fbc8475e">ScrollArrowsRegionCallBack</a>); 
<a name="l01809"></a>01809                   <a class="code" href="mousesystem_8cpp.html#d654da5fdc0c95350f4c40c17ed3933d">MSYS_AddRegion</a>(&amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#be5496d79add457e45e610947ff923d4">gScrollArrowsRegion</a>[1]); 
<a name="l01810"></a>01810                   <a class="code" href="mousesystem_8cpp.html#df7126cc1e28adba535e334e406d5c5e">MSYS_SetRegionUserData</a>( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#be5496d79add457e45e610947ff923d4">gScrollArrowsRegion</a>[ 1 ], 0, 1 );
<a name="l01811"></a>01811 
<a name="l01812"></a>01812 
<a name="l01813"></a>01813                   <span class="comment">//create a mask to block out the screen</span>
<a name="l01814"></a>01814                   <span class="keywordflow">if</span>( !<a class="code" href="Quest_01Debug_01System_8cpp.html#dfc9df40f5f18a77a608b3bf365d437f">gfBackgroundMaskEnabled</a> )
<a name="l01815"></a>01815                   {
<a name="l01816"></a>01816                         <a class="code" href="mousesystem_8cpp.html#dce08766ef4cbacb9372efe12d26a1e0">MSYS_DefineRegion</a>( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#51710ca404b1084946db1bce07f87969">gQuestTextEntryDebugDisableScreenRegion</a>, 0, 0, 640, 480, MSYS_PRIORITY_HIGH+15,
<a name="l01817"></a>01817                                                              <a class="code" href="Cursors_8h.html#5e184f913c35dbf305f3c369dee23e195f01e13f727403aee6675e3f0a61f63d">CURSOR_LAPTOP_SCREEN</a>, MSYS_NO_CALLBACK, <a class="code" href="Quest_01Debug_01System_8cpp.html#877c5d3167ec49419a68a6569b56744a">QuestDebugTextEntryDisableScreenRegionCallBack</a> ); 
<a name="l01818"></a>01818                         <a class="code" href="mousesystem_8cpp.html#d654da5fdc0c95350f4c40c17ed3933d">MSYS_AddRegion</a>(&amp;gQuestTextEntryDebugDisableScreenRegion); 
<a name="l01819"></a>01819                         <a class="code" href="Quest_01Debug_01System_8cpp.html#dfc9df40f5f18a77a608b3bf365d437f">gfBackgroundMaskEnabled</a> = TRUE;
<a name="l01820"></a>01820                   }
<a name="l01821"></a>01821 
<a name="l01822"></a>01822 
<a name="l01823"></a>01823                   <a class="code" href="Quest_01Debug_01System_8cpp.html#cd4b46a9626ef490e89a5c9b0460fb6a">gfInDropDownBox</a> = TRUE;
<a name="l01824"></a>01824 
<a name="l01825"></a>01825                   <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> == -1 )
<a name="l01826"></a>01826                   {
<a name="l01827"></a>01827                         <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">usItemDisplayedOnTopOfList</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#1251664ccbeec622dcf990b4dae8fac7">usStartIndex</a>;
<a name="l01828"></a>01828                         <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#1251664ccbeec622dcf990b4dae8fac7">usStartIndex</a>;
<a name="l01829"></a>01829                   }
<a name="l01830"></a>01830                   <span class="keywordflow">else</span>
<a name="l01831"></a>01831                         <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">usItemDisplayedOnTopOfList</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a>;
<a name="l01832"></a>01832 
<a name="l01833"></a>01833             }
<a name="l01834"></a>01834             <span class="keywordflow">break</span>;
<a name="l01835"></a>01835 
<a name="l01836"></a>01836             <span class="keywordflow">case</span>  <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbdebfaf2b25c7edf4f76d41cf99805783b">QD_DROP_DOWN_DESTROY</a>:
<a name="l01837"></a>01837             {
<a name="l01838"></a>01838                   <span class="comment">//if the mouse regions are creates, destroy them</span>
<a name="l01839"></a>01839                   <span class="keywordflow">if</span>( fMouseRegionsCreated )
<a name="l01840"></a>01840                   {
<a name="l01841"></a>01841                         <span class="comment">// delete the mouse regions for the words</span>
<a name="l01842"></a>01842                         <span class="keywordflow">for</span>( i=0; i&lt; <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#83caaadedbcf85d6e042a0f32664b2ed">usNumDisplayedItems</a>; i++)
<a name="l01843"></a>01843                           <a class="code" href="mousesystem_8cpp.html#f2581a6cadb531c87ebd6b3f5b70f258">MSYS_RemoveRegion</a>( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#4a6154f32101e09929f099b88295ef7e">gSelectedNpcListRegion</a>[i]);
<a name="l01844"></a>01844 
<a name="l01845"></a>01845                         fMouseRegionsCreated = FALSE;
<a name="l01846"></a>01846 
<a name="l01847"></a>01847                         <span class="comment">//scroll arrows</span>
<a name="l01848"></a>01848                         <span class="keywordflow">for</span>( i=0; i&lt; 2; i++)
<a name="l01849"></a>01849                           <a class="code" href="mousesystem_8cpp.html#f2581a6cadb531c87ebd6b3f5b70f258">MSYS_RemoveRegion</a>( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#be5496d79add457e45e610947ff923d4">gScrollArrowsRegion</a>[i]);
<a name="l01850"></a>01850                         
<a name="l01851"></a>01851                         <span class="keywordflow">for</span>(i=0; i&lt;QUEST_DBS_NUM_INCREMENTS_IN_SCROLL_BAR; i++ )
<a name="l01852"></a>01852                         {
<a name="l01853"></a>01853                               <a class="code" href="mousesystem_8cpp.html#f2581a6cadb531c87ebd6b3f5b70f258">MSYS_RemoveRegion</a>( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#48a9cd1e0c53bacd362ea24fc65626a8">gScrollAreaRegion</a>[i] );
<a name="l01854"></a>01854                         }
<a name="l01855"></a>01855 
<a name="l01856"></a>01856                         <span class="comment">//remove the mask of the entire screen</span>
<a name="l01857"></a>01857                         <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#dfc9df40f5f18a77a608b3bf365d437f">gfBackgroundMaskEnabled</a> )
<a name="l01858"></a>01858                         {
<a name="l01859"></a>01859                               <a class="code" href="mousesystem_8cpp.html#f2581a6cadb531c87ebd6b3f5b70f258">MSYS_RemoveRegion</a>( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#51710ca404b1084946db1bce07f87969">gQuestTextEntryDebugDisableScreenRegion</a>);
<a name="l01860"></a>01860                               gfBackgroundMaskEnabled = FALSE;
<a name="l01861"></a>01861                         }
<a name="l01862"></a>01862 
<a name="l01863"></a>01863 
<a name="l01864"></a>01864                         <a class="code" href="Quest_01Debug_01System_8cpp.html#43cd8ee8e8929ea5fb338665e2a0a319">EnableQDSButtons</a>();
<a name="l01865"></a>01865                   }
<a name="l01866"></a>01866                   <a class="code" href="Quest_01Debug_01System_8cpp.html#c125ac9b667b2cf718cda0f2afbb195a">gfRedrawQuestDebugSystem</a> = TRUE;
<a name="l01867"></a>01867                   <a class="code" href="Quest_01Debug_01System_8cpp.html#cd4b46a9626ef490e89a5c9b0460fb6a">gfInDropDownBox</a> = FALSE;
<a name="l01868"></a>01868             }
<a name="l01869"></a>01869             <span class="keywordflow">break</span>;
<a name="l01870"></a>01870 
<a name="l01871"></a>01871             <span class="keywordflow">case</span>  <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd8591bda8e913b81be08b95dc51522445">QD_DROP_DOWN_DISPLAY</a>:
<a name="l01872"></a>01872             {
<a name="l01873"></a>01873 <span class="comment">//                ( *(gpActiveListBox-&gt;DisplayFunction))();</span>
<a name="l01874"></a>01874 <span class="comment">//                (*(MSYS_CurrRegion-&gt;ButtonCallback))(MSYS_CurrRegion,ButtonReason);</span>
<a name="l01875"></a>01875                   <a class="code" href="Quest_01Debug_01System_8cpp.html#eecc3d85df074960b8380661f10caf2e">DisplaySelectedListBox</a>( );
<a name="l01876"></a>01876             }
<a name="l01877"></a>01877             <span class="keywordflow">break</span>;
<a name="l01878"></a>01878 
<a name="l01879"></a>01879       }
<a name="l01880"></a>01880       <span class="keywordflow">return</span>( TRUE );
<a name="l01881"></a>01881 }
<a name="l01882"></a>01882 
<a name="l01883"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#eecc3d85df074960b8380661f10caf2e">01883</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#eecc3d85df074960b8380661f10caf2e">DisplaySelectedListBox</a>( )
<a name="l01884"></a>01884 {
<a name="l01885"></a>01885       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>      usFontHeight = <a class="code" href="Font_8cpp.html#35cddf34696d33489efb820caf968907">GetFontHeight</a>( QUEST_DBS_FONT_LISTBOX_TEXT ) + 2;
<a name="l01886"></a>01886       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>      usPosX, usPosY;
<a name="l01887"></a>01887   <a class="code" href="structTAG__HVOBJECT.html">HVOBJECT</a>  hImageHandle;
<a name="l01888"></a>01888 
<a name="l01889"></a>01889       <span class="comment">//DEBUG: make sure it wont go over array bounds</span>
<a name="l01890"></a>01890       <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#715672339dcfaceb5b2d4b96fcc32653">usMaxArrayIndex</a> == 0 )
<a name="l01891"></a>01891       {
<a name="l01892"></a>01892             <span class="keywordflow">return</span>;
<a name="l01893"></a>01893       }
<a name="l01894"></a>01894       <span class="keywordflow">else</span>
<a name="l01895"></a>01895       {
<a name="l01896"></a>01896             <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> &gt;= <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#715672339dcfaceb5b2d4b96fcc32653">usMaxArrayIndex</a> )
<a name="l01897"></a>01897             {
<a name="l01898"></a>01898                   <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#715672339dcfaceb5b2d4b96fcc32653">usMaxArrayIndex</a> &gt; 0 )
<a name="l01899"></a>01899                         <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#715672339dcfaceb5b2d4b96fcc32653">usMaxArrayIndex</a> - 1;
<a name="l01900"></a>01900                   <span class="keywordflow">else</span>
<a name="l01901"></a>01901                         <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> = 0;
<a name="l01902"></a>01902 
<a name="l01903"></a>01903                   <span class="keywordflow">if</span>( (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)( <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#715672339dcfaceb5b2d4b96fcc32653">usMaxArrayIndex</a> - <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#83caaadedbcf85d6e042a0f32664b2ed">usNumDisplayedItems</a> -1 ) &lt; 0 )
<a name="l01904"></a>01904                         <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">usItemDisplayedOnTopOfList</a> = 0;
<a name="l01905"></a>01905                   <span class="keywordflow">else</span>
<a name="l01906"></a>01906                         <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">usItemDisplayedOnTopOfList</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#715672339dcfaceb5b2d4b96fcc32653">usMaxArrayIndex</a> - <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#83caaadedbcf85d6e042a0f32664b2ed">usNumDisplayedItems</a> - 1;
<a name="l01907"></a>01907             }
<a name="l01908"></a>01908             <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !<a class="code" href="Quest_01Debug_01System_8cpp.html#0e7478a157d5003d7ee62ea44784d05a">gfUseLocalNPCs</a> &amp;&amp; ( ( <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">usItemDisplayedOnTopOfList</a> + <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#5c7335f7d4612f5d750f8c52b2aff54d">usMaxNumDisplayedItems</a> ) &gt;= <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#715672339dcfaceb5b2d4b96fcc32653">usMaxArrayIndex</a> ) )
<a name="l01909"></a>01909             {
<a name="l01910"></a>01910                   <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">usItemDisplayedOnTopOfList</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#715672339dcfaceb5b2d4b96fcc32653">usMaxArrayIndex</a> - <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#5c7335f7d4612f5d750f8c52b2aff54d">usMaxNumDisplayedItems</a> - 1;
<a name="l01911"></a>01911             }
<a name="l01912"></a>01912       }
<a name="l01913"></a>01913 
<a name="l01914"></a>01914       usPosX = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#6f3452a7f1f4e9c80b5d30f87feb9246">usScrollPosX</a>;
<a name="l01915"></a>01915       usPosY = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#1581fa1c7e3ab83d3d84a6ffe7db6738">usScrollPosY</a> + 2;
<a name="l01916"></a>01916 
<a name="l01917"></a>01917       <span class="comment">//clear the background</span>
<a name="l01918"></a>01918       <a class="code" href="vsurface_8cpp.html#10d0257b54c4d27b2d82ead2a46cd581">ColorFillVideoSurfaceArea</a>( FRAME_BUFFER, usPosX, usPosY-1, usPosX+<a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#7709cde08747319d0e9e558d6007fab5">usScrollWidth</a>,     usPosY + <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#c691135c59792f73f5a55c49908e4b7a">usScrollHeight</a>, <a class="code" href="himage_8cpp.html#d29939ffcd39c7d1cc0a91222702d361">Get16BPPColor</a>( FROMRGB(  45,  59,  74 ) ) );
<a name="l01919"></a>01919 
<a name="l01920"></a>01920 
<a name="l01921"></a>01921       <span class="comment">//Display the selected list box's display function</span>
<a name="l01922"></a>01922       ( *(<a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#baa1a74a561a5f0d1c4494c4b2bb121a">DisplayFunction</a>))();
<a name="l01923"></a>01923 
<a name="l01924"></a>01924       <span class="comment">//Display the Scroll BAr area</span>
<a name="l01925"></a>01925       <span class="comment">//clear the scroll bar background</span>
<a name="l01926"></a>01926       usPosX = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#6f3452a7f1f4e9c80b5d30f87feb9246">usScrollPosX</a>+<a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#7709cde08747319d0e9e558d6007fab5">usScrollWidth</a>;
<a name="l01927"></a>01927       usPosY = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#1581fa1c7e3ab83d3d84a6ffe7db6738">usScrollPosY</a> + 2;
<a name="l01928"></a>01928 
<a name="l01929"></a>01929       <a class="code" href="vsurface_8cpp.html#10d0257b54c4d27b2d82ead2a46cd581">ColorFillVideoSurfaceArea</a>( FRAME_BUFFER, usPosX, usPosY-1, usPosX+<a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#56907ccc250060088d8ee6a2d441d392">usScrollBarWidth</a>,  usPosY+ <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#c691135c59792f73f5a55c49908e4b7a">usScrollHeight</a>, <a class="code" href="himage_8cpp.html#d29939ffcd39c7d1cc0a91222702d361">Get16BPPColor</a>( FROMRGB(  192,  192,  192 ) ) );
<a name="l01930"></a>01930 
<a name="l01931"></a>01931 
<a name="l01932"></a>01932       <span class="comment">//get and display the up and down arrows</span>
<a name="l01933"></a>01933       <a class="code" href="vobject_8cpp.html#bda2b0eae4cb40e612dffd307ad5c692">GetVideoObject</a>(&amp;hImageHandle, <a class="code" href="Quest_01Debug_01System_8cpp.html#95ce8b83cdbfe6b351e297f66cecdc5f">guiQdScrollArrowImage</a>);
<a name="l01934"></a>01934       <span class="comment">//top arrow </span>
<a name="l01935"></a>01935       <a class="code" href="vobject_8cpp.html#8a5b07441769401593743b9f52a9e353">BltVideoObject</a>(FRAME_BUFFER, hImageHandle, 0, usPosX-5, usPosY-1, VO_BLT_SRCTRANSPARENCY,NULL);
<a name="l01936"></a>01936 
<a name="l01937"></a>01937       <span class="comment">//Bottom arrow </span>
<a name="l01938"></a>01938       <a class="code" href="vobject_8cpp.html#8a5b07441769401593743b9f52a9e353">BltVideoObject</a>(FRAME_BUFFER, hImageHandle, 1, usPosX, usPosY + <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#c691135c59792f73f5a55c49908e4b7a">usScrollHeight</a> - <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#5feec2b04bc344f3be381b6d5f2d494a">usScrollArrowHeight</a>, VO_BLT_SRCTRANSPARENCY,NULL);
<a name="l01939"></a>01939 
<a name="l01940"></a>01940       <span class="comment">//display the scroll rectangle</span>
<a name="l01941"></a>01941       <a class="code" href="Quest_01Debug_01System_8cpp.html#c7b6010f897a5b857c5b05431dfa9649">DrawQdsScrollRectangle</a>( );<span class="comment">//gpActiveListBox-&gt;sCurSelectedItem, usPosX, usPosY, (UINT16)(usPosY + gpActiveListBox-&gt;usScrollHeight), NUM_PROFILES-FIRST_RPC );</span>
<a name="l01942"></a>01942 
<a name="l01943"></a>01943       <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>( 0, 0, 640, 480 );
<a name="l01944"></a>01944 }
<a name="l01945"></a>01945 
<a name="l01946"></a>01946 
<a name="l01947"></a>01947 
<a name="l01948"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#0f9fb4b867349fcd8ef6da0dcdd713ea">01948</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#0f9fb4b867349fcd8ef6da0dcdd713ea">DisplaySelectedNPC</a>()
<a name="l01949"></a>01949 {
<a name="l01950"></a>01950       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>      i;
<a name="l01951"></a>01951       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>      usPosX, usPosY;
<a name="l01952"></a>01952       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>  usLocationX = 0, usLocationY = 0;
<a name="l01953"></a>01953       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>      usFontHeight = <a class="code" href="Font_8cpp.html#35cddf34696d33489efb820caf968907">GetFontHeight</a>( QUEST_DBS_FONT_LISTBOX_TEXT ) + 2;
<a name="l01954"></a>01954       <a class="code" href="Types_8h.html#fcdf88c1d4179fcd6d8a1fa9bbcb8a80">CHAR16</a>  sTempString[ 64 ];
<a name="l01955"></a>01955       <span class="keywordtype">wchar_t</span>     zButtonName[ 256 ];
<a name="l01956"></a>01956 
<a name="l01957"></a>01957 
<a name="l01958"></a>01958 
<a name="l01959"></a>01959       usPosX = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#6f3452a7f1f4e9c80b5d30f87feb9246">usScrollPosX</a>;
<a name="l01960"></a>01960       usPosY = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#1581fa1c7e3ab83d3d84a6ffe7db6738">usScrollPosY</a> + 2;
<a name="l01961"></a>01961 
<a name="l01962"></a>01962       <span class="comment">// display the names of the NPC's</span>
<a name="l01963"></a>01963       <span class="keywordflow">for</span>( i=<a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">usItemDisplayedOnTopOfList</a>; i&lt; gpActiveListBox-&gt;usItemDisplayedOnTopOfList+<a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#83caaadedbcf85d6e042a0f32664b2ed">usNumDisplayedItems</a>; i++)
<a name="l01964"></a>01964       {
<a name="l01965"></a>01965             <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#0e7478a157d5003d7ee62ea44784d05a">gfUseLocalNPCs</a> )
<a name="l01966"></a>01966             {
<a name="l01967"></a>01967                   <a class="code" href="WordWrap_8cpp.html#64f08dc42335055ef4c534d4f99ea5c8">DrawTextToScreen</a>( <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#6d22a033af1f12b11e6a60c97c1e54e7">gubCurrentNpcInSector</a>[ i ] ].zNickname, usPosX, usPosY, 0, QUEST_DBS_FONT_DYNAMIC_TEXT, QUEST_DBS_COLOR_DYNAMIC_TEXT, FONT_MCOLOR_BLACK, FALSE, LEFT_JUSTIFIED );                
<a name="l01968"></a>01968 
<a name="l01969"></a>01969                   <a class="code" href="Quest_01Debug_01System_8cpp.html#a3845eab0d232a38f3b055f308efb7ff">GetDebugLocationString</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#6d22a033af1f12b11e6a60c97c1e54e7">gubCurrentNpcInSector</a>[ i ], sTempString );
<a name="l01970"></a>01970 
<a name="l01971"></a>01971                   <span class="comment">//GetShortSectorString( gMercProfiles[ gubCurrentNpcInSector[ i ] ].sSectorX, gMercProfiles[ gubCurrentNpcInSector[ i ] ].sSectorY, sTempString );</span>
<a name="l01972"></a>01972             }
<a name="l01973"></a>01973             <span class="keywordflow">else</span>
<a name="l01974"></a>01974             {
<a name="l01975"></a>01975                   <a class="code" href="WordWrap_8cpp.html#64f08dc42335055ef4c534d4f99ea5c8">DrawTextToScreen</a>( <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ i ].zNickname, usPosX, usPosY, 0, QUEST_DBS_FONT_DYNAMIC_TEXT, QUEST_DBS_COLOR_DYNAMIC_TEXT, FONT_MCOLOR_BLACK, FALSE, LEFT_JUSTIFIED);
<a name="l01976"></a>01976 
<a name="l01977"></a>01977                   <a class="code" href="Quest_01Debug_01System_8cpp.html#a3845eab0d232a38f3b055f308efb7ff">GetDebugLocationString</a>( i, sTempString );
<a name="l01978"></a>01978 
<a name="l01979"></a>01979 <span class="comment">//                GetShortSectorString( gMercProfiles[ i ].sSectorX, gMercProfiles[ i ].sSectorY, sTempString );</span>
<a name="l01980"></a>01980             }
<a name="l01981"></a>01981 
<a name="l01982"></a>01982             <a class="code" href="Font_8cpp.html#e07e1d7f30bacf6b7ad052536c569b05">FindFontRightCoordinates</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#6f3452a7f1f4e9c80b5d30f87feb9246">usScrollPosX</a>, usPosY, <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#7709cde08747319d0e9e558d6007fab5">usScrollWidth</a>, 0, sTempString, QUEST_DBS_FONT_LISTBOX_TEXT, &amp;usLocationX, &amp;usLocationY );
<a name="l01983"></a>01983 
<a name="l01984"></a>01984             <span class="comment">// the location value</span>
<a name="l01985"></a>01985             <a class="code" href="WordWrap_8cpp.html#64f08dc42335055ef4c534d4f99ea5c8">DrawTextToScreen</a>( sTempString, ( <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> ) ( usLocationX - 2 ), usPosY, 0, QUEST_DBS_FONT_DYNAMIC_TEXT, QUEST_DBS_COLOR_DYNAMIC_TEXT, FONT_MCOLOR_BLACK, FALSE, LEFT_JUSTIFIED );
<a name="l01986"></a>01986 
<a name="l01987"></a>01987             usPosY += usFontHeight;
<a name="l01988"></a>01988       }
<a name="l01989"></a>01989 
<a name="l01990"></a>01990       <span class="comment">//if there is a selected item, highlight it.</span>
<a name="l01991"></a>01991       <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> &gt;= 0 )
<a name="l01992"></a>01992       {
<a name="l01993"></a>01993             usPosY = usFontHeight * ( <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> - <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">usItemDisplayedOnTopOfList</a> ) + <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#1581fa1c7e3ab83d3d84a6ffe7db6738">usScrollPosY</a> + 2;
<a name="l01994"></a>01994 
<a name="l01995"></a>01995             <span class="keywordflow">if</span>( usPosY &gt; 424 )
<a name="l01996"></a>01996                   usPosY = usPosY;
<a name="l01997"></a>01997 
<a name="l01998"></a>01998             <span class="comment">//display the name in the list</span>
<a name="l01999"></a>01999             <a class="code" href="vsurface_8cpp.html#10d0257b54c4d27b2d82ead2a46cd581">ColorFillVideoSurfaceArea</a>( FRAME_BUFFER, <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#6f3452a7f1f4e9c80b5d30f87feb9246">usScrollPosX</a>, usPosY - 1, <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#6f3452a7f1f4e9c80b5d30f87feb9246">usScrollPosX</a>+<a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#7709cde08747319d0e9e558d6007fab5">usScrollWidth</a>,     usPosY+usFontHeight - 1, <a class="code" href="himage_8cpp.html#d29939ffcd39c7d1cc0a91222702d361">Get16BPPColor</a>( FROMRGB( 255, 255, 255 ) ) );
<a name="l02000"></a>02000 
<a name="l02001"></a>02001             <a class="code" href="Font_8cpp.html#1513b9080348f45e52cc45e68cbeddee">SetFontShadow</a>(NO_SHADOW);     
<a name="l02002"></a>02002 
<a name="l02003"></a>02003             
<a name="l02004"></a>02004             <span class="comment">// the highlighted name</span>
<a name="l02005"></a>02005             <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#0e7478a157d5003d7ee62ea44784d05a">gfUseLocalNPCs</a> )
<a name="l02006"></a>02006             {
<a name="l02007"></a>02007                   <a class="code" href="WordWrap_8cpp.html#64f08dc42335055ef4c534d4f99ea5c8">DrawTextToScreen</a>( <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#6d22a033af1f12b11e6a60c97c1e54e7">gubCurrentNpcInSector</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> ] ].zNickname, <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#6f3452a7f1f4e9c80b5d30f87feb9246">usScrollPosX</a>, (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)(usPosY), 0, QUEST_DBS_FONT_LISTBOX_TEXT, 2, FONT_MCOLOR_BLACK, FALSE, LEFT_JUSTIFIED     );
<a name="l02008"></a>02008                   <a class="code" href="Quest_01Debug_01System_8cpp.html#a3845eab0d232a38f3b055f308efb7ff">GetDebugLocationString</a>( gubCurrentNpcInSector[ <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> ], sTempString );
<a name="l02009"></a>02009 
<a name="l02010"></a>02010 <span class="comment">//                GetShortSectorString( gMercProfiles[ gubCurrentNpcInSector[ gpActiveListBox-&gt;sCurSelectedItem ] ].sSectorX, gMercProfiles[ gubCurrentNpcInSector[ gpActiveListBox-&gt;sCurSelectedItem ] ].sSectorY, sTempString );</span>
<a name="l02011"></a>02011             }
<a name="l02012"></a>02012             <span class="keywordflow">else</span>
<a name="l02013"></a>02013             {
<a name="l02014"></a>02014                   <a class="code" href="WordWrap_8cpp.html#64f08dc42335055ef4c534d4f99ea5c8">DrawTextToScreen</a>( <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> ].zNickname, <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#6f3452a7f1f4e9c80b5d30f87feb9246">usScrollPosX</a>, (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)(usPosY), 0, QUEST_DBS_FONT_LISTBOX_TEXT, 2, FONT_MCOLOR_BLACK, FALSE, LEFT_JUSTIFIED      );
<a name="l02015"></a>02015 
<a name="l02016"></a>02016                   <a class="code" href="Quest_01Debug_01System_8cpp.html#a3845eab0d232a38f3b055f308efb7ff">GetDebugLocationString</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a>, sTempString );
<a name="l02017"></a>02017 <span class="comment">//                GetShortSectorString( gMercProfiles[ gpActiveListBox-&gt;sCurSelectedItem ].sSectorX, gMercProfiles[ gpActiveListBox-&gt;sCurSelectedItem ].sSectorY, sTempString );</span>
<a name="l02018"></a>02018             }
<a name="l02019"></a>02019 
<a name="l02020"></a>02020             <a class="code" href="Font_8cpp.html#e07e1d7f30bacf6b7ad052536c569b05">FindFontRightCoordinates</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#6f3452a7f1f4e9c80b5d30f87feb9246">usScrollPosX</a>, (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)(usPosY), <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#7709cde08747319d0e9e558d6007fab5">usScrollWidth</a>, 0, sTempString, QUEST_DBS_FONT_LISTBOX_TEXT, &amp;usLocationX, &amp;usLocationY );
<a name="l02021"></a>02021 
<a name="l02022"></a>02022             <span class="comment">// the location value</span>
<a name="l02023"></a>02023             <a class="code" href="WordWrap_8cpp.html#64f08dc42335055ef4c534d4f99ea5c8">DrawTextToScreen</a>( sTempString, usLocationX, (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)(usPosY), 0, QUEST_DBS_FONT_LISTBOX_TEXT, 2, FONT_MCOLOR_BLACK, FALSE, LEFT_JUSTIFIED );
<a name="l02024"></a>02024 
<a name="l02025"></a>02025             <a class="code" href="Font_8cpp.html#1513b9080348f45e52cc45e68cbeddee">SetFontShadow</a>(DEFAULT_SHADOW);
<a name="l02026"></a>02026 
<a name="l02027"></a>02027             <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#0e7478a157d5003d7ee62ea44784d05a">gfUseLocalNPCs</a> )
<a name="l02028"></a>02028                   swprintf( zButtonName, L<span class="stringliteral">"%d - %s"</span>, <a class="code" href="Quest_01Debug_01System_8cpp.html#6d22a033af1f12b11e6a60c97c1e54e7">gubCurrentNpcInSector</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> ],  <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#6d22a033af1f12b11e6a60c97c1e54e7">gubCurrentNpcInSector</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> ] ].zNickname );
<a name="l02029"></a>02029             <span class="keywordflow">else</span>
<a name="l02030"></a>02030                   swprintf( zButtonName, L<span class="stringliteral">"%d - %s"</span>, <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a>,  <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> ].zNickname );
<a name="l02031"></a>02031 
<a name="l02032"></a>02032             <a class="code" href="Button_01System_8cpp.html#927e98ae8d3535e396faf9ade7f5feb8">SpecifyButtonText</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#7ad04426e1486995a59c3352ecde50ac">guiQuestDebugCurNPCButton</a>, zButtonName );
<a name="l02033"></a>02033       }
<a name="l02034"></a>02034       
<a name="l02035"></a>02035       <a class="code" href="Font_8cpp.html#1513b9080348f45e52cc45e68cbeddee">SetFontShadow</a>( DEFAULT_SHADOW );    
<a name="l02036"></a>02036 }
<a name="l02037"></a>02037 
<a name="l02038"></a>02038 
<a name="l02039"></a>02039 
<a name="l02040"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#bd08ff35a2aca10577a35b607726d531">02040</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#bd08ff35a2aca10577a35b607726d531">DisplaySelectedItem</a>()
<a name="l02041"></a>02041 {
<a name="l02042"></a>02042       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>      i;
<a name="l02043"></a>02043       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>      usPosX, usPosY;
<a name="l02044"></a>02044       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>      usFontHeight = <a class="code" href="Font_8cpp.html#35cddf34696d33489efb820caf968907">GetFontHeight</a>( QUEST_DBS_FONT_LISTBOX_TEXT ) + 2;
<a name="l02045"></a>02045       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>      zItemName[ SIZE_ITEM_NAME ];
<a name="l02046"></a>02046 <span class="comment">//    UINT16      zItemDesc[ SIZE_ITEM_INFO ];</span>
<a name="l02047"></a>02047       
<a name="l02048"></a>02048       <span class="keywordtype">wchar_t</span>     zButtonName[ 256 ];
<a name="l02049"></a>02049 
<a name="l02050"></a>02050 
<a name="l02051"></a>02051       usPosX = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#6f3452a7f1f4e9c80b5d30f87feb9246">usScrollPosX</a>;
<a name="l02052"></a>02052       usPosY = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#1581fa1c7e3ab83d3d84a6ffe7db6738">usScrollPosY</a> + 2;
<a name="l02053"></a>02053 
<a name="l02054"></a>02054             <span class="comment">// display the names of the NPC's</span>
<a name="l02055"></a>02055       <span class="keywordflow">for</span>( i=<a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">usItemDisplayedOnTopOfList</a>; i&lt; gpActiveListBox-&gt;usItemDisplayedOnTopOfList+<a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#83caaadedbcf85d6e042a0f32664b2ed">usNumDisplayedItems</a>; i++)
<a name="l02056"></a>02056       {
<a name="l02057"></a>02057 <span class="comment">//          if ( !LoadItemInfo( i, zItemName, zItemDesc ) )</span>
<a name="l02058"></a>02058 <span class="comment">//                Assert(0);</span>
<a name="l02059"></a>02059             <a class="code" href="Sys_01Globals_8h.html#3d1e5716a3d04a53b8846319dd57da83">wcscpy</a>( zItemName, <a class="code" href="__DutchText_8cpp.html#1a6754089e322c2627f2dae5ac92f044">ShortItemNames</a>[ i ] );
<a name="l02060"></a>02060 
<a name="l02061"></a>02061 
<a name="l02062"></a>02062             <span class="keywordflow">if</span>( zItemName[0] == <span class="charliteral">'\0'</span> )
<a name="l02063"></a>02063                   <a class="code" href="Sys_01Globals_8h.html#3d1e5716a3d04a53b8846319dd57da83">wcscpy</a>( zItemName, <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5ae764af8e20dc9cacd0e30d15f0971b2">QUEST_DBS_NO_ITEM</a> ] );
<a name="l02064"></a>02064 
<a name="l02065"></a>02065             <a class="code" href="WordWrap_8cpp.html#64f08dc42335055ef4c534d4f99ea5c8">DrawTextToScreen</a>( zItemName, usPosX, usPosY, 0, QUEST_DBS_FONT_DYNAMIC_TEXT, QUEST_DBS_COLOR_DYNAMIC_TEXT, FONT_MCOLOR_BLACK, FALSE, LEFT_JUSTIFIED   );                
<a name="l02066"></a>02066             usPosY += usFontHeight;
<a name="l02067"></a>02067       }
<a name="l02068"></a>02068 
<a name="l02069"></a>02069       <span class="comment">//if there is a selected item, highlight it.</span>
<a name="l02070"></a>02070       <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> &gt;= 0 )
<a name="l02071"></a>02071       {
<a name="l02072"></a>02072             usPosY = usFontHeight * ( <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> - <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">usItemDisplayedOnTopOfList</a> ) + <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#1581fa1c7e3ab83d3d84a6ffe7db6738">usScrollPosY</a> + 2;
<a name="l02073"></a>02073 
<a name="l02074"></a>02074             <span class="comment">//display the name in the list</span>
<a name="l02075"></a>02075             <a class="code" href="vsurface_8cpp.html#10d0257b54c4d27b2d82ead2a46cd581">ColorFillVideoSurfaceArea</a>( FRAME_BUFFER, <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#6f3452a7f1f4e9c80b5d30f87feb9246">usScrollPosX</a>, usPosY - 1, <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#6f3452a7f1f4e9c80b5d30f87feb9246">usScrollPosX</a>+<a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#7709cde08747319d0e9e558d6007fab5">usScrollWidth</a>,     usPosY+usFontHeight - 1, <a class="code" href="himage_8cpp.html#d29939ffcd39c7d1cc0a91222702d361">Get16BPPColor</a>( FROMRGB( 255, 255, 255 ) ) );
<a name="l02076"></a>02076 
<a name="l02077"></a>02077             <a class="code" href="Font_8cpp.html#1513b9080348f45e52cc45e68cbeddee">SetFontShadow</a>(NO_SHADOW);     
<a name="l02078"></a>02078 
<a name="l02079"></a>02079 <span class="comment">//          if ( !LoadItemInfo( gpActiveListBox-&gt;sCurSelectedItem, zItemName, zItemDesc ) )</span>
<a name="l02080"></a>02080 <span class="comment">//                Assert(0);</span>
<a name="l02081"></a>02081             <a class="code" href="Sys_01Globals_8h.html#3d1e5716a3d04a53b8846319dd57da83">wcscpy</a>( zItemName, <a class="code" href="__DutchText_8cpp.html#1a6754089e322c2627f2dae5ac92f044">ShortItemNames</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> ] );
<a name="l02082"></a>02082 
<a name="l02083"></a>02083             <span class="keywordflow">if</span>( zItemName[0] == <span class="charliteral">'\0'</span> )
<a name="l02084"></a>02084                   <a class="code" href="Sys_01Globals_8h.html#3d1e5716a3d04a53b8846319dd57da83">wcscpy</a>( zItemName, <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5ae764af8e20dc9cacd0e30d15f0971b2">QUEST_DBS_NO_ITEM</a> ] );
<a name="l02085"></a>02085 
<a name="l02086"></a>02086 
<a name="l02087"></a>02087             <a class="code" href="WordWrap_8cpp.html#64f08dc42335055ef4c534d4f99ea5c8">DrawTextToScreen</a>( zItemName, <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#6f3452a7f1f4e9c80b5d30f87feb9246">usScrollPosX</a>, (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)(usPosY), 0, QUEST_DBS_FONT_LISTBOX_TEXT, 2, FONT_MCOLOR_BLACK, FALSE, LEFT_JUSTIFIED   );
<a name="l02088"></a>02088             <a class="code" href="Font_8cpp.html#1513b9080348f45e52cc45e68cbeddee">SetFontShadow</a>(DEFAULT_SHADOW);
<a name="l02089"></a>02089 
<a name="l02090"></a>02090             swprintf( zButtonName, L<span class="stringliteral">"%d - %s"</span>, <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a>, zItemName );
<a name="l02091"></a>02091 
<a name="l02092"></a>02092             <a class="code" href="Button_01System_8cpp.html#927e98ae8d3535e396faf9ade7f5feb8">SpecifyButtonText</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#2cefb6f2685705b58756a10cd6c1ac16">guiQuestDebugCurItemButton</a>, zButtonName );
<a name="l02093"></a>02093       }
<a name="l02094"></a>02094 
<a name="l02095"></a>02095       <a class="code" href="Font_8cpp.html#1513b9080348f45e52cc45e68cbeddee">SetFontShadow</a>(DEFAULT_SHADOW);      
<a name="l02096"></a>02096 
<a name="l02097"></a>02097 }
<a name="l02098"></a>02098 
<a name="l02099"></a>02099 
<a name="l02100"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#5a227983182c7722b53cc3377314c86f">02100</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#5a227983182c7722b53cc3377314c86f">SelectNpcListRegionCallBack</a>(<a class="code" href="struct__MOUSE__REGION.html">MOUSE_REGION</a> * pRegion, <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iReason )
<a name="l02101"></a>02101 { 
<a name="l02102"></a>02102       <span class="keywordflow">if</span> (iReason &amp; MSYS_CALLBACK_REASON_INIT)
<a name="l02103"></a>02103       {
<a name="l02104"></a>02104       }
<a name="l02105"></a>02105       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iReason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP)
<a name="l02106"></a>02106       {
<a name="l02107"></a>02107             <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubSelected = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)<a class="code" href="mousesystem_8cpp.html#8b64ac2435c69cf4c67ab56af8f5badc">MSYS_GetRegionUserData</a>( pRegion, 0 );
<a name="l02108"></a>02108 
<a name="l02109"></a>02109             <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#3db938caea7bf117e178c5b018cc7eb6">ubCurScrollBoxAction</a>     = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbdebfaf2b25c7edf4f76d41cf99805783b">QD_DROP_DOWN_DESTROY</a>;<span class="comment">//qq</span>
<a name="l02110"></a>02110             <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a>               =     ubSelected + <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">usItemDisplayedOnTopOfList</a>;
<a name="l02111"></a>02111       } 
<a name="l02112"></a>02112       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iReason &amp; MSYS_CALLBACK_REASON_RBUTTON_UP)
<a name="l02113"></a>02113       {
<a name="l02114"></a>02114             <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#3db938caea7bf117e178c5b018cc7eb6">ubCurScrollBoxAction</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbdebfaf2b25c7edf4f76d41cf99805783b">QD_DROP_DOWN_DESTROY</a>;
<a name="l02115"></a>02115             <a class="code" href="Quest_01Debug_01System_8cpp.html#05daf318ed86fbd4275ec644bbd10943">CreateDestroyDisplaySelectNpcDropDownBox</a>();
<a name="l02116"></a>02116             <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#3db938caea7bf117e178c5b018cc7eb6">ubCurScrollBoxAction</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd0d0b45129a797d27de0a228453905361">QD_DROP_DOWN_NO_ACTION</a>;
<a name="l02117"></a>02117       } 
<a name="l02118"></a>02118 
<a name="l02119"></a>02119 }
<a name="l02120"></a>02120 
<a name="l02121"></a>02121 
<a name="l02122"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#495b73a2e1f02bdfb5b6e636ea3c2b21">02122</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#495b73a2e1f02bdfb5b6e636ea3c2b21">SelectNpcListMovementCallBack</a>(<a class="code" href="struct__MOUSE__REGION.html">MOUSE_REGION</a> * pRegion, <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason )
<a name="l02123"></a>02123 {
<a name="l02124"></a>02124       <span class="keywordflow">if</span>( reason &amp; MSYS_CALLBACK_REASON_LOST_MOUSE )
<a name="l02125"></a>02125       {
<a name="l02126"></a>02126             pRegion-&gt;<a class="code" href="struct__MOUSE__REGION.html#dfdca58b4a0c98d87700ddb11c581c06">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON );
<a name="l02127"></a>02127             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(pRegion-&gt;<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, pRegion-&gt;<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, pRegion-&gt;<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, pRegion-&gt;<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02128"></a>02128       }
<a name="l02129"></a>02129       <span class="keywordflow">else</span> <span class="keywordflow">if</span>( reason &amp; MSYS_CALLBACK_REASON_GAIN_MOUSE )
<a name="l02130"></a>02130       {
<a name="l02131"></a>02131             <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sSelected = (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)<a class="code" href="mousesystem_8cpp.html#8b64ac2435c69cf4c67ab56af8f5badc">MSYS_GetRegionUserData</a>( pRegion, 0 );<span class="comment">// + gubCityAtTopOfList;</span>
<a name="l02132"></a>02132 
<a name="l02133"></a>02133             pRegion-&gt;<a class="code" href="struct__MOUSE__REGION.html#dfdca58b4a0c98d87700ddb11c581c06">uiFlags</a> |= BUTTON_CLICKED_ON ;
<a name="l02134"></a>02134 
<a name="l02135"></a>02135             <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> = sSelected + <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">usItemDisplayedOnTopOfList</a>;
<a name="l02136"></a>02136 
<a name="l02137"></a>02137             <span class="comment">//if we are at the top of the list</span>
<a name="l02138"></a>02138 <span class="comment">//          if( sSelected == 0 )</span>
<a name="l02139"></a>02139 <span class="comment">//                IncrementActiveDropDownBox( (INT16)(gpActiveListBox-&gt;sCurSelectedItem - 1 ) );</span>
<a name="l02140"></a>02140 
<a name="l02141"></a>02141             <span class="comment">//else we are at the bottom of the list</span>
<a name="l02142"></a>02142 <span class="comment">//          else if( sSelected == gpActiveListBox-&gt;usMaxNumDisplayedItems - 1 )</span>
<a name="l02143"></a>02143 <span class="comment">//                IncrementActiveDropDownBox( (INT16)(gpActiveListBox-&gt;sCurSelectedItem + 1 ) );</span>
<a name="l02144"></a>02144 
<a name="l02145"></a>02145 
<a name="l02146"></a>02146             <a class="code" href="Quest_01Debug_01System_8cpp.html#eecc3d85df074960b8380661f10caf2e">DisplaySelectedListBox</a>( );
<a name="l02147"></a>02147 
<a name="l02148"></a>02148             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(pRegion-&gt;<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, pRegion-&gt;<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, pRegion-&gt;<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, pRegion-&gt;<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02149"></a>02149       }
<a name="l02150"></a>02150       <span class="keywordflow">else</span> <span class="keywordflow">if</span>( reason &amp; MSYS_CALLBACK_REASON_MOVE )
<a name="l02151"></a>02151       {
<a name="l02152"></a>02152             <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sSelected = (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)<a class="code" href="mousesystem_8cpp.html#8b64ac2435c69cf4c67ab56af8f5badc">MSYS_GetRegionUserData</a>( pRegion, 0 );<span class="comment">// + gubCityAtTopOfList;</span>
<a name="l02153"></a>02153 
<a name="l02154"></a>02154             pRegion-&gt;<a class="code" href="struct__MOUSE__REGION.html#dfdca58b4a0c98d87700ddb11c581c06">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON );
<a name="l02155"></a>02155 
<a name="l02156"></a>02156             <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> != ( sSelected + <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">usItemDisplayedOnTopOfList</a> ))
<a name="l02157"></a>02157             {
<a name="l02158"></a>02158                   <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> = sSelected + <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">usItemDisplayedOnTopOfList</a>;
<a name="l02159"></a>02159 
<a name="l02160"></a>02160                   <a class="code" href="Quest_01Debug_01System_8cpp.html#eecc3d85df074960b8380661f10caf2e">DisplaySelectedListBox</a>( );
<a name="l02161"></a>02161             }
<a name="l02162"></a>02162 
<a name="l02163"></a>02163             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(pRegion-&gt;<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, pRegion-&gt;<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, pRegion-&gt;<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, pRegion-&gt;<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02164"></a>02164       }
<a name="l02165"></a>02165 
<a name="l02166"></a>02166 } 
<a name="l02167"></a>02167 
<a name="l02168"></a>02168 
<a name="l02169"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#c7b6010f897a5b857c5b05431dfa9649">02169</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#c7b6010f897a5b857c5b05431dfa9649">DrawQdsScrollRectangle</a>( ) <span class="comment">//INT16 sSelectedEntry, UINT16 usStartPosX, UINT16 usStartPosY, UINT16 usScrollAreaHeight, UINT16 usNumEntries )</span>
<a name="l02170"></a>02170 {
<a name="l02171"></a>02171   <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a> uiDestPitchBYTES;
<a name="l02172"></a>02172   <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>      *pDestBuf;
<a name="l02173"></a>02173       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usWidth, usTempPosY;
<a name="l02174"></a>02174       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>      usHeight, usPosY, usPosX;
<a name="l02175"></a>02175 
<a name="l02176"></a>02176       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>      usNumEntries = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#715672339dcfaceb5b2d4b96fcc32653">usMaxArrayIndex</a> - <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#1251664ccbeec622dcf990b4dae8fac7">usStartIndex</a> - 1;
<a name="l02177"></a>02177 
<a name="l02178"></a>02178 
<a name="l02179"></a>02179       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> temp;
<a name="l02180"></a>02180 
<a name="l02181"></a>02181       usTempPosY = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#1581fa1c7e3ab83d3d84a6ffe7db6738">usScrollPosY</a> + <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#5feec2b04bc344f3be381b6d5f2d494a">usScrollArrowHeight</a>;
<a name="l02182"></a>02182       usPosX = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#6f3452a7f1f4e9c80b5d30f87feb9246">usScrollPosX</a> + <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#7709cde08747319d0e9e558d6007fab5">usScrollWidth</a>;
<a name="l02183"></a>02183       usWidth = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#56907ccc250060088d8ee6a2d441d392">usScrollBarWidth</a>;
<a name="l02184"></a>02184       
<a name="l02185"></a>02185       usHeight = (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)(<a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#425c58a1a9717dd37087b7254231434e">usScrollBarHeight</a> / (<a class="code" href="Types_8h.html#8d06b04c04132c6f7c0fcb08c6167455">FLOAT</a>)( usNumEntries ) + .5 );<span class="comment">//qq+ 1 );</span>
<a name="l02186"></a>02186 
<a name="l02187"></a>02187       <span class="keywordflow">if</span>( usNumEntries &gt; <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#5c7335f7d4612f5d750f8c52b2aff54d">usMaxNumDisplayedItems</a> )
<a name="l02188"></a>02188             usPosY = usTempPosY + (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)( ( <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#425c58a1a9717dd37087b7254231434e">usScrollBarHeight</a> /  (<a class="code" href="Types_8h.html#8d06b04c04132c6f7c0fcb08c6167455">FLOAT</a>)(usNumEntries +1) ) * ( <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> - <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#1251664ccbeec622dcf990b4dae8fac7">usStartIndex</a> ) );
<a name="l02189"></a>02189       <span class="keywordflow">else</span>
<a name="l02190"></a>02190             usPosY = usTempPosY;
<a name="l02191"></a>02191 
<a name="l02192"></a>02192       <span class="comment">//bottom</span>
<a name="l02193"></a>02193       temp = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#1581fa1c7e3ab83d3d84a6ffe7db6738">usScrollPosY</a> + <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#425c58a1a9717dd37087b7254231434e">usScrollBarHeight</a> + <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#5feec2b04bc344f3be381b6d5f2d494a">usScrollArrowHeight</a>;
<a name="l02194"></a>02194 
<a name="l02195"></a>02195       <span class="keywordflow">if</span>( usPosY &gt;= temp )
<a name="l02196"></a>02196             usPosY = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#1581fa1c7e3ab83d3d84a6ffe7db6738">usScrollPosY</a> + <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#425c58a1a9717dd37087b7254231434e">usScrollBarHeight</a> + <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#5feec2b04bc344f3be381b6d5f2d494a">usScrollArrowHeight</a> - usHeight;
<a name="l02197"></a>02197 
<a name="l02198"></a>02198       <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#0541d816c3284d2eacabfbe3f89fee9e">usScrollBoxY</a> = usPosY;
<a name="l02199"></a>02199       <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#30678ed0b91bdf04492aed24949e31d8">usScrollBoxEndY</a> = usPosY + usHeight;
<a name="l02200"></a>02200 
<a name="l02201"></a>02201       <a class="code" href="vsurface_8cpp.html#10d0257b54c4d27b2d82ead2a46cd581">ColorFillVideoSurfaceArea</a>( FRAME_BUFFER, usPosX, usPosY, usPosX+usWidth-1,    usPosY+usHeight, <a class="code" href="himage_8cpp.html#d29939ffcd39c7d1cc0a91222702d361">Get16BPPColor</a>( FROMRGB( 130, 132, 128 ) ) );
<a name="l02202"></a>02202 
<a name="l02203"></a>02203       <span class="comment">//display the line</span>
<a name="l02204"></a>02204       pDestBuf = <a class="code" href="vsurface_8cpp.html#592b2aeda6075fcbf9d7c67dc44fbd47">LockVideoSurface</a>( FRAME_BUFFER, &amp;uiDestPitchBYTES );               
<a name="l02205"></a>02205       <a class="code" href="line_8cpp.html#03cb6a8fa3b4bbdfcdab02c903bc7b7e">SetClippingRegionAndImageWidth</a>( uiDestPitchBYTES, 0, 0, 640, 480);
<a name="l02206"></a>02206 
<a name="l02207"></a>02207   <span class="comment">// draw the gold highlite line on the top and left</span>
<a name="l02208"></a>02208       <a class="code" href="line_8cpp.html#aa92e189d27648ae67b8b8f5de610f42">LineDraw</a>(FALSE, usPosX, usPosY, usPosX+usWidth-1, usPosY, <a class="code" href="himage_8cpp.html#d29939ffcd39c7d1cc0a91222702d361">Get16BPPColor</a>( FROMRGB( 255, 255, 255 ) ), pDestBuf);
<a name="l02209"></a>02209       <a class="code" href="line_8cpp.html#aa92e189d27648ae67b8b8f5de610f42">LineDraw</a>(FALSE, usPosX, usPosY, usPosX, usPosY+usHeight, <a class="code" href="himage_8cpp.html#d29939ffcd39c7d1cc0a91222702d361">Get16BPPColor</a>( FROMRGB( 255, 255, 255 ) ), pDestBuf);
<a name="l02210"></a>02210 
<a name="l02211"></a>02211   <span class="comment">// draw the shadow line on the bottom and right</span>
<a name="l02212"></a>02212       <a class="code" href="line_8cpp.html#aa92e189d27648ae67b8b8f5de610f42">LineDraw</a>(FALSE, usPosX, usPosY+usHeight, usPosX+usWidth-1, usPosY+usHeight, <a class="code" href="himage_8cpp.html#d29939ffcd39c7d1cc0a91222702d361">Get16BPPColor</a>( FROMRGB( 112, 110, 112 ) ), pDestBuf);
<a name="l02213"></a>02213       <a class="code" href="line_8cpp.html#aa92e189d27648ae67b8b8f5de610f42">LineDraw</a>(FALSE, usPosX+usWidth-1, usPosY, usPosX+usWidth-1, usPosY+usHeight, <a class="code" href="himage_8cpp.html#d29939ffcd39c7d1cc0a91222702d361">Get16BPPColor</a>( FROMRGB( 112, 110, 112 ) ), pDestBuf);
<a name="l02214"></a>02214       
<a name="l02215"></a>02215       <span class="comment">// unlock frame buffer</span>
<a name="l02216"></a>02216       <a class="code" href="vsurface_8cpp.html#abe4e4124597b70b046a3b3567002cb2">UnLockVideoSurface</a>( FRAME_BUFFER );
<a name="l02217"></a>02217 }
<a name="l02218"></a>02218 
<a name="l02219"></a>02219 
<a name="l02220"></a>02220 
<a name="l02221"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#a8564e488afa62ff9409ad95fbc8475e">02221</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#a8564e488afa62ff9409ad95fbc8475e">ScrollArrowsRegionCallBack</a>(<a class="code" href="struct__MOUSE__REGION.html">MOUSE_REGION</a> * pRegion, <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iReason )
<a name="l02222"></a>02222 { 
<a name="l02223"></a>02223       <span class="keywordflow">if</span> (iReason &amp; MSYS_CALLBACK_REASON_INIT)
<a name="l02224"></a>02224       {
<a name="l02225"></a>02225       }
<a name="l02226"></a>02226       <span class="keywordflow">else</span> <span class="keywordflow">if</span>( (iReason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP) || ( iReason &amp; MSYS_CALLBACK_REASON_LBUTTON_REPEAT ) )
<a name="l02227"></a>02227       {
<a name="l02228"></a>02228             <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubSelected = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)<a class="code" href="mousesystem_8cpp.html#8b64ac2435c69cf4c67ab56af8f5badc">MSYS_GetRegionUserData</a>( pRegion, 0 );
<a name="l02229"></a>02229 
<a name="l02230"></a>02230             <span class="comment">//if down arrow</span>
<a name="l02231"></a>02231             <span class="keywordflow">if</span>( ubSelected )
<a name="l02232"></a>02232             {
<a name="l02233"></a>02233                   <span class="comment">//if not at end of list</span>
<a name="l02234"></a>02234                   <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> &lt; <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#715672339dcfaceb5b2d4b96fcc32653">usMaxArrayIndex</a>-1 )
<a name="l02235"></a>02235                         <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> ++;
<a name="l02236"></a>02236 
<a name="l02237"></a>02237                   <span class="comment">//if end of displayed list, increment top of list</span>
<a name="l02238"></a>02238                   <span class="keywordflow">if</span>( ( <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> - <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">usItemDisplayedOnTopOfList</a> ) &gt;= <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#83caaadedbcf85d6e042a0f32664b2ed">usNumDisplayedItems</a> )
<a name="l02239"></a>02239                         <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">usItemDisplayedOnTopOfList</a>++;
<a name="l02240"></a>02240             }
<a name="l02241"></a>02241 
<a name="l02242"></a>02242             <span class="comment">//else, up arrow</span>
<a name="l02243"></a>02243             <span class="keywordflow">else</span>
<a name="l02244"></a>02244             {
<a name="l02245"></a>02245                   <span class="comment">//if not at end of list</span>
<a name="l02246"></a>02246                   <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> &gt; <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#1251664ccbeec622dcf990b4dae8fac7">usStartIndex</a> )
<a name="l02247"></a>02247                         <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> --;
<a name="l02248"></a>02248 
<a name="l02249"></a>02249                   <span class="comment">//if top of displayed list</span>
<a name="l02250"></a>02250                   <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> &lt; <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">usItemDisplayedOnTopOfList</a> )
<a name="l02251"></a>02251                         <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">usItemDisplayedOnTopOfList</a>--;
<a name="l02252"></a>02252             }
<a name="l02253"></a>02253       
<a name="l02254"></a>02254             <a class="code" href="Quest_01Debug_01System_8cpp.html#eecc3d85df074960b8380661f10caf2e">DisplaySelectedListBox</a>( );
<a name="l02255"></a>02255       } 
<a name="l02256"></a>02256 }
<a name="l02257"></a>02257 
<a name="l02258"></a>02258 
<a name="l02259"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#561554a77afd1a831cd2334c74c99124">02259</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#561554a77afd1a831cd2334c74c99124">ScrollAreaRegionCallBack</a>(<a class="code" href="struct__MOUSE__REGION.html">MOUSE_REGION</a> * pRegion, <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iReason )
<a name="l02260"></a>02260 { 
<a name="l02261"></a>02261       <span class="keywordflow">if</span> (iReason &amp; MSYS_CALLBACK_REASON_INIT)
<a name="l02262"></a>02262       {
<a name="l02263"></a>02263       }
<a name="l02264"></a>02264       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iReason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP)
<a name="l02265"></a>02265       {
<a name="l02266"></a>02266             <a class="code" href="Quest_01Debug_01System_8cpp.html#c7c21b21d2980fdf71691236bfd4c187">CalcPositionOfNewScrollBoxLocation</a>();
<a name="l02267"></a>02267       } 
<a name="l02268"></a>02268       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iReason &amp; MSYS_CALLBACK_REASON_LBUTTON_REPEAT)
<a name="l02269"></a>02269       {
<a name="l02270"></a>02270             <a class="code" href="Quest_01Debug_01System_8cpp.html#c7c21b21d2980fdf71691236bfd4c187">CalcPositionOfNewScrollBoxLocation</a>();
<a name="l02271"></a>02271       }
<a name="l02272"></a>02272       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iReason &amp; MSYS_CALLBACK_REASON_RBUTTON_UP)
<a name="l02273"></a>02273       {
<a name="l02274"></a>02274             <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#3db938caea7bf117e178c5b018cc7eb6">ubCurScrollBoxAction</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbdebfaf2b25c7edf4f76d41cf99805783b">QD_DROP_DOWN_DESTROY</a>;
<a name="l02275"></a>02275             <a class="code" href="Quest_01Debug_01System_8cpp.html#05daf318ed86fbd4275ec644bbd10943">CreateDestroyDisplaySelectNpcDropDownBox</a>();
<a name="l02276"></a>02276             <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#3db938caea7bf117e178c5b018cc7eb6">ubCurScrollBoxAction</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd0d0b45129a797d27de0a228453905361">QD_DROP_DOWN_NO_ACTION</a>;
<a name="l02277"></a>02277       } 
<a name="l02278"></a>02278 }
<a name="l02279"></a>02279 
<a name="l02280"></a>02280 
<a name="l02281"></a>02281 
<a name="l02282"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#92262bf364ce67757695676ea3a6eb73">02282</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#92262bf364ce67757695676ea3a6eb73">ScrollAreaMovementCallBack</a>(<a class="code" href="struct__MOUSE__REGION.html">MOUSE_REGION</a> * pRegion, <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason )
<a name="l02283"></a>02283 {
<a name="l02284"></a>02284       <span class="keywordflow">if</span>( reason &amp; MSYS_CALLBACK_REASON_LOST_MOUSE )
<a name="l02285"></a>02285       {
<a name="l02286"></a>02286             pRegion-&gt;<a class="code" href="struct__MOUSE__REGION.html#dfdca58b4a0c98d87700ddb11c581c06">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON );
<a name="l02287"></a>02287 
<a name="l02288"></a>02288 <span class="comment">//          CalcPositionOfNewScrollBoxLocation();</span>
<a name="l02289"></a>02289 
<a name="l02290"></a>02290             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(pRegion-&gt;<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, pRegion-&gt;<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, pRegion-&gt;<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, pRegion-&gt;<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02291"></a>02291       }
<a name="l02292"></a>02292       <span class="keywordflow">else</span> <span class="keywordflow">if</span>( reason &amp; MSYS_CALLBACK_REASON_GAIN_MOUSE )
<a name="l02293"></a>02293       {
<a name="l02294"></a>02294 <span class="comment">//          CalcPositionOfNewScrollBoxLocation();</span>
<a name="l02295"></a>02295 
<a name="l02296"></a>02296             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(pRegion-&gt;<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, pRegion-&gt;<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, pRegion-&gt;<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, pRegion-&gt;<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02297"></a>02297       }
<a name="l02298"></a>02298       <span class="keywordflow">else</span> <span class="keywordflow">if</span>( reason &amp; MSYS_CALLBACK_REASON_MOVE )
<a name="l02299"></a>02299       {
<a name="l02300"></a>02300             <span class="keywordflow">if</span>( <a class="code" href="input_8cpp.html#fb2dcc39ce3dcb01df1593baa94e3c62">gfLeftButtonState</a> )
<a name="l02301"></a>02301             {
<a name="l02302"></a>02302                   <a class="code" href="Quest_01Debug_01System_8cpp.html#c7c21b21d2980fdf71691236bfd4c187">CalcPositionOfNewScrollBoxLocation</a>();
<a name="l02303"></a>02303             }
<a name="l02304"></a>02304 
<a name="l02305"></a>02305             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(pRegion-&gt;<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, pRegion-&gt;<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, pRegion-&gt;<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, pRegion-&gt;<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02306"></a>02306       }
<a name="l02307"></a>02307 } 
<a name="l02308"></a>02308 
<a name="l02309"></a>02309 
<a name="l02310"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#c7c21b21d2980fdf71691236bfd4c187">02310</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#c7c21b21d2980fdf71691236bfd4c187">CalcPositionOfNewScrollBoxLocation</a>()
<a name="l02311"></a>02311 {
<a name="l02312"></a>02312       <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sMouseXPos, sMouseYPos;
<a name="l02313"></a>02313       <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sIncrementValue;
<a name="l02314"></a>02314       <a class="code" href="Types_8h.html#8d06b04c04132c6f7c0fcb08c6167455">FLOAT</a> dValue;
<a name="l02315"></a>02315       <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sHeight=0;
<a name="l02316"></a>02316 <span class="comment">//    INT16 sHeightOfScrollBox = (INT16)(gpActiveListBox-&gt;usScrollBarHeight / (FLOAT)(gpActiveListBox-&gt;usMaxArrayIndex - gpActiveListBox-&gt;usStartIndex ) + .5);</span>
<a name="l02317"></a>02317       <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sHeightOfScrollBox = (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)(<a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#425c58a1a9717dd37087b7254231434e">usScrollBarHeight</a> / (<a class="code" href="Types_8h.html#8d06b04c04132c6f7c0fcb08c6167455">FLOAT</a>)(<a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#715672339dcfaceb5b2d4b96fcc32653">usMaxArrayIndex</a> ) + .5);
<a name="l02318"></a>02318       <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sStartPosOfScrollArea = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#1581fa1c7e3ab83d3d84a6ffe7db6738">usScrollPosY</a> + <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#5feec2b04bc344f3be381b6d5f2d494a">usScrollArrowHeight</a>;
<a name="l02319"></a>02319 
<a name="l02320"></a>02320       sMouseXPos = <a class="code" href="input_8cpp.html#01dea51e8a845c10078bb3e9fde80209">gusMouseXPos</a>;
<a name="l02321"></a>02321       sMouseYPos = <a class="code" href="input_8cpp.html#cb09b6d6d53490d8a11992dd51f582f3">gusMouseYPos</a>;
<a name="l02322"></a>02322 
<a name="l02323"></a>02323       <span class="comment">//if we have to scroll</span>
<a name="l02324"></a>02324       <span class="keywordflow">if</span>( sMouseYPos &gt; sStartPosOfScrollArea || sMouseYPos &lt; ( sStartPosOfScrollArea + <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#425c58a1a9717dd37087b7254231434e">usScrollBarHeight</a> ) )
<a name="l02325"></a>02325       {
<a name="l02326"></a>02326             <span class="comment">//Calculate the number of items we have to move</span>
<a name="l02327"></a>02327             sHeight = sMouseYPos - sStartPosOfScrollArea;
<a name="l02328"></a>02328 
<a name="l02329"></a>02329             
<a name="l02330"></a>02330             dValue = sHeight / (<a class="code" href="Types_8h.html#8d06b04c04132c6f7c0fcb08c6167455">FLOAT</a>)( <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#425c58a1a9717dd37087b7254231434e">usScrollBarHeight</a> );
<a name="l02331"></a>02331             sIncrementValue = (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)( ( dValue ) * ( <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#715672339dcfaceb5b2d4b96fcc32653">usMaxArrayIndex</a> - <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#1251664ccbeec622dcf990b4dae8fac7">usStartIndex</a> ) + .5 ) + <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#1251664ccbeec622dcf990b4dae8fac7">usStartIndex</a>;
<a name="l02332"></a>02332 <span class="comment">//          sIncrementValue = (INT16)( ( dValue ) * ( gpActiveListBox-&gt;usMaxArrayIndex - gpActiveListBox-&gt;usStartIndex ) + .5 );</span>
<a name="l02333"></a>02333 
<a name="l02334"></a>02334             <a class="code" href="Quest_01Debug_01System_8cpp.html#8298a6a47684c694142199948fc4b17f">IncrementActiveDropDownBox</a>( sIncrementValue );
<a name="l02335"></a>02335 <span class="comment">/*</span>
<a name="l02336"></a>02336 <span class="comment">            //if the mouse was clicked above the scroll box</span>
<a name="l02337"></a>02337 <span class="comment">            if( sIncrementValue &lt; gpActiveListBox-&gt;sCurSelectedItem )</span>
<a name="l02338"></a>02338 <span class="comment">            {</span>
<a name="l02339"></a>02339 <span class="comment">                  if( ( gpActiveListBox-&gt;usItemDisplayedOnTopOfList - sIncrementValue ) &lt;= 0 )</span>
<a name="l02340"></a>02340 <span class="comment">                        gpActiveListBox-&gt;usItemDisplayedOnTopOfList = gpActiveListBox-&gt;usStartIndex;</span>
<a name="l02341"></a>02341 <span class="comment">                  else</span>
<a name="l02342"></a>02342 <span class="comment">                        gpActiveListBox-&gt;usItemDisplayedOnTopOfList = sIncrementValue;</span>
<a name="l02343"></a>02343 <span class="comment"></span>
<a name="l02344"></a>02344 <span class="comment">            }</span>
<a name="l02345"></a>02345 <span class="comment">            // else the mouse was clicked below the scroll box</span>
<a name="l02346"></a>02346 <span class="comment">            else </span>
<a name="l02347"></a>02347 <span class="comment">            {</span>
<a name="l02348"></a>02348 <span class="comment">                  if( sIncrementValue &gt;= ( gpActiveListBox-&gt;usMaxArrayIndex - gpActiveListBox-&gt;usMaxNumDisplayedItems ) )</span>
<a name="l02349"></a>02349 <span class="comment">                        gpActiveListBox-&gt;usItemDisplayedOnTopOfList = gpActiveListBox-&gt;usMaxArrayIndex - gpActiveListBox-&gt;usMaxNumDisplayedItems;</span>
<a name="l02350"></a>02350 <span class="comment">                  else</span>
<a name="l02351"></a>02351 <span class="comment">                        gpActiveListBox-&gt;usItemDisplayedOnTopOfList = sIncrementValue;</span>
<a name="l02352"></a>02352 <span class="comment">            }</span>
<a name="l02353"></a>02353 <span class="comment"></span>
<a name="l02354"></a>02354 <span class="comment">            gpActiveListBox-&gt;sCurSelectedItem = sIncrementValue;</span>
<a name="l02355"></a>02355 <span class="comment">*/</span>
<a name="l02356"></a>02356       }
<a name="l02357"></a>02357 
<a name="l02358"></a>02358 <span class="comment">/*</span>
<a name="l02359"></a>02359 <span class="comment">      if( sMouseYPos &lt; gpActiveListBox-&gt;usScrollBoxY )</span>
<a name="l02360"></a>02360 <span class="comment">      {</span>
<a name="l02361"></a>02361 <span class="comment">            if( ( gpActiveListBox-&gt;sCurSelectedItem - 10 ) &gt; 0 )</span>
<a name="l02362"></a>02362 <span class="comment">                  sIncrementValue = 10;</span>
<a name="l02363"></a>02363 <span class="comment">            else</span>
<a name="l02364"></a>02364 <span class="comment">                  sIncrementValue = 1;</span>
<a name="l02365"></a>02365 <span class="comment"></span>
<a name="l02366"></a>02366 <span class="comment">            gpActiveListBox-&gt;sCurSelectedItem -= sIncrementValue;</span>
<a name="l02367"></a>02367 <span class="comment"></span>
<a name="l02368"></a>02368 <span class="comment">            //if we dont have to scroll,</span>
<a name="l02369"></a>02369 <span class="comment">            if( gpActiveListBox-&gt;usNumDisplayedItems &lt; gpActiveListBox-&gt;usMaxNumDisplayedItems )</span>
<a name="l02370"></a>02370 <span class="comment">            {</span>
<a name="l02371"></a>02371 <span class="comment"></span>
<a name="l02372"></a>02372 <span class="comment">            }</span>
<a name="l02373"></a>02373 <span class="comment">            else</span>
<a name="l02374"></a>02374 <span class="comment">            {</span>
<a name="l02375"></a>02375 <span class="comment">                  if( gpActiveListBox-&gt;sCurSelectedItem &lt; gpActiveListBox-&gt;usItemDisplayedOnTopOfList )</span>
<a name="l02376"></a>02376 <span class="comment">                        gpActiveListBox-&gt;usItemDisplayedOnTopOfList -= sIncrementValue;</span>
<a name="l02377"></a>02377 <span class="comment">            }</span>
<a name="l02378"></a>02378 <span class="comment">      }</span>
<a name="l02379"></a>02379 <span class="comment">      else if( sMouseYPos &gt; ( gpActiveListBox-&gt;usScrollBoxY + sHeightOfScrollBox ) )//usScrollBoxEndY</span>
<a name="l02380"></a>02380 <span class="comment">      {</span>
<a name="l02381"></a>02381 <span class="comment">            if( ( gpActiveListBox-&gt;sCurSelectedItem + 10 ) &lt; gpActiveListBox-&gt;usMaxArrayIndex-1 )</span>
<a name="l02382"></a>02382 <span class="comment">                  sIncrementValue = 10;</span>
<a name="l02383"></a>02383 <span class="comment">            else</span>
<a name="l02384"></a>02384 <span class="comment">                  sIncrementValue = 1;</span>
<a name="l02385"></a>02385 <span class="comment"></span>
<a name="l02386"></a>02386 <span class="comment">            gpActiveListBox-&gt;sCurSelectedItem += sIncrementValue;</span>
<a name="l02387"></a>02387 <span class="comment"></span>
<a name="l02388"></a>02388 <span class="comment">            //if we dont have to scroll,</span>
<a name="l02389"></a>02389 <span class="comment">            if( gpActiveListBox-&gt;usNumDisplayedItems &lt; gpActiveListBox-&gt;usMaxNumDisplayedItems )</span>
<a name="l02390"></a>02390 <span class="comment">            {</span>
<a name="l02391"></a>02391 <span class="comment"></span>
<a name="l02392"></a>02392 <span class="comment">            }</span>
<a name="l02393"></a>02393 <span class="comment">            else</span>
<a name="l02394"></a>02394 <span class="comment">            {</span>
<a name="l02395"></a>02395 <span class="comment">                  if( ( gpActiveListBox-&gt;sCurSelectedItem - gpActiveListBox-&gt;usItemDisplayedOnTopOfList ) &gt;= gpActiveListBox-&gt;usNumDisplayedItems )</span>
<a name="l02396"></a>02396 <span class="comment">                        gpActiveListBox-&gt;usItemDisplayedOnTopOfList += sIncrementValue;</span>
<a name="l02397"></a>02397 <span class="comment">            }</span>
<a name="l02398"></a>02398 <span class="comment">      }</span>
<a name="l02399"></a>02399 <span class="comment">*/</span>
<a name="l02400"></a>02400 
<a name="l02401"></a>02401       <a class="code" href="Quest_01Debug_01System_8cpp.html#eecc3d85df074960b8380661f10caf2e">DisplaySelectedListBox</a>( );
<a name="l02402"></a>02402 }
<a name="l02403"></a>02403 
<a name="l02404"></a>02404 
<a name="l02405"></a>02405 
<a name="l02406"></a>02406 
<a name="l02407"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#3be3845856b98537620e2931fdc6fb02">02407</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#3be3845856b98537620e2931fdc6fb02">BtnQuestDebugAddNpcToLocationButtonCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason)
<a name="l02408"></a>02408 {
<a name="l02409"></a>02409       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_DWN )
<a name="l02410"></a>02410       {
<a name="l02411"></a>02411             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> |= BUTTON_CLICKED_ON;
<a name="l02412"></a>02412             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02413"></a>02413       }
<a name="l02414"></a>02414       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP )
<a name="l02415"></a>02415       {
<a name="l02416"></a>02416             <a class="code" href="Types_8h.html#fcdf88c1d4179fcd6d8a1fa9bbcb8a80">CHAR16</a>      zTemp[512];
<a name="l02417"></a>02417             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON );
<a name="l02418"></a>02418 
<a name="l02419"></a>02419             swprintf( zTemp, L<span class="stringliteral">"%s where %s will be added."</span>, <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5829684edc9d5a3b55e6f34f9ed221ce3">QUEST_DBS_ENTER_GRID_NUM</a> ], <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> ].zNickname );
<a name="l02420"></a>02420             <a class="code" href="Quest_01Debug_01System_8cpp.html#36348cc8dab685c68466b733227bfaf2">TextEntryBox</a>( zTemp, <a class="code" href="Quest_01Debug_01System_8cpp.html#8863fd98e75151afafb5f36eccc20606">AddNPCToGridNo</a> );
<a name="l02421"></a>02421 
<a name="l02422"></a>02422             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02423"></a>02423       }
<a name="l02424"></a>02424       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LOST_MOUSE)
<a name="l02425"></a>02425       {
<a name="l02426"></a>02426             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON );
<a name="l02427"></a>02427             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02428"></a>02428       }
<a name="l02429"></a>02429 }
<a name="l02430"></a>02430 
<a name="l02431"></a>02431 
<a name="l02432"></a>02432 
<a name="l02433"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#11a0d83a772a82c444775d6ca4da7efe">02433</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#11a0d83a772a82c444775d6ca4da7efe">BtnQuestDebugAddItemToLocationButtonCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason)
<a name="l02434"></a>02434 {
<a name="l02435"></a>02435       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_DWN )
<a name="l02436"></a>02436       {
<a name="l02437"></a>02437             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> |= BUTTON_CLICKED_ON;
<a name="l02438"></a>02438             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02439"></a>02439       }
<a name="l02440"></a>02440       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP )
<a name="l02441"></a>02441       {
<a name="l02442"></a>02442             <a class="code" href="Types_8h.html#fcdf88c1d4179fcd6d8a1fa9bbcb8a80">CHAR16</a>      zTemp[512];
<a name="l02443"></a>02443             <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>      zItemName[ SIZE_ITEM_NAME ];
<a name="l02444"></a>02444 <span class="comment">//          UINT16      zItemDesc[ SIZE_ITEM_INFO ];</span>
<a name="l02445"></a>02445             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON );
<a name="l02446"></a>02446 
<a name="l02447"></a>02447 <span class="comment">//          if ( !LoadItemInfo( gItemListBox.sCurSelectedItem, zItemName, zItemDesc ) )</span>
<a name="l02448"></a>02448 <span class="comment">//                Assert(0);</span>
<a name="l02449"></a>02449             <a class="code" href="Sys_01Globals_8h.html#3d1e5716a3d04a53b8846319dd57da83">wcscpy</a>( zItemName, <a class="code" href="__DutchText_8cpp.html#1a6754089e322c2627f2dae5ac92f044">ShortItemNames</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#e35a36316db3497cff8cdefc0eca0493">gItemListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> ] );
<a name="l02450"></a>02450 
<a name="l02451"></a>02451 
<a name="l02452"></a>02452             swprintf( zTemp, L<span class="stringliteral">"%s where the %s will be added."</span>, <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5829684edc9d5a3b55e6f34f9ed221ce3">QUEST_DBS_ENTER_GRID_NUM</a> ], zItemName );
<a name="l02453"></a>02453             <a class="code" href="Quest_01Debug_01System_8cpp.html#36348cc8dab685c68466b733227bfaf2">TextEntryBox</a>( zTemp, <a class="code" href="Quest_01Debug_01System_8cpp.html#633350633614fc123c63a5ccf938dd60">AddItemToGridNo</a> );
<a name="l02454"></a>02454 
<a name="l02455"></a>02455             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02456"></a>02456       }
<a name="l02457"></a>02457       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LOST_MOUSE)
<a name="l02458"></a>02458       {
<a name="l02459"></a>02459             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON );
<a name="l02460"></a>02460             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02461"></a>02461       }
<a name="l02462"></a>02462 }
<a name="l02463"></a>02463 
<a name="l02464"></a>02464 
<a name="l02465"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#7cb1f1a30921c18ff9af3e20e8e85b6b">02465</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#7cb1f1a30921c18ff9af3e20e8e85b6b">BtnQuestDebugGiveItemToNPCButtonCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason)
<a name="l02466"></a>02466 {
<a name="l02467"></a>02467       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_DWN )
<a name="l02468"></a>02468       {
<a name="l02469"></a>02469             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> |= BUTTON_CLICKED_ON;
<a name="l02470"></a>02470             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02471"></a>02471       }
<a name="l02472"></a>02472       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP )
<a name="l02473"></a>02473       {
<a name="l02474"></a>02474             <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a> *<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>;
<a name="l02475"></a>02475             <a class="code" href="structOBJECTTYPE.html">OBJECTTYPE</a>        Object;
<a name="l02476"></a>02476 
<a name="l02477"></a>02477             <a class="code" href="Items_8cpp.html#153f1fcda178d6758ff8b01cf7999170">CreateItem</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#e35a36316db3497cff8cdefc0eca0493">gItemListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a>, 100, &amp;Object );
<a name="l02478"></a>02478 
<a name="l02479"></a>02479             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON );
<a name="l02480"></a>02480 
<a name="l02481"></a>02481             <span class="comment">//if the selected merc is created </span>
<a name="l02482"></a>02482             <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#0e7478a157d5003d7ee62ea44784d05a">gfUseLocalNPCs</a> )
<a name="l02483"></a>02483                   <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> = <a class="code" href="Soldier_01Profile_8cpp.html#2a54c4a06df8ed61529646f23682ef9d">FindSoldierByProfileID</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#6d22a033af1f12b11e6a60c97c1e54e7">gubCurrentNpcInSector</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> ], FALSE );
<a name="l02484"></a>02484             <span class="keywordflow">else</span>
<a name="l02485"></a>02485                   <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> = <a class="code" href="Soldier_01Profile_8cpp.html#2a54c4a06df8ed61529646f23682ef9d">FindSoldierByProfileID</a>( (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>) <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a>, FALSE );
<a name="l02486"></a>02486 
<a name="l02487"></a>02487             <span class="keywordflow">if</span>( !<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> )
<a name="l02488"></a>02488             {
<a name="l02489"></a>02489                   <span class="comment">//Failed to get npc, put error message</span>
<a name="l02490"></a>02490                   <span class="keywordflow">return</span>;
<a name="l02491"></a>02491             }
<a name="l02492"></a>02492 
<a name="l02493"></a>02493             <span class="comment">//Give the selected item to the selected merc</span>
<a name="l02494"></a>02494             <span class="keywordflow">if</span>( !<a class="code" href="Items_8cpp.html#b0cdccd7f510d5464ab386cb5b69c28f">AutoPlaceObject</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>, &amp;Object, TRUE ) )
<a name="l02495"></a>02495             {
<a name="l02496"></a>02496                   <span class="comment">//failed to add item, put error message to screen</span>
<a name="l02497"></a>02497             }
<a name="l02498"></a>02498 
<a name="l02499"></a>02499 
<a name="l02500"></a>02500             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02501"></a>02501       }
<a name="l02502"></a>02502       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LOST_MOUSE)
<a name="l02503"></a>02503       {
<a name="l02504"></a>02504             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON );
<a name="l02505"></a>02505             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02506"></a>02506       }
<a name="l02507"></a>02507 }
<a name="l02508"></a>02508 
<a name="l02509"></a>02509 
<a name="l02510"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#d9d449d5b73774304f79655e9e462893">02510</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#d9d449d5b73774304f79655e9e462893">BtnQuestDebugChangeDayButtonCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason)
<a name="l02511"></a>02511 {
<a name="l02512"></a>02512       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_DWN )
<a name="l02513"></a>02513       {
<a name="l02514"></a>02514             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> |= BUTTON_CLICKED_ON;
<a name="l02515"></a>02515             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02516"></a>02516       }
<a name="l02517"></a>02517       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP )
<a name="l02518"></a>02518       {
<a name="l02519"></a>02519             <a class="code" href="Types_8h.html#fcdf88c1d4179fcd6d8a1fa9bbcb8a80">CHAR16</a>      zTemp[512];
<a name="l02520"></a>02520 
<a name="l02521"></a>02521             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON );
<a name="l02522"></a>02522 
<a name="l02523"></a>02523             swprintf( zTemp, L<span class="stringliteral">"%s   Current Day is %d"</span>, <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5244675382e63970a005852e0b34e23a6">QUEST_DBS_PLEASE_ENTER_DAY</a> ], <a class="code" href="Game_01Clock_8cpp.html#41db6fb136e18cfede5f7c1eea89d7fb">GetWorldDay</a>() );
<a name="l02524"></a>02524 
<a name="l02525"></a>02525             <span class="comment">//get the day to change the game day to</span>
<a name="l02526"></a>02526             <a class="code" href="Quest_01Debug_01System_8cpp.html#36348cc8dab685c68466b733227bfaf2">TextEntryBox</a>( zTemp, <a class="code" href="Quest_01Debug_01System_8cpp.html#f826e2c56302090e9180a357f2dabda1">ChangeDayNumber</a> );
<a name="l02527"></a>02527 
<a name="l02528"></a>02528             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02529"></a>02529       }
<a name="l02530"></a>02530       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LOST_MOUSE)
<a name="l02531"></a>02531       {
<a name="l02532"></a>02532             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON );
<a name="l02533"></a>02533             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02534"></a>02534       }
<a name="l02535"></a>02535 }
<a name="l02536"></a>02536 
<a name="l02537"></a>02537 
<a name="l02538"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#a08f64911d6eb24e2c724b8c5a6a6320">02538</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#a08f64911d6eb24e2c724b8c5a6a6320">BtnQuestDebugViewNPCInvButtonCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason)
<a name="l02539"></a>02539 {
<a name="l02540"></a>02540       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_DWN )
<a name="l02541"></a>02541       {
<a name="l02542"></a>02542             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> |= BUTTON_CLICKED_ON;
<a name="l02543"></a>02543             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02544"></a>02544       }
<a name="l02545"></a>02545       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP )
<a name="l02546"></a>02546       {
<a name="l02547"></a>02547             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON );
<a name="l02548"></a>02548 
<a name="l02549"></a>02549             <a class="code" href="Quest_01Debug_01System_8cpp.html#02b9a964a99548ea3561720ebd825afe">gubNPCInventoryPopupAction</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd82d1cfe78d6f8f5a01a85b6eb2bd9d03">QD_DROP_DOWN_CREATE</a>;
<a name="l02550"></a>02550 
<a name="l02551"></a>02551             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02552"></a>02552       }
<a name="l02553"></a>02553       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LOST_MOUSE)
<a name="l02554"></a>02554       {
<a name="l02555"></a>02555             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON );
<a name="l02556"></a>02556             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02557"></a>02557       }
<a name="l02558"></a>02558 }
<a name="l02559"></a>02559 
<a name="l02560"></a>02560 
<a name="l02561"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#28ce97eb96c3e9b45cc71cbedf65e5c2">02561</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#28ce97eb96c3e9b45cc71cbedf65e5c2">BtnQuestDebugRestoreNPCInvButtonCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason)
<a name="l02562"></a>02562 {
<a name="l02563"></a>02563       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_DWN )
<a name="l02564"></a>02564       {
<a name="l02565"></a>02565             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> |= BUTTON_CLICKED_ON;
<a name="l02566"></a>02566             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02567"></a>02567       }
<a name="l02568"></a>02568       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP )
<a name="l02569"></a>02569       {
<a name="l02570"></a>02570             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON );
<a name="l02571"></a>02571 
<a name="l02572"></a>02572             <span class="comment">//loop through all the active NPC's and refresh their inventory</span>
<a name="l02573"></a>02573             <a class="code" href="Quest_01Debug_01System_8cpp.html#1e84c83f7fcef8392324171910187183">RefreshAllNPCInventory</a>();
<a name="l02574"></a>02574 
<a name="l02575"></a>02575             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02576"></a>02576       }
<a name="l02577"></a>02577       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LOST_MOUSE)
<a name="l02578"></a>02578       {
<a name="l02579"></a>02579             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON );
<a name="l02580"></a>02580             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02581"></a>02581       }
<a name="l02582"></a>02582 }
<a name="l02583"></a>02583 
<a name="l02584"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#ffb2e89933ce68b664d42598d926b00e">02584</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#ffb2e89933ce68b664d42598d926b00e">BtnQuestDebugNPCLogButtonButtonCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason)
<a name="l02585"></a>02585 {
<a name="l02586"></a>02586       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_DWN )
<a name="l02587"></a>02587       {
<a name="l02588"></a>02588             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02589"></a>02589       }
<a name="l02590"></a>02590       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP )
<a name="l02591"></a>02591       {
<a name="l02592"></a>02592             <span class="keywordtype">wchar_t</span>     zName[ 128 ];
<a name="l02593"></a>02593       
<a name="l02594"></a>02594 <span class="comment">//          btn-&gt;uiFlags &amp;= (~BUTTON_CLICKED_ON );</span>
<a name="l02595"></a>02595 
<a name="l02596"></a>02596             <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#7a63f7cece94dc1faec866f8155736b0">gfNpcLogButton</a> )
<a name="l02597"></a>02597             {
<a name="l02598"></a>02598                   <a class="code" href="Quest_01Debug_01System_8cpp.html#7a63f7cece94dc1faec866f8155736b0">gfNpcLogButton</a> = FALSE;
<a name="l02599"></a>02599                   btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON );
<a name="l02600"></a>02600             }
<a name="l02601"></a>02601             <span class="keywordflow">else</span>
<a name="l02602"></a>02602             {
<a name="l02603"></a>02603                   <a class="code" href="Quest_01Debug_01System_8cpp.html#7a63f7cece94dc1faec866f8155736b0">gfNpcLogButton</a> = TRUE;
<a name="l02604"></a>02604                   btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> |= BUTTON_CLICKED_ON;
<a name="l02605"></a>02605             }
<a name="l02606"></a>02606 
<a name="l02607"></a>02607 
<a name="l02608"></a>02608             swprintf( zName, L<span class="stringliteral">"%s - (%s)"</span>, <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd53f874cdcb30018c5ddec2902f7ab262c">QUEST_DBS_NPC_LOG_BUTTON</a> ], <a class="code" href="Quest_01Debug_01System_8cpp.html#7a63f7cece94dc1faec866f8155736b0">gfNpcLogButton</a> ? L<span class="stringliteral">"On"</span> : L<span class="stringliteral">"Off"</span>);
<a name="l02609"></a>02609             <a class="code" href="Button_01System_8cpp.html#927e98ae8d3535e396faf9ade7f5feb8">SpecifyButtonText</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#aeda21c84111fefc34c2818fc15bf147">guiQuestDebugNPCLogButtonButton</a>, zName );
<a name="l02610"></a>02610 
<a name="l02611"></a>02611 
<a name="l02612"></a>02612             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02613"></a>02613       }
<a name="l02614"></a>02614       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LOST_MOUSE)
<a name="l02615"></a>02615       {
<a name="l02616"></a>02616             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02617"></a>02617       }
<a name="l02618"></a>02618 }
<a name="l02619"></a>02619 
<a name="l02620"></a>02620 
<a name="l02621"></a>02621 
<a name="l02622"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#5f8c1356e44aeadcf99221530ca0be37">02622</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#5f8c1356e44aeadcf99221530ca0be37">BtnQuestDebugNPCRefreshButtonButtonCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason)
<a name="l02623"></a>02623 {
<a name="l02624"></a>02624       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_DWN )
<a name="l02625"></a>02625       {
<a name="l02626"></a>02626             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> |= BUTTON_CLICKED_ON;
<a name="l02627"></a>02627             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02628"></a>02628       }
<a name="l02629"></a>02629       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP )
<a name="l02630"></a>02630       {
<a name="l02631"></a>02631             <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> fRetVal = FALSE;
<a name="l02632"></a>02632             <a class="code" href="Types_8h.html#fcdf88c1d4179fcd6d8a1fa9bbcb8a80">CHAR16</a>      zTemp[128];
<a name="l02633"></a>02633             <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>       ubMercID=0;
<a name="l02634"></a>02634 
<a name="l02635"></a>02635             <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#0e7478a157d5003d7ee62ea44784d05a">gfUseLocalNPCs</a> )
<a name="l02636"></a>02636             {
<a name="l02637"></a>02637                   ubMercID = <a class="code" href="Quest_01Debug_01System_8cpp.html#6d22a033af1f12b11e6a60c97c1e54e7">gubCurrentNpcInSector</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> ];
<a name="l02638"></a>02638                   fRetVal = <a class="code" href="NPC_8cpp.html#8ec5f7422162c6ceb2d0ce53c7460c9f">ReloadQuoteFile</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#6d22a033af1f12b11e6a60c97c1e54e7">gubCurrentNpcInSector</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> ] );
<a name="l02639"></a>02639             }
<a name="l02640"></a>02640             <span class="keywordflow">else</span>
<a name="l02641"></a>02641             {
<a name="l02642"></a>02642                   <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> != -1 )
<a name="l02643"></a>02643                   {
<a name="l02644"></a>02644                         <span class="comment">// NB ubMercID is really profile ID</span>
<a name="l02645"></a>02645                         ubMercID = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)<a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a>;
<a name="l02646"></a>02646                         fRetVal = <a class="code" href="NPC_8cpp.html#8ec5f7422162c6ceb2d0ce53c7460c9f">ReloadQuoteFile</a>( (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)<a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> );
<a name="l02647"></a>02647                         <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubMercID ].<a class="code" href="structMERCPROFILESTRUCT.html#4c96962abcd3f94712e6c975d4ef4edc">ubLastDateSpokenTo</a> = 0;
<a name="l02648"></a>02648                   }
<a name="l02649"></a>02649             }
<a name="l02650"></a>02650 
<a name="l02651"></a>02651             <span class="comment">//if the function succeded</span>
<a name="l02652"></a>02652             <span class="keywordflow">if</span>( fRetVal )
<a name="l02653"></a>02653             {
<a name="l02654"></a>02654                   swprintf( zTemp, L<span class="stringliteral">"%s %s"</span>, <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd53ad0e1c2dde597a38ec4ad63079a8527">QUEST_DBS_REFRESH_OK</a> ], <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubMercID ].zNickname );
<a name="l02655"></a>02655             }
<a name="l02656"></a>02656             <span class="keywordflow">else</span>
<a name="l02657"></a>02657             {
<a name="l02658"></a>02658                   swprintf( zTemp, L<span class="stringliteral">"%s %s"</span>, <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5c1ccd9ccd5545d935c3ef35e4b93517b">QUEST_DBS_REFRESH_FAILED</a> ], <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubMercID ].zNickname );
<a name="l02659"></a>02659             }
<a name="l02660"></a>02660 
<a name="l02661"></a>02661             <a class="code" href="Quest_01Debug_01System_8cpp.html#4d8824e6f939c86bac9e27aef76ae215">DoQDSMessageBox</a>( <a class="code" href="MessageBoxScreen_8h.html#2f1398dba5e4a5616b83437528bdb28edfaaee6cf60e9dcec27ec0650dbbc39f">MSG_BOX_BASIC_STYLE</a>, (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> *)zTemp, <a class="code" href="screenids_8h.html#a4ee5dea8709d2b490486a62df77faf2938991f1775fa1057fe0745471762248">QUEST_DEBUG_SCREEN</a>, MSG_BOX_FLAG_OK, NULL );
<a name="l02662"></a>02662 
<a name="l02663"></a>02663             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON );
<a name="l02664"></a>02664             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02665"></a>02665       }
<a name="l02666"></a>02666       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LOST_MOUSE)
<a name="l02667"></a>02667       {
<a name="l02668"></a>02668             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02669"></a>02669       }
<a name="l02670"></a>02670 }
<a name="l02671"></a>02671 
<a name="l02672"></a>02672 
<a name="l02673"></a>02673 
<a name="l02674"></a>02674 
<a name="l02675"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#d468ca3f9e21d7eba54b67499f3e15b4">02675</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#d468ca3f9e21d7eba54b67499f3e15b4">BtnQuestDebugStartMercTalkingButtonButtonCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason)
<a name="l02676"></a>02676 {
<a name="l02677"></a>02677       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_DWN )
<a name="l02678"></a>02678       {
<a name="l02679"></a>02679             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> |= BUTTON_CLICKED_ON;
<a name="l02680"></a>02680             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02681"></a>02681       }
<a name="l02682"></a>02682       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP )
<a name="l02683"></a>02683       {
<a name="l02684"></a>02684             <span class="comment">//Ask for the initial quote num to start talking from</span>
<a name="l02685"></a>02685 <span class="comment">//          DoQDSMessageBox( MSG_BOX_BASIC_STYLE, zTemp, QUEST_DEBUG_SCREEN, MSG_BOX_FLAG_OK, NULL );</span>
<a name="l02686"></a>02686 
<a name="l02687"></a>02687             <span class="comment">//set the initial value</span>
<a name="l02688"></a>02688             <a class="code" href="Quest_01Debug_01System_8cpp.html#a270ab8323007b531982733eea5cfb21">gsQdsEnteringGridNo</a> = 0;
<a name="l02689"></a>02689 
<a name="l02690"></a>02690             <a class="code" href="Quest_01Debug_01System_8cpp.html#36348cc8dab685c68466b733227bfaf2">TextEntryBox</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5d00c013a48deb869b20c64ee874adf3f">QUEST_DBS_START_MERC_TALKING_FROM</a> ], <a class="code" href="Quest_01Debug_01System_8cpp.html#44a1738d7be60bc3bdfc25d44c9c7423">StartMercTalkingFromQuoteNum</a> );
<a name="l02691"></a>02691 
<a name="l02692"></a>02692             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON );
<a name="l02693"></a>02693             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02694"></a>02694       }
<a name="l02695"></a>02695       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LOST_MOUSE)
<a name="l02696"></a>02696       {
<a name="l02697"></a>02697             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02698"></a>02698       }
<a name="l02699"></a>02699 }
<a name="l02700"></a>02700 
<a name="l02701"></a>02701 
<a name="l02702"></a>02702 
<a name="l02703"></a>02703 
<a name="l02704"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#02d3a0a41e0ebba38fa6c44372ce0927">02704</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>     <a class="code" href="Quest_01Debug_01System_8cpp.html#02d3a0a41e0ebba38fa6c44372ce0927">CreateDestroyDisplayTextEntryBox</a>( <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubAction, <a class="code" href="Types_8h.html#94ebfccc6e846c28751f8d616371f1e5">STR16</a> pString, <a class="code" href="Quest_01Debug_01System_8cpp.html#8218520cca4f0d3a0d7221f6a3b53469">TEXT_ENTRY_CALLBACK</a> EntryCallBack )
<a name="l02705"></a>02705 {
<a name="l02706"></a>02706       <span class="keyword">static</span> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>    fMouseRegionCreated = FALSE;
<a name="l02707"></a>02707       <span class="keyword">static</span> <span class="keywordtype">wchar_t</span>    zString[ 256 ];
<a name="l02708"></a>02708       <span class="keyword">static</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#8218520cca4f0d3a0d7221f6a3b53469">TEXT_ENTRY_CALLBACK</a> TextEntryCallback;
<a name="l02709"></a>02709 
<a name="l02710"></a>02710       <span class="keywordflow">switch</span>( ubAction )
<a name="l02711"></a>02711       {
<a name="l02712"></a>02712             <span class="keywordflow">case</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd0d0b45129a797d27de0a228453905361">QD_DROP_DOWN_NO_ACTION</a>:
<a name="l02713"></a>02713             {
<a name="l02714"></a>02714             }
<a name="l02715"></a>02715             <span class="keywordflow">break</span>;
<a name="l02716"></a>02716 
<a name="l02717"></a>02717             <span class="keywordflow">case</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd82d1cfe78d6f8f5a01a85b6eb2bd9d03">QD_DROP_DOWN_CREATE</a>:
<a name="l02718"></a>02718             {
<a name="l02719"></a>02719                   <span class="keywordflow">if</span>( fMouseRegionCreated )
<a name="l02720"></a>02720                         <span class="keywordflow">break</span>;
<a name="l02721"></a>02721 
<a name="l02722"></a>02722                   fMouseRegionCreated = TRUE;
<a name="l02723"></a>02723 
<a name="l02724"></a>02724                   <span class="comment">//create a mask to block out the screen</span>
<a name="l02725"></a>02725                   <span class="keywordflow">if</span>( !<a class="code" href="Quest_01Debug_01System_8cpp.html#dfc9df40f5f18a77a608b3bf365d437f">gfBackgroundMaskEnabled</a> )
<a name="l02726"></a>02726                   {
<a name="l02727"></a>02727                         <a class="code" href="mousesystem_8cpp.html#dce08766ef4cbacb9372efe12d26a1e0">MSYS_DefineRegion</a>( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#51710ca404b1084946db1bce07f87969">gQuestTextEntryDebugDisableScreenRegion</a>, 0, 0, 640, 480, MSYS_PRIORITY_HIGH+40,
<a name="l02728"></a>02728                                                              <a class="code" href="Cursors_8h.html#5e184f913c35dbf305f3c369dee23e195f01e13f727403aee6675e3f0a61f63d">CURSOR_LAPTOP_SCREEN</a>, MSYS_NO_CALLBACK, <a class="code" href="Quest_01Debug_01System_8cpp.html#877c5d3167ec49419a68a6569b56744a">QuestDebugTextEntryDisableScreenRegionCallBack</a> ); 
<a name="l02729"></a>02729                         <a class="code" href="mousesystem_8cpp.html#d654da5fdc0c95350f4c40c17ed3933d">MSYS_AddRegion</a>(&amp;gQuestTextEntryDebugDisableScreenRegion); 
<a name="l02730"></a>02730                         <a class="code" href="Quest_01Debug_01System_8cpp.html#dfc9df40f5f18a77a608b3bf365d437f">gfBackgroundMaskEnabled</a> = TRUE;
<a name="l02731"></a>02731                   }
<a name="l02732"></a>02732 
<a name="l02733"></a>02733                   <span class="comment">//create the ok button</span>
<a name="l02734"></a>02734                   <a class="code" href="Quest_01Debug_01System_8cpp.html#9ce763b0d51aaf96e21ac9e13c1af8ed">guiQuestDebugTextEntryOkBtn</a> = 
<a name="l02735"></a>02735                         <a class="code" href="Button_01System_8cpp.html#16393e47d05ca56c74fc5c61f889e3e5">CreateTextButton</a>( L<span class="stringliteral">"OK"</span>, QUEST_DBS_FONT_STATIC_TEXT, QUEST_DBS_COLOR_STATIC_TEXT, FONT_BLACK, BUTTON_USE_DEFAULT,
<a name="l02736"></a>02736                         QUEST_DBS_TEB_X+QUEST_DBS_TEB_WIDTH/2-12, QUEST_DBS_TEB_Y+QUEST_DBS_TEB_HEIGHT-30, 30, 25, BUTTON_TOGGLE, MSYS_PRIORITY_HIGH+50, BUTTON_NO_CALLBACK,
<a name="l02737"></a>02737                         <a class="code" href="Quest_01Debug_01System_8cpp.html#39ed925e3ecccb4e35a14c13afb0ff91">BtnQuestDebugTextEntryOkBtnButtonCallback</a> );
<a name="l02738"></a>02738                   <a class="code" href="Button_01System_8cpp.html#2f8f61dd618e42323ec922718cc1a0c1">SetButtonCursor</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#9ce763b0d51aaf96e21ac9e13c1af8ed">guiQuestDebugTextEntryOkBtn</a>, <a class="code" href="Cursors_8h.html#5e184f913c35dbf305f3c369dee23e193882c88cafa91aed5714f421f6957b19">CURSOR_WWW</a> );
<a name="l02739"></a>02739 
<a name="l02740"></a>02740                   <a class="code" href="Sys_01Globals_8h.html#3d1e5716a3d04a53b8846319dd57da83">wcscpy</a>( zString, pString );
<a name="l02741"></a>02741 
<a name="l02742"></a>02742                   <a class="code" href="Quest_01Debug_01System_8cpp.html#11a4cd1d2fb6e7985e7b97409238671b">gfTextEntryActive</a> = TRUE;
<a name="l02743"></a>02743 
<a name="l02744"></a>02744                   <a class="code" href="Quest_01Debug_01System_8cpp.html#bcfb5e6334e062794b648f295eeb17ca">InitQuestDebugTextInputBoxes</a>();
<a name="l02745"></a>02745 
<a name="l02746"></a>02746                   TextEntryCallback = EntryCallBack;
<a name="l02747"></a>02747             }
<a name="l02748"></a>02748             <span class="keywordflow">break</span>;
<a name="l02749"></a>02749 
<a name="l02750"></a>02750             <span class="keywordflow">case</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd910dc9b5dce27b0ddbac87411818b2ac">QD_DROP_DOWN_CANCEL</a>:
<a name="l02751"></a>02751             <span class="keywordflow">case</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbdebfaf2b25c7edf4f76d41cf99805783b">QD_DROP_DOWN_DESTROY</a>:
<a name="l02752"></a>02752             {
<a name="l02753"></a>02753                   <span class="keywordtype">wchar_t</span>     zText[ 32 ];
<a name="l02754"></a>02754                   <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a>       iTextEntryNumber;
<a name="l02755"></a>02755 
<a name="l02756"></a>02756                   <span class="keywordflow">if</span>( !fMouseRegionCreated )
<a name="l02757"></a>02757                         <span class="keywordflow">break</span>;
<a name="l02758"></a>02758 
<a name="l02759"></a>02759                   <span class="comment">//Remove the mouse region that disables the screen</span>
<a name="l02760"></a>02760                   <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#dfc9df40f5f18a77a608b3bf365d437f">gfBackgroundMaskEnabled</a> )
<a name="l02761"></a>02761                   {
<a name="l02762"></a>02762                         <a class="code" href="mousesystem_8cpp.html#f2581a6cadb531c87ebd6b3f5b70f258">MSYS_RemoveRegion</a>( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#51710ca404b1084946db1bce07f87969">gQuestTextEntryDebugDisableScreenRegion</a>);
<a name="l02763"></a>02763                         <a class="code" href="Quest_01Debug_01System_8cpp.html#dfc9df40f5f18a77a608b3bf365d437f">gfBackgroundMaskEnabled</a> = FALSE;
<a name="l02764"></a>02764                   }
<a name="l02765"></a>02765 
<a name="l02766"></a>02766                   <span class="comment">//remove the 'ok' button on the text entry field</span>
<a name="l02767"></a>02767                   <a class="code" href="Button_01System_8cpp.html#daa181fdf3d05f2242b5d9cbeb91e9bf">RemoveButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#9ce763b0d51aaf96e21ac9e13c1af8ed">guiQuestDebugTextEntryOkBtn</a> );
<a name="l02768"></a>02768 
<a name="l02769"></a>02769                   <span class="comment">// Mouse regions are removed</span>
<a name="l02770"></a>02770                   fMouseRegionCreated = FALSE;
<a name="l02771"></a>02771                   <a class="code" href="Quest_01Debug_01System_8cpp.html#11a4cd1d2fb6e7985e7b97409238671b">gfTextEntryActive</a> = FALSE;
<a name="l02772"></a>02772 
<a name="l02773"></a>02773                   <span class="comment">//redraw the entire screen</span>
<a name="l02774"></a>02774                   <a class="code" href="Quest_01Debug_01System_8cpp.html#c125ac9b667b2cf718cda0f2afbb195a">gfRedrawQuestDebugSystem</a> = TRUE;
<a name="l02775"></a>02775 
<a name="l02776"></a>02776                   <span class="comment">//get the striong from the text field</span>
<a name="l02777"></a>02777                   <a class="code" href="Text_01Input_8cpp.html#10900f7fb19ec2a60346f3e8bcf81409">Get16BitStringFromField</a>( 0, zText );
<a name="l02778"></a>02778 
<a name="l02779"></a>02779                   <span class="comment">//if the text is not null</span>
<a name="l02780"></a>02780                   <span class="keywordflow">if</span>( zText[0] != <span class="charliteral">'\0'</span> )
<a name="l02781"></a>02781                   {
<a name="l02782"></a>02782                         <span class="comment">//get the number from the string</span>
<a name="l02783"></a>02783                         swscanf( zText, L<span class="stringliteral">"%ld"</span>, &amp;iTextEntryNumber );
<a name="l02784"></a>02784                   }
<a name="l02785"></a>02785                   <span class="keywordflow">else</span>
<a name="l02786"></a>02786                         iTextEntryNumber = 0;
<a name="l02787"></a>02787 
<a name="l02788"></a>02788                   
<a name="l02789"></a>02789 
<a name="l02790"></a>02790                   <span class="comment">// remove the text input field</span>
<a name="l02791"></a>02791                   <a class="code" href="Quest_01Debug_01System_8cpp.html#c02d776f3cd72ecb2b81b2f09986c06d">DestroyQuestDebugTextInputBoxes</a>();
<a name="l02792"></a>02792 
<a name="l02793"></a>02793                   <span class="keywordflow">if</span>( ubAction != <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd910dc9b5dce27b0ddbac87411818b2ac">QD_DROP_DOWN_CANCEL</a> )
<a name="l02794"></a>02794                         ( *(TextEntryCallback))( iTextEntryNumber );
<a name="l02795"></a>02795 
<a name="l02796"></a>02796             }
<a name="l02797"></a>02797             <span class="keywordflow">break</span>;
<a name="l02798"></a>02798 
<a name="l02799"></a>02799             <span class="keywordflow">case</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd8591bda8e913b81be08b95dc51522445">QD_DROP_DOWN_DISPLAY</a>:
<a name="l02800"></a>02800             {
<a name="l02801"></a>02801                   <span class="comment">//Display the text entry box frame</span>
<a name="l02802"></a>02802                   <a class="code" href="vsurface_8cpp.html#10d0257b54c4d27b2d82ead2a46cd581">ColorFillVideoSurfaceArea</a>( FRAME_BUFFER, QUEST_DBS_TEB_X, QUEST_DBS_TEB_Y, QUEST_DBS_TEB_X+QUEST_DBS_TEB_WIDTH,   QUEST_DBS_TEB_Y+QUEST_DBS_TEB_HEIGHT, <a class="code" href="himage_8cpp.html#d29939ffcd39c7d1cc0a91222702d361">Get16BPPColor</a>( FROMRGB(  45,  59,  74 ) ) );
<a name="l02803"></a>02803 
<a name="l02804"></a>02804                   <span class="comment">//Display the text box caption</span>
<a name="l02805"></a>02805                   <a class="code" href="WordWrap_8cpp.html#b17ac632920394af93f027727a77ea4e">DisplayWrappedString</a>( QUEST_DBS_TEB_X+10, QUEST_DBS_TEB_Y+10, QUEST_DBS_TEB_WIDTH-20, 2, QUEST_DBS_FONT_TEXT_ENTRY, QUEST_DBS_COLOR_TEXT_ENTRY, zString, FONT_MCOLOR_BLACK, FALSE, CENTER_JUSTIFIED   );
<a name="l02806"></a>02806 
<a name="l02807"></a>02807                   <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>( QUEST_DBS_TEB_X, QUEST_DBS_TEB_Y, QUEST_DBS_TEB_X+QUEST_DBS_TEB_WIDTH,  QUEST_DBS_TEB_Y+QUEST_DBS_TEB_HEIGHT );
<a name="l02808"></a>02808             }
<a name="l02809"></a>02809             <span class="keywordflow">break</span>;
<a name="l02810"></a>02810       }
<a name="l02811"></a>02811 
<a name="l02812"></a>02812       <span class="keywordflow">return</span>( TRUE );
<a name="l02813"></a>02813 }
<a name="l02814"></a>02814 
<a name="l02815"></a>02815 
<a name="l02816"></a>02816 
<a name="l02817"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#877c5d3167ec49419a68a6569b56744a">02817</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#877c5d3167ec49419a68a6569b56744a">QuestDebugTextEntryDisableScreenRegionCallBack</a>(<a class="code" href="struct__MOUSE__REGION.html">MOUSE_REGION</a> * pRegion, <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iReason )
<a name="l02818"></a>02818 { 
<a name="l02819"></a>02819       <span class="keywordflow">if</span> (iReason &amp; MSYS_CALLBACK_REASON_INIT)
<a name="l02820"></a>02820       {
<a name="l02821"></a>02821       }
<a name="l02822"></a>02822       <span class="keywordflow">else</span> <span class="keywordflow">if</span>(iReason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP)
<a name="l02823"></a>02823       {
<a name="l02824"></a>02824             <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#3db938caea7bf117e178c5b018cc7eb6">ubCurScrollBoxAction</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbdebfaf2b25c7edf4f76d41cf99805783b">QD_DROP_DOWN_DESTROY</a>;
<a name="l02825"></a>02825             <a class="code" href="Quest_01Debug_01System_8cpp.html#05daf318ed86fbd4275ec644bbd10943">CreateDestroyDisplaySelectNpcDropDownBox</a>();
<a name="l02826"></a>02826             <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#3db938caea7bf117e178c5b018cc7eb6">ubCurScrollBoxAction</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd0d0b45129a797d27de0a228453905361">QD_DROP_DOWN_NO_ACTION</a>;
<a name="l02827"></a>02827       } 
<a name="l02828"></a>02828       <span class="keywordflow">else</span> <span class="keywordflow">if</span>(iReason &amp; MSYS_CALLBACK_REASON_RBUTTON_UP)
<a name="l02829"></a>02829       {
<a name="l02830"></a>02830             <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#3db938caea7bf117e178c5b018cc7eb6">ubCurScrollBoxAction</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbdebfaf2b25c7edf4f76d41cf99805783b">QD_DROP_DOWN_DESTROY</a>;
<a name="l02831"></a>02831             <a class="code" href="Quest_01Debug_01System_8cpp.html#05daf318ed86fbd4275ec644bbd10943">CreateDestroyDisplaySelectNpcDropDownBox</a>();
<a name="l02832"></a>02832             <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#3db938caea7bf117e178c5b018cc7eb6">ubCurScrollBoxAction</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd0d0b45129a797d27de0a228453905361">QD_DROP_DOWN_NO_ACTION</a>;
<a name="l02833"></a>02833       } 
<a name="l02834"></a>02834 }
<a name="l02835"></a>02835 
<a name="l02836"></a>02836 
<a name="l02837"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#39ed925e3ecccb4e35a14c13afb0ff91">02837</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#39ed925e3ecccb4e35a14c13afb0ff91">BtnQuestDebugTextEntryOkBtnButtonCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason)
<a name="l02838"></a>02838 {
<a name="l02839"></a>02839       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_DWN )
<a name="l02840"></a>02840       {
<a name="l02841"></a>02841             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> |= BUTTON_CLICKED_ON;
<a name="l02842"></a>02842             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02843"></a>02843       }
<a name="l02844"></a>02844       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP )
<a name="l02845"></a>02845       {
<a name="l02846"></a>02846             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON );
<a name="l02847"></a>02847 
<a name="l02848"></a>02848             <a class="code" href="Quest_01Debug_01System_8cpp.html#5ea91ef3c648528165811e10ef9d8b59">gubTextEntryAction</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbdebfaf2b25c7edf4f76d41cf99805783b">QD_DROP_DOWN_DESTROY</a>;
<a name="l02849"></a>02849 
<a name="l02850"></a>02850             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02851"></a>02851       }
<a name="l02852"></a>02852       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LOST_MOUSE)
<a name="l02853"></a>02853       {
<a name="l02854"></a>02854             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON );
<a name="l02855"></a>02855             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l02856"></a>02856       }
<a name="l02857"></a>02857 }
<a name="l02858"></a>02858 
<a name="l02859"></a>02859 
<a name="l02860"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#36348cc8dab685c68466b733227bfaf2">02860</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#36348cc8dab685c68466b733227bfaf2">TextEntryBox</a>( <a class="code" href="Types_8h.html#94ebfccc6e846c28751f8d616371f1e5">STR16</a> pString, <a class="code" href="Quest_01Debug_01System_8cpp.html#8218520cca4f0d3a0d7221f6a3b53469">TEXT_ENTRY_CALLBACK</a> TextEntryCallBack )
<a name="l02861"></a>02861 {
<a name="l02862"></a>02862       <a class="code" href="Quest_01Debug_01System_8cpp.html#02d3a0a41e0ebba38fa6c44372ce0927">CreateDestroyDisplayTextEntryBox</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd82d1cfe78d6f8f5a01a85b6eb2bd9d03">QD_DROP_DOWN_CREATE</a>, pString, TextEntryCallBack );
<a name="l02863"></a>02863       <a class="code" href="Quest_01Debug_01System_8cpp.html#5ea91ef3c648528165811e10ef9d8b59">gubTextEntryAction</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd8591bda8e913b81be08b95dc51522445">QD_DROP_DOWN_DISPLAY</a>;
<a name="l02864"></a>02864 }
<a name="l02865"></a>02865 
<a name="l02866"></a>02866 
<a name="l02867"></a>02867 
<a name="l02868"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#e81c1e385ee015ace18071eeee7ef13f">02868</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#e81c1e385ee015ace18071eeee7ef13f">ScrollQuestListRegionCallBack</a>(<a class="code" href="struct__MOUSE__REGION.html">MOUSE_REGION</a> * pRegion, <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iReason )
<a name="l02869"></a>02869 { 
<a name="l02870"></a>02870       <span class="keywordflow">if</span> (iReason &amp; MSYS_CALLBACK_REASON_INIT)
<a name="l02871"></a>02871       {
<a name="l02872"></a>02872       }
<a name="l02873"></a>02873       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iReason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP)
<a name="l02874"></a>02874       {
<a name="l02875"></a>02875             <span class="keywordtype">wchar_t</span>     <a class="code" href="DEBUG_8cpp.html#88565bf27eec0b2003eb5bc9426b8e4b">String</a>[ 512 ];
<a name="l02876"></a>02876 
<a name="l02877"></a>02877             <a class="code" href="Quest_01Debug_01System_8cpp.html#5adde020f1e8631666f4388022c9202e">gubCurQuestSelected</a> = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)<a class="code" href="mousesystem_8cpp.html#8b64ac2435c69cf4c67ab56af8f5badc">MSYS_GetRegionUserData</a>( pRegion, 0 );
<a name="l02878"></a>02878 
<a name="l02879"></a>02879 
<a name="l02880"></a>02880 <span class="comment">//qqq</span>
<a name="l02881"></a>02881             swprintf( String, L<span class="stringliteral">"%s %s %d \"%s\" ( %s )"</span>, <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd50e7a945dcdd3aa2075764a39939a7bcd">QUEST_DBS_ENTER_NEW_VALUE</a> ], <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5542e0d5eb33bb6c84cf91dd5327be4b5">QUEST_DBS_QUEST_NUM</a> ], <a class="code" href="Quest_01Debug_01System_8cpp.html#5adde020f1e8631666f4388022c9202e">gubCurQuestSelected</a>, <a class="code" href="QuestText_8cpp.html#0fcc279101a6da882ff557c0f206c207">QuestDescText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#5adde020f1e8631666f4388022c9202e">gubCurQuestSelected</a> ], <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd583782859f0277060b59334f849000a2b">QUEST_DBS_0_1_2</a> ] );
<a name="l02882"></a>02882 
<a name="l02883"></a>02883             <a class="code" href="Quest_01Debug_01System_8cpp.html#36348cc8dab685c68466b733227bfaf2">TextEntryBox</a>( String, <a class="code" href="Quest_01Debug_01System_8cpp.html#d7fbb1c4b5052b25986c684e2f41eec7">ChangeQuestState</a> );
<a name="l02884"></a>02884 
<a name="l02885"></a>02885       } 
<a name="l02886"></a>02886       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iReason &amp; MSYS_CALLBACK_REASON_LBUTTON_REPEAT)
<a name="l02887"></a>02887       {
<a name="l02888"></a>02888 
<a name="l02889"></a>02889       }
<a name="l02890"></a>02890 }
<a name="l02891"></a>02891 
<a name="l02892"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#89fe8dd48c772edc16a268bb18dd47d9">02892</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#89fe8dd48c772edc16a268bb18dd47d9">ScrollFactListRegionCallBack</a>(<a class="code" href="struct__MOUSE__REGION.html">MOUSE_REGION</a> * pRegion, <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iReason )
<a name="l02893"></a>02893 { 
<a name="l02894"></a>02894       <span class="keywordflow">if</span> (iReason &amp; MSYS_CALLBACK_REASON_INIT)
<a name="l02895"></a>02895       {
<a name="l02896"></a>02896       }
<a name="l02897"></a>02897       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iReason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP)
<a name="l02898"></a>02898       {
<a name="l02899"></a>02899             <span class="keywordtype">wchar_t</span>     <a class="code" href="DEBUG_8cpp.html#88565bf27eec0b2003eb5bc9426b8e4b">String</a>[ 512 ];
<a name="l02900"></a>02900 
<a name="l02901"></a>02901             <a class="code" href="Quest_01Debug_01System_8cpp.html#416ff0556c709a6de4bc584d1d228311">gusCurFactSelected</a> = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)<a class="code" href="mousesystem_8cpp.html#8b64ac2435c69cf4c67ab56af8f5badc">MSYS_GetRegionUserData</a>( pRegion, 0 ) + <a class="code" href="Quest_01Debug_01System_8cpp.html#a6a552c95cdd51aa92acc43161859ab6">gusFactAtTopOfList</a>;
<a name="l02902"></a>02902 
<a name="l02903"></a>02903             <span class="keywordflow">if</span>( <a class="code" href="QuestText_8cpp.html#09c18ae8370b597ad6ee4ee0be67c10f">FactDescText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#416ff0556c709a6de4bc584d1d228311">gusCurFactSelected</a> ][0] == <span class="charliteral">'\0'</span> )
<a name="l02904"></a>02904                   swprintf( String, L<span class="stringliteral">"%s %s %d \"%s\" ( %s )"</span>, <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd50e7a945dcdd3aa2075764a39939a7bcd">QUEST_DBS_ENTER_NEW_VALUE</a> ], <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd566941af6184ecb029254369be6c3047b">QUEST_DBS_FACT_NUM</a> ], <a class="code" href="Quest_01Debug_01System_8cpp.html#416ff0556c709a6de4bc584d1d228311">gusCurFactSelected</a>, <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5e77e51dc70b0de188831171da624ad75">QUEST_DBS_NO_TEXT</a> ], <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5a63af5c4be1ae3ccc8db02c3203f9641">QUEST_DBS_0_1</a> ] );
<a name="l02905"></a>02905             <span class="keywordflow">else</span>
<a name="l02906"></a>02906                   swprintf( String, L<span class="stringliteral">"%s %s %d \"%s\" ( %s )"</span>, <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ QUEST_DBS_ENTER_NEW_VALUE ], <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ QUEST_DBS_FACT_NUM ], <a class="code" href="Quest_01Debug_01System_8cpp.html#416ff0556c709a6de4bc584d1d228311">gusCurFactSelected</a>, <a class="code" href="QuestText_8cpp.html#09c18ae8370b597ad6ee4ee0be67c10f">FactDescText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#416ff0556c709a6de4bc584d1d228311">gusCurFactSelected</a> ], <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ QUEST_DBS_0_1 ] );
<a name="l02907"></a>02907 
<a name="l02908"></a>02908             <a class="code" href="Quest_01Debug_01System_8cpp.html#36348cc8dab685c68466b733227bfaf2">TextEntryBox</a>( String, <a class="code" href="Quest_01Debug_01System_8cpp.html#f0369124cd89adc3433612e2dca40c59">ChangeFactState</a> );
<a name="l02909"></a>02909 
<a name="l02910"></a>02910       } 
<a name="l02911"></a>02911       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iReason &amp; MSYS_CALLBACK_REASON_LBUTTON_REPEAT)
<a name="l02912"></a>02912       {
<a name="l02913"></a>02913 
<a name="l02914"></a>02914       }
<a name="l02915"></a>02915 }
<a name="l02916"></a>02916 
<a name="l02917"></a>02917 
<a name="l02918"></a>02918 
<a name="l02919"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#bcfb5e6334e062794b648f295eeb17ca">02919</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#bcfb5e6334e062794b648f295eeb17ca">InitQuestDebugTextInputBoxes</a>()
<a name="l02920"></a>02920 {
<a name="l02921"></a>02921       <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      uiStartLoc=0;
<a name="l02922"></a>02922       <span class="keywordtype">wchar_t</span>     sTemp[ 640 ];
<a name="l02923"></a>02923 <span class="comment">//    wchar_t     sText[ 640 ];</span>
<a name="l02924"></a>02924 
<a name="l02925"></a>02925       
<a name="l02926"></a>02926       <a class="code" href="Text_01Input_8cpp.html#5c5c8b815bedff58479c8b473c73ad99">InitTextInputMode</a>();
<a name="l02927"></a>02927       <a class="code" href="Text_01Input_8cpp.html#593990c8a4ab672d2abc0e270c605707">SetTextInputFont</a>( (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)FONT12ARIAL );
<a name="l02928"></a>02928       <a class="code" href="Text_01Input_8cpp.html#1f77c927f62cb9b28d3b195d90901dea">Set16BPPTextFieldColor</a>( <a class="code" href="himage_8cpp.html#d29939ffcd39c7d1cc0a91222702d361">Get16BPPColor</a>(FROMRGB( 255, 255, 255) ) );
<a name="l02929"></a>02929       <a class="code" href="Text_01Input_8cpp.html#83c61a4dc5c5f15b9b92051340fb8ea3">SetBevelColors</a>( <a class="code" href="himage_8cpp.html#d29939ffcd39c7d1cc0a91222702d361">Get16BPPColor</a>(FROMRGB(136, 138, 135)), <a class="code" href="himage_8cpp.html#d29939ffcd39c7d1cc0a91222702d361">Get16BPPColor</a>(FROMRGB(24, 61, 81)) );
<a name="l02930"></a>02930       <a class="code" href="Text_01Input_8cpp.html#33f9aa5113a86ef78cbee4f01b2e9e17">SetTextInputRegularColors</a>( 2, FONT_WHITE ); 
<a name="l02931"></a>02931       <a class="code" href="Text_01Input_8cpp.html#caa6ed46cea6d4aa4e07e7055c6eb442">SetTextInputHilitedColors</a>( FONT_WHITE, 2, 141  );
<a name="l02932"></a>02932       <a class="code" href="Text_01Input_8cpp.html#26127c480e818571e02376f832a28526">SetCursorColor</a>( <a class="code" href="himage_8cpp.html#d29939ffcd39c7d1cc0a91222702d361">Get16BPPColor</a>(FROMRGB(0, 0, 0) ) );
<a name="l02933"></a>02933 
<a name="l02934"></a>02934 <span class="comment">//    AddUserInputField( NULL );</span>
<a name="l02935"></a>02935 <span class="comment">//    AddUserInputField( FlowerOrderUserTextFieldCallBack );</span>
<a name="l02936"></a>02936 
<a name="l02937"></a>02937 <span class="comment">/*</span>
<a name="l02938"></a>02938 <span class="comment">      if( gbCurrentlySelectedCard != -1 )</span>
<a name="l02939"></a>02939 <span class="comment">      {</span>
<a name="l02940"></a>02940 <span class="comment">      }</span>
<a name="l02941"></a>02941 <span class="comment">*/</span>
<a name="l02942"></a>02942 
<a name="l02943"></a>02943       swprintf( sTemp, L<span class="stringliteral">"%d"</span>, <a class="code" href="Quest_01Debug_01System_8cpp.html#a270ab8323007b531982733eea5cfb21">gsQdsEnteringGridNo</a> );
<a name="l02944"></a>02944 
<a name="l02945"></a>02945       <span class="comment">//Text entry field</span>
<a name="l02946"></a>02946       <a class="code" href="Text_01Input_8cpp.html#cf7fe686ea0fdf92aa466738d4066332">AddTextInputField</a>( QUEST_DBS_TEB_X+QUEST_DBS_TEB_WIDTH/2-30, QUEST_DBS_TEB_Y+65, 60, 15, MSYS_PRIORITY_HIGH+60, sTemp, QUEST_DBS_TEXT_FIELD_WIDTH, INPUTTYPE_NUMERICSTRICT );
<a name="l02947"></a>02947 }
<a name="l02948"></a>02948 
<a name="l02949"></a>02949 
<a name="l02950"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#c02d776f3cd72ecb2b81b2f09986c06d">02950</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#c02d776f3cd72ecb2b81b2f09986c06d">DestroyQuestDebugTextInputBoxes</a>()
<a name="l02951"></a>02951 {
<a name="l02952"></a>02952       <a class="code" href="Text_01Input_8cpp.html#6d18fece3d742aca76d344f0ba9247ef">KillTextInputMode</a>();
<a name="l02953"></a>02953 }
<a name="l02954"></a>02954 
<a name="l02955"></a>02955 
<a name="l02956"></a>02956 
<a name="l02957"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#8863fd98e75151afafb5f36eccc20606">02957</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#8863fd98e75151afafb5f36eccc20606">AddNPCToGridNo</a>( <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iGridNo )
<a name="l02958"></a>02958 {
<a name="l02959"></a>02959       <a class="code" href="structSOLDIERCREATE__STRUCT.html">SOLDIERCREATE_STRUCT</a>          MercCreateStruct;
<a name="l02960"></a>02960       <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>                                                       sSectorX, sSectorY;
<a name="l02961"></a>02961       <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>                                                 ubID;
<a name="l02962"></a>02962 
<a name="l02963"></a>02963       <a class="code" href="strategicmap_8cpp.html#5e03b70aced19759d9729edaad51cc50">GetCurrentWorldSector</a>( &amp;sSectorX, &amp;sSectorY );
<a name="l02964"></a>02964 
<a name="l02965"></a>02965       memset( &amp;MercCreateStruct, 0, <span class="keyword">sizeof</span>( MercCreateStruct ) );
<a name="l02966"></a>02966       MercCreateStruct.bTeam                    = CIV_TEAM;
<a name="l02967"></a>02967       MercCreateStruct.ubProfile          = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)<a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a>;
<a name="l02968"></a>02968       MercCreateStruct.sSectorX                 = sSectorX;
<a name="l02969"></a>02969       MercCreateStruct.sSectorY                 = sSectorY;
<a name="l02970"></a>02970       MercCreateStruct.bSectorZ                 = <a class="code" href="strategicmap_8cpp.html#da715721a8ceedd42acf6ddb33e63ce0">gbWorldSectorZ</a>;
<a name="l02971"></a>02971       MercCreateStruct.sInsertionGridNo         = (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>) iGridNo;
<a name="l02972"></a>02972 
<a name="l02973"></a>02973 <span class="comment">//    RandomizeNewSoldierStats( &amp;MercCreateStruct );</span>
<a name="l02974"></a>02974 
<a name="l02975"></a>02975       <span class="keywordflow">if</span> ( <a class="code" href="Soldier_01Create_8cpp.html#9012dd4ad15957a14b023ae9fee7c862">TacticalCreateSoldier</a>( &amp;MercCreateStruct, &amp;ubID ) )
<a name="l02976"></a>02976       {
<a name="l02977"></a>02977             <a class="code" href="Soldier_01Add_8cpp.html#182cbefb5f3430f43ce986f8e4614219">AddSoldierToSector</a>( ubID );
<a name="l02978"></a>02978 
<a name="l02979"></a>02979             <span class="comment">// So we can see them!</span>
<a name="l02980"></a>02980             <a class="code" href="opplist_8cpp.html#f4fab2865204e018ead0e5c076b97be4">AllTeamsLookForAll</a>(NO_INTERRUPTS);
<a name="l02981"></a>02981       }
<a name="l02982"></a>02982 
<a name="l02983"></a>02983       <span class="comment">//Add all the npc in the current sectory the npc array</span>
<a name="l02984"></a>02984       <a class="code" href="Quest_01Debug_01System_8cpp.html#970409bc51ac493fe77db7814695daa8">AddNPCsInSectorToArray</a>();
<a name="l02985"></a>02985 
<a name="l02986"></a>02986       <a class="code" href="Quest_01Debug_01System_8cpp.html#a270ab8323007b531982733eea5cfb21">gsQdsEnteringGridNo</a> = (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)iGridNo;
<a name="l02987"></a>02987 }
<a name="l02988"></a>02988 
<a name="l02989"></a>02989 
<a name="l02990"></a>02990 
<a name="l02991"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#633350633614fc123c63a5ccf938dd60">02991</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#633350633614fc123c63a5ccf938dd60">AddItemToGridNo</a>( <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iGridNo )
<a name="l02992"></a>02992 {
<a name="l02993"></a>02993       <a class="code" href="structOBJECTTYPE.html">OBJECTTYPE</a>        Object;
<a name="l02994"></a>02994 
<a name="l02995"></a>02995       <a class="code" href="Quest_01Debug_01System_8cpp.html#a270ab8323007b531982733eea5cfb21">gsQdsEnteringGridNo</a> = (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>)iGridNo;
<a name="l02996"></a>02996 
<a name="l02997"></a>02997 
<a name="l02998"></a>02998       <span class="keywordflow">if</span>( <a class="code" href="Item_01Types_8h.html#f9dc4cc7a3a99ad5944940cfb7c82237">Item</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#e35a36316db3497cff8cdefc0eca0493">gItemListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> ].usItemClass == IC_KEY )
<a name="l02999"></a>02999       {
<a name="l03000"></a>03000             <a class="code" href="Quest_01Debug_01System_8cpp.html#67d5f23a40d5cc444d179ac5cc16626f">gfAddKeyNextPass</a> = TRUE;
<a name="l03001"></a>03001 <span class="comment">//          swprintf( zTemp, L"Please enter the Key ID" );</span>
<a name="l03002"></a>03002 <span class="comment">//          TextEntryBox( zTemp, AddKeyToGridNo );</span>
<a name="l03003"></a>03003       }
<a name="l03004"></a>03004       <span class="keywordflow">else</span>
<a name="l03005"></a>03005       {
<a name="l03006"></a>03006             <a class="code" href="Items_8cpp.html#153f1fcda178d6758ff8b01cf7999170">CreateItem</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#e35a36316db3497cff8cdefc0eca0493">gItemListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a>, (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)( <a class="code" href="Quest_01Debug_01System_8cpp.html#8c685cf9c66d9bcf4d469e35077d3c33">gfDropDamagedItems</a> ? ( 20 + <a class="code" href="Random_8cpp.html#49f938d1313ab6ef09ac6223a16ac334">Random</a>( 60 ) ) : 100 ), &amp;Object );
<a name="l03007"></a>03007 
<a name="l03008"></a>03008             <span class="comment">//add the item to the world</span>
<a name="l03009"></a>03009             <a class="code" href="Handle_01Items_8cpp.html#ca7f6f6da97e9a4c2b737296485f5c84">AddItemToPool</a>( (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>) iGridNo, &amp;Object, -1, 0, 0, 0 );
<a name="l03010"></a>03010       }
<a name="l03011"></a>03011 }
<a name="l03012"></a>03012 
<a name="l03013"></a>03013 
<a name="l03014"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#0b01e6b340e92c2b114a3339a4c16215">03014</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#0b01e6b340e92c2b114a3339a4c16215">AddKeyToGridNo</a>( <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iKeyID )
<a name="l03015"></a>03015 {
<a name="l03016"></a>03016       <a class="code" href="structOBJECTTYPE.html">OBJECTTYPE</a>        Object;
<a name="l03017"></a>03017 
<a name="l03018"></a>03018       <span class="keywordflow">if</span>( iKeyID &lt; NUM_KEYS )
<a name="l03019"></a>03019       {
<a name="l03020"></a>03020             <a class="code" href="Items_8cpp.html#586cb2a6f62ea8b5967025cc3507c4e3">CreateKeyObject</a>( &amp;Object, 1, (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)iKeyID );
<a name="l03021"></a>03021 
<a name="l03022"></a>03022             <span class="comment">//add the item to the world</span>
<a name="l03023"></a>03023             <a class="code" href="Handle_01Items_8cpp.html#ca7f6f6da97e9a4c2b737296485f5c84">AddItemToPool</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#a270ab8323007b531982733eea5cfb21">gsQdsEnteringGridNo</a>, &amp;Object, -1, 0, 0, 0 );
<a name="l03024"></a>03024       }
<a name="l03025"></a>03025       <span class="keywordflow">else</span>
<a name="l03026"></a>03026             <a class="code" href="Quest_01Debug_01System_8cpp.html#67d5f23a40d5cc444d179ac5cc16626f">gfAddKeyNextPass</a> = TRUE;
<a name="l03027"></a>03027 }
<a name="l03028"></a>03028 
<a name="l03029"></a>03029 
<a name="l03030"></a>03030 
<a name="l03031"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#f826e2c56302090e9180a357f2dabda1">03031</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#f826e2c56302090e9180a357f2dabda1">ChangeDayNumber</a>( <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iDayToChangeTo )
<a name="l03032"></a>03032 {
<a name="l03033"></a>03033       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a>  uiDiff;
<a name="l03034"></a>03034       <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a> uiNewDayTimeInSec;
<a name="l03035"></a>03035 
<a name="l03036"></a>03036       <span class="keywordflow">if</span>( iDayToChangeTo )
<a name="l03037"></a>03037       {
<a name="l03038"></a>03038             uiNewDayTimeInSec = (<a class="code" href="Game_01Clock_8cpp.html#cd80a0453c12b4eacba3cfd3c3a1ff5a">guiDay</a>+iDayToChangeTo)*NUM_SEC_IN_DAY + 8*NUM_SEC_IN_HOUR + 15*NUM_SEC_IN_MIN;
<a name="l03039"></a>03039             uiDiff = uiNewDayTimeInSec - <a class="code" href="Game_01Clock_8cpp.html#4264b756bda5ff58e00019c567b97a88">guiGameClock</a>;
<a name="l03040"></a>03040             <a class="code" href="Game_01Clock_8cpp.html#e2b2e8b4a75441a7b51b8f36cb6f3048">WarpGameTime</a>( uiDiff, <a class="code" href="Game_01Clock_8h.html#bb911bb32d4e97b5fcd682dd43789991e3de57f32feca1b131ae2f9ccaf62180">WARPTIME_PROCESS_EVENTS_NORMALLY</a> );
<a name="l03041"></a>03041 
<a name="l03042"></a>03042             <a class="code" href="environment_8cpp.html#3911057cce3bf670dd984cb3e7b2c91d">ForecastDayEvents</a>( );
<a name="l03043"></a>03043 
<a name="l03044"></a>03044             <span class="comment">//empty dialogue que of all sounds ( guys complain about being tired )</span>
<a name="l03045"></a>03045             <span class="comment">//</span>
<a name="l03046"></a>03046             <span class="comment">//    ATE: Please Fix Me!</span>
<a name="l03047"></a>03047             <span class="comment">//          EmptyDialogueQueue();</span>
<a name="l03048"></a>03048       }
<a name="l03049"></a>03049 }
<a name="l03050"></a>03050 
<a name="l03051"></a>03051 
<a name="l03052"></a>03052 
<a name="l03053"></a>03053 
<a name="l03054"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#4191217df1e4b34854428b9f2eabed1f">03054</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#4191217df1e4b34854428b9f2eabed1f">CreateDestroyDisplayNPCInventoryPopup</a>( <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubAction )
<a name="l03055"></a>03055 {
<a name="l03056"></a>03056       <span class="keyword">static</span> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>    fMouseRegionCreated = FALSE;
<a name="l03057"></a>03057       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>      usPosY, i;
<a name="l03058"></a>03058       <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a> *<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>;
<a name="l03059"></a>03059 
<a name="l03060"></a>03060 
<a name="l03061"></a>03061       <span class="keywordflow">switch</span>( ubAction )
<a name="l03062"></a>03062       {
<a name="l03063"></a>03063             <span class="keywordflow">case</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd0d0b45129a797d27de0a228453905361">QD_DROP_DOWN_NO_ACTION</a>:
<a name="l03064"></a>03064                   <span class="keywordflow">break</span>;
<a name="l03065"></a>03065 
<a name="l03066"></a>03066             <span class="keywordflow">case</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd82d1cfe78d6f8f5a01a85b6eb2bd9d03">QD_DROP_DOWN_CREATE</a>:
<a name="l03067"></a>03067 
<a name="l03068"></a>03068                   <span class="comment">//if the soldier is active</span>
<a name="l03069"></a>03069                   <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#0e7478a157d5003d7ee62ea44784d05a">gfUseLocalNPCs</a> )
<a name="l03070"></a>03070                         <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> = <a class="code" href="Soldier_01Profile_8cpp.html#2a54c4a06df8ed61529646f23682ef9d">FindSoldierByProfileID</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#6d22a033af1f12b11e6a60c97c1e54e7">gubCurrentNpcInSector</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> ], FALSE );
<a name="l03071"></a>03071                   <span class="keywordflow">else</span>
<a name="l03072"></a>03072                         <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> = <a class="code" href="Soldier_01Profile_8cpp.html#2a54c4a06df8ed61529646f23682ef9d">FindSoldierByProfileID</a>( (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)<a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a>, FALSE );
<a name="l03073"></a>03073 
<a name="l03074"></a>03074                   <span class="keywordflow">if</span>( !<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> )
<a name="l03075"></a>03075                   {
<a name="l03076"></a>03076                         <span class="comment">//qq Display error box</span>
<a name="l03077"></a>03077 
<a name="l03078"></a>03078                         <a class="code" href="Quest_01Debug_01System_8cpp.html#02b9a964a99548ea3561720ebd825afe">gubNPCInventoryPopupAction</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd0d0b45129a797d27de0a228453905361">QD_DROP_DOWN_NO_ACTION</a>;
<a name="l03079"></a>03079                         <span class="keywordflow">break</span>;
<a name="l03080"></a>03080                   }
<a name="l03081"></a>03081 
<a name="l03082"></a>03082                   <span class="keywordflow">if</span>( fMouseRegionCreated )
<a name="l03083"></a>03083                         <span class="keywordflow">break</span>;
<a name="l03084"></a>03084 
<a name="l03085"></a>03085                   fMouseRegionCreated = TRUE;
<a name="l03086"></a>03086 
<a name="l03087"></a>03087                   <span class="comment">//create a mask to block out the screen</span>
<a name="l03088"></a>03088                   <span class="keywordflow">if</span>( !<a class="code" href="Quest_01Debug_01System_8cpp.html#dfc9df40f5f18a77a608b3bf365d437f">gfBackgroundMaskEnabled</a> )
<a name="l03089"></a>03089                   {
<a name="l03090"></a>03090                         <a class="code" href="mousesystem_8cpp.html#dce08766ef4cbacb9372efe12d26a1e0">MSYS_DefineRegion</a>( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#51710ca404b1084946db1bce07f87969">gQuestTextEntryDebugDisableScreenRegion</a>, 0, 0, 640, 480, MSYS_PRIORITY_HIGH+40,
<a name="l03091"></a>03091                                                              <a class="code" href="Cursors_8h.html#5e184f913c35dbf305f3c369dee23e195f01e13f727403aee6675e3f0a61f63d">CURSOR_LAPTOP_SCREEN</a>, MSYS_NO_CALLBACK, <a class="code" href="Quest_01Debug_01System_8cpp.html#877c5d3167ec49419a68a6569b56744a">QuestDebugTextEntryDisableScreenRegionCallBack</a> ); 
<a name="l03092"></a>03092                         <a class="code" href="mousesystem_8cpp.html#d654da5fdc0c95350f4c40c17ed3933d">MSYS_AddRegion</a>(&amp;gQuestTextEntryDebugDisableScreenRegion); 
<a name="l03093"></a>03093                         <a class="code" href="Quest_01Debug_01System_8cpp.html#dfc9df40f5f18a77a608b3bf365d437f">gfBackgroundMaskEnabled</a> = TRUE;
<a name="l03094"></a>03094                   }
<a name="l03095"></a>03095 
<a name="l03096"></a>03096                   <span class="comment">//create the ok button</span>
<a name="l03097"></a>03097                   <a class="code" href="Quest_01Debug_01System_8cpp.html#6a36a2564e62c40094b847d57b186469">guiQuestDebugNPCInventOkBtn</a> = 
<a name="l03098"></a>03098                         <a class="code" href="Button_01System_8cpp.html#16393e47d05ca56c74fc5c61f889e3e5">CreateTextButton</a>( L<span class="stringliteral">"OK"</span>, QUEST_DBS_FONT_STATIC_TEXT, QUEST_DBS_COLOR_STATIC_TEXT, FONT_BLACK, BUTTON_USE_DEFAULT,
<a name="l03099"></a>03099                         QUEST_DBS_NPC_INV_POPUP_X+QUEST_DBS_NPC_INV_POPUP_WIDTH/2-12, QUEST_DBS_NPC_INV_POPUP_Y+QUEST_DBS_NPC_INV_POPUP_HEIGHT-30, 30, 25, BUTTON_TOGGLE, MSYS_PRIORITY_HIGH+50, BUTTON_NO_CALLBACK,
<a name="l03100"></a>03100                         <a class="code" href="Quest_01Debug_01System_8cpp.html#1996f66b9ea30443be5de64066634822">BtnQuestDebugNPCInventOkBtnButtonCallback</a> );
<a name="l03101"></a>03101                   <a class="code" href="Button_01System_8cpp.html#2f8f61dd618e42323ec922718cc1a0c1">SetButtonCursor</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#6a36a2564e62c40094b847d57b186469">guiQuestDebugNPCInventOkBtn</a>, <a class="code" href="Cursors_8h.html#5e184f913c35dbf305f3c369dee23e193882c88cafa91aed5714f421f6957b19">CURSOR_WWW</a> );
<a name="l03102"></a>03102                   
<a name="l03103"></a>03103                   <span class="keywordflow">break</span>;
<a name="l03104"></a>03104 
<a name="l03105"></a>03105             <span class="keywordflow">case</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbdebfaf2b25c7edf4f76d41cf99805783b">QD_DROP_DOWN_DESTROY</a>:
<a name="l03106"></a>03106                   <a class="code" href="Button_01System_8cpp.html#daa181fdf3d05f2242b5d9cbeb91e9bf">RemoveButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#6a36a2564e62c40094b847d57b186469">guiQuestDebugNPCInventOkBtn</a> );
<a name="l03107"></a>03107       
<a name="l03108"></a>03108                   <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#dfc9df40f5f18a77a608b3bf365d437f">gfBackgroundMaskEnabled</a> )
<a name="l03109"></a>03109                         <a class="code" href="mousesystem_8cpp.html#f2581a6cadb531c87ebd6b3f5b70f258">MSYS_RemoveRegion</a>( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#51710ca404b1084946db1bce07f87969">gQuestTextEntryDebugDisableScreenRegion</a> );
<a name="l03110"></a>03110                   <a class="code" href="Quest_01Debug_01System_8cpp.html#dfc9df40f5f18a77a608b3bf365d437f">gfBackgroundMaskEnabled</a> = FALSE;
<a name="l03111"></a>03111 
<a name="l03112"></a>03112                   <a class="code" href="Quest_01Debug_01System_8cpp.html#c125ac9b667b2cf718cda0f2afbb195a">gfRedrawQuestDebugSystem</a> = TRUE;
<a name="l03113"></a>03113 
<a name="l03114"></a>03114                   fMouseRegionCreated = FALSE;
<a name="l03115"></a>03115 
<a name="l03116"></a>03116                   <span class="keywordflow">break</span>;
<a name="l03117"></a>03117 
<a name="l03118"></a>03118             <span class="keywordflow">case</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd8591bda8e913b81be08b95dc51522445">QD_DROP_DOWN_DISPLAY</a>:
<a name="l03119"></a>03119             {
<a name="l03120"></a>03120                   <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>      zItemName[ SIZE_ITEM_NAME ];
<a name="l03121"></a>03121 <span class="comment">//                UINT16      zItemDesc[ SIZE_ITEM_INFO ];</span>
<a name="l03122"></a>03122                   <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>      usFontHeight = <a class="code" href="Font_8cpp.html#35cddf34696d33489efb820caf968907">GetFontHeight</a>( QUEST_DBS_FONT_LISTBOX_TEXT ) + 2;
<a name="l03123"></a>03123 
<a name="l03124"></a>03124 
<a name="l03125"></a>03125                   <span class="comment">//if the soldier is active</span>
<a name="l03126"></a>03126                   <span class="comment">//if the soldier is active</span>
<a name="l03127"></a>03127                   <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#0e7478a157d5003d7ee62ea44784d05a">gfUseLocalNPCs</a> )
<a name="l03128"></a>03128                         <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> = <a class="code" href="Soldier_01Profile_8cpp.html#2a54c4a06df8ed61529646f23682ef9d">FindSoldierByProfileID</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#6d22a033af1f12b11e6a60c97c1e54e7">gubCurrentNpcInSector</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> ], FALSE );
<a name="l03129"></a>03129                   <span class="keywordflow">else</span>
<a name="l03130"></a>03130                         <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> = <a class="code" href="Soldier_01Profile_8cpp.html#2a54c4a06df8ed61529646f23682ef9d">FindSoldierByProfileID</a>( (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)<a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a>, FALSE );
<a name="l03131"></a>03131 
<a name="l03132"></a>03132                   <span class="keywordflow">if</span>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> )
<a name="l03133"></a>03133                   {
<a name="l03134"></a>03134                         <span class="comment">//color the background of the popup</span>
<a name="l03135"></a>03135                         <a class="code" href="vsurface_8cpp.html#10d0257b54c4d27b2d82ead2a46cd581">ColorFillVideoSurfaceArea</a>( FRAME_BUFFER, QUEST_DBS_NPC_INV_POPUP_X, QUEST_DBS_NPC_INV_POPUP_Y, QUEST_DBS_NPC_INV_POPUP_X+QUEST_DBS_NPC_INV_POPUP_WIDTH,     QUEST_DBS_NPC_INV_POPUP_Y+QUEST_DBS_NPC_INV_POPUP_HEIGHT, <a class="code" href="himage_8cpp.html#d29939ffcd39c7d1cc0a91222702d361">Get16BPPColor</a>( FROMRGB(  45,  59,  74 ) ) );
<a name="l03136"></a>03136 
<a name="l03137"></a>03137                         <span class="comment">//Dispaly the NPC inve title</span>
<a name="l03138"></a>03138                         <a class="code" href="WordWrap_8cpp.html#64f08dc42335055ef4c534d4f99ea5c8">DrawTextToScreen</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd538cbe214799c688315e1e9b639191452">QUEST_DBS_NPC_INVENTORY</a> ], QUEST_DBS_NPC_INV_POPUP_X, QUEST_DBS_NPC_INV_POPUP_Y+5, QUEST_DBS_NPC_INV_POPUP_WIDTH, QUEST_DBS_FONT_TITLE, QUEST_DBS_COLOR_TITLE, FONT_MCOLOR_BLACK, FALSE, CENTER_JUSTIFIED     );                
<a name="l03139"></a>03139 
<a name="l03140"></a>03140                         <span class="comment">//Dispaly the current npc name</span>
<a name="l03141"></a>03141                   <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#0e7478a157d5003d7ee62ea44784d05a">gfUseLocalNPCs</a> )
<a name="l03142"></a>03142                         <a class="code" href="WordWrap_8cpp.html#64f08dc42335055ef4c534d4f99ea5c8">DrawTextToScreen</a>( <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#6d22a033af1f12b11e6a60c97c1e54e7">gubCurrentNpcInSector</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> ] ].zNickname, QUEST_DBS_NPC_INV_POPUP_X, QUEST_DBS_NPC_INV_POPUP_Y+20, QUEST_DBS_NPC_INV_POPUP_WIDTH, QUEST_DBS_FONT_TITLE, QUEST_DBS_COLOR_SUBTITLE, FONT_MCOLOR_BLACK, FALSE, CENTER_JUSTIFIED    );                
<a name="l03143"></a>03143                   <span class="keywordflow">else</span>
<a name="l03144"></a>03144                         <a class="code" href="WordWrap_8cpp.html#64f08dc42335055ef4c534d4f99ea5c8">DrawTextToScreen</a>( <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> ].zNickname, QUEST_DBS_NPC_INV_POPUP_X, QUEST_DBS_NPC_INV_POPUP_Y+20, QUEST_DBS_NPC_INV_POPUP_WIDTH, QUEST_DBS_FONT_TITLE, QUEST_DBS_COLOR_SUBTITLE, FONT_MCOLOR_BLACK, FALSE, CENTER_JUSTIFIED     );                
<a name="l03145"></a>03145 
<a name="l03146"></a>03146                         usPosY = QUEST_DBS_NPC_INV_POPUP_Y + 40;
<a name="l03147"></a>03147                         <span class="keywordflow">for</span>( i=0; i&lt;<a class="code" href="Soldier_01Control_8h.html#2a5937706f1724c8f06a0396bdc878553e9a668bdf9e2a72b855424ee1bdabcf">NUM_INV_SLOTS</a>; i++)
<a name="l03148"></a>03148                         {
<a name="l03149"></a>03149 <span class="comment">//                            if ( !LoadItemInfo( pSoldier-&gt;inv[ i ].usItem, zItemName, zItemDesc ) )</span>
<a name="l03150"></a>03150 <span class="comment">//                                  Assert(0);</span>
<a name="l03151"></a>03151                                     <a class="code" href="Sys_01Globals_8h.html#3d1e5716a3d04a53b8846319dd57da83">wcscpy</a>( zItemName, <a class="code" href="__DutchText_8cpp.html#1a6754089e322c2627f2dae5ac92f044">ShortItemNames</a>[ <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#13c875b952b6d634680165d127a9870b">inv</a>[ i ].<a class="code" href="structOBJECTTYPE.html#4fbe05335f161f08f354566b8e5a0a19">usItem</a> ] );
<a name="l03152"></a>03152 
<a name="l03153"></a>03153 
<a name="l03154"></a>03154                               <span class="comment">//Display Name of the pocket</span>
<a name="l03155"></a>03155                               <a class="code" href="WordWrap_8cpp.html#64f08dc42335055ef4c534d4f99ea5c8">DrawTextToScreen</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#0374dfba0fc618c5260e30394d9d504e">PocketText</a>[ i ], QUEST_DBS_NPC_INV_POPUP_X+10, usPosY, 0, QUEST_DBS_FONT_DYNAMIC_TEXT, QUEST_DBS_COLOR_SUBTITLE, FONT_MCOLOR_BLACK, FALSE, LEFT_JUSTIFIED   );                
<a name="l03156"></a>03156 
<a name="l03157"></a>03157                               <span class="comment">//Display the contents of the pocket</span>
<a name="l03158"></a>03158                               <a class="code" href="WordWrap_8cpp.html#64f08dc42335055ef4c534d4f99ea5c8">DrawTextToScreen</a>( zItemName, QUEST_DBS_NPC_INV_POPUP_X+140, usPosY, 0, QUEST_DBS_FONT_DYNAMIC_TEXT, QUEST_DBS_COLOR_DYNAMIC_TEXT, FONT_MCOLOR_BLACK, FALSE, LEFT_JUSTIFIED    );                
<a name="l03159"></a>03159                               usPosY += usFontHeight;
<a name="l03160"></a>03160                         }
<a name="l03161"></a>03161                   }
<a name="l03162"></a>03162                   <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>( 0, 0, 640, 480 );
<a name="l03163"></a>03163               <a class="code" href="Button_01System_8cpp.html#dd66106191abe97a8b80611179ff8996">MarkButtonsDirty</a>( );
<a name="l03164"></a>03164             }
<a name="l03165"></a>03165             <span class="keywordflow">break</span>;
<a name="l03166"></a>03166       }
<a name="l03167"></a>03167 }
<a name="l03168"></a>03168 
<a name="l03169"></a>03169 
<a name="l03170"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#1996f66b9ea30443be5de64066634822">03170</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#1996f66b9ea30443be5de64066634822">BtnQuestDebugNPCInventOkBtnButtonCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason)
<a name="l03171"></a>03171 {
<a name="l03172"></a>03172       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_DWN )
<a name="l03173"></a>03173       {
<a name="l03174"></a>03174             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> |= BUTTON_CLICKED_ON;
<a name="l03175"></a>03175             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l03176"></a>03176       }
<a name="l03177"></a>03177       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP )
<a name="l03178"></a>03178       {
<a name="l03179"></a>03179             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON );
<a name="l03180"></a>03180 
<a name="l03181"></a>03181             <a class="code" href="Quest_01Debug_01System_8cpp.html#02b9a964a99548ea3561720ebd825afe">gubNPCInventoryPopupAction</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbdebfaf2b25c7edf4f76d41cf99805783b">QD_DROP_DOWN_DESTROY</a>;
<a name="l03182"></a>03182 
<a name="l03183"></a>03183             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l03184"></a>03184       }
<a name="l03185"></a>03185       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LOST_MOUSE)
<a name="l03186"></a>03186       {
<a name="l03187"></a>03187             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON );
<a name="l03188"></a>03188             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l03189"></a>03189       }
<a name="l03190"></a>03190 }
<a name="l03191"></a>03191 
<a name="l03192"></a>03192 
<a name="l03193"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#75ae13c504e8618995515de249f0e5f3">03193</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#75ae13c504e8618995515de249f0e5f3">BtnQuestDebugAllOrSectorNPCToggleCallback</a>( <a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn, <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason )
<a name="l03194"></a>03194 {
<a name="l03195"></a>03195       <span class="keywordflow">if</span>( reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP )
<a name="l03196"></a>03196       {
<a name="l03197"></a>03197             <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#0e7478a157d5003d7ee62ea44784d05a">gfUseLocalNPCs</a> )
<a name="l03198"></a>03198             {
<a name="l03199"></a>03199                   gfUseLocalNPCs = FALSE;
<a name="l03200"></a>03200 
<a name="l03201"></a>03201 
<a name="l03202"></a>03202                   <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a>                                      = <a class="code" href="Quest_01Debug_01System_8cpp.html#6d22a033af1f12b11e6a60c97c1e54e7">gubCurrentNpcInSector</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> ];
<a name="l03203"></a>03203                   <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">usItemDisplayedOnTopOfList</a>          = <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a>;
<a name="l03204"></a>03204 <span class="comment">//                gNpcListBox.usStartIndex                                                      = FIRST_RPC;</span>
<a name="l03205"></a>03205 
<a name="l03206"></a>03206                   <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#715672339dcfaceb5b2d4b96fcc32653">usMaxArrayIndex</a>                                             = NUM_PROFILES;
<a name="l03207"></a>03207                   <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#83caaadedbcf85d6e042a0f32664b2ed">usNumDisplayedItems</a>                                   = QUEST_DBS_MAX_DISPLAYED_ENTRIES;
<a name="l03208"></a>03208                   <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#5c7335f7d4612f5d750f8c52b2aff54d">usMaxNumDisplayedItems</a>                    = QUEST_DBS_MAX_DISPLAYED_ENTRIES;
<a name="l03209"></a>03209             }
<a name="l03210"></a>03210             <span class="keywordflow">else</span>
<a name="l03211"></a>03211             {
<a name="l03212"></a>03212                   gfUseLocalNPCs = TRUE;
<a name="l03213"></a>03213 
<a name="l03214"></a>03214                   <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a>                                      = -1;
<a name="l03215"></a>03215                   <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">usItemDisplayedOnTopOfList</a>          = 0;
<a name="l03216"></a>03216                   <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#1251664ccbeec622dcf990b4dae8fac7">usStartIndex</a>                                                      = 0;
<a name="l03217"></a>03217                   <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#715672339dcfaceb5b2d4b96fcc32653">usMaxArrayIndex</a>                                             = <a class="code" href="Quest_01Debug_01System_8cpp.html#d95c0ec3a10a5e55082d7932a646b973">gubNumNPCinSector</a>;
<a name="l03218"></a>03218 
<a name="l03219"></a>03219                   <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#d95c0ec3a10a5e55082d7932a646b973">gubNumNPCinSector</a> &lt; QUEST_DBS_MAX_DISPLAYED_ENTRIES )
<a name="l03220"></a>03220                   {
<a name="l03221"></a>03221                         <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#83caaadedbcf85d6e042a0f32664b2ed">usNumDisplayedItems</a>                             = <a class="code" href="Quest_01Debug_01System_8cpp.html#d95c0ec3a10a5e55082d7932a646b973">gubNumNPCinSector</a>;
<a name="l03222"></a>03222                         <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#5c7335f7d4612f5d750f8c52b2aff54d">usMaxNumDisplayedItems</a>              = <a class="code" href="Quest_01Debug_01System_8cpp.html#d95c0ec3a10a5e55082d7932a646b973">gubNumNPCinSector</a>;
<a name="l03223"></a>03223                   }
<a name="l03224"></a>03224                   <span class="keywordflow">else</span>
<a name="l03225"></a>03225                   {
<a name="l03226"></a>03226                         <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#83caaadedbcf85d6e042a0f32664b2ed">usNumDisplayedItems</a>                             = QUEST_DBS_MAX_DISPLAYED_ENTRIES;
<a name="l03227"></a>03227                         <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#5c7335f7d4612f5d750f8c52b2aff54d">usMaxNumDisplayedItems</a>              = QUEST_DBS_MAX_DISPLAYED_ENTRIES;
<a name="l03228"></a>03228                   }
<a name="l03229"></a>03229 
<a name="l03230"></a>03230                   <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> == -1 )
<a name="l03231"></a>03231                   {
<a name="l03232"></a>03232                         <a class="code" href="Button_01System_8cpp.html#f47071abdc2fdbae8fae4688cedaddfc">DisableButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#2cd41c59a860829919c29db0ba30231d">guiQuestDebugAddNpcToLocationButton</a> );
<a name="l03233"></a>03233                         <a class="code" href="Button_01System_8cpp.html#f47071abdc2fdbae8fae4688cedaddfc">DisableButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#279c943e61d9ca197a4bde9d8fe79bd3">guiQuestDebugViewNPCInvButton</a> );
<a name="l03234"></a>03234                         <a class="code" href="Button_01System_8cpp.html#f47071abdc2fdbae8fae4688cedaddfc">DisableButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#7de4de0f3c01b06f06fabc0c46c1f11e">guiQuestDebugStartMercTalkingButtonButton</a> );
<a name="l03235"></a>03235                   }
<a name="l03236"></a>03236 
<a name="l03237"></a>03237                   <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#fc31893574d6727e0d37d59f47b3066b">IsMercInTheSector</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> ) == -1 )
<a name="l03238"></a>03238                         <a class="code" href="Button_01System_8cpp.html#f47071abdc2fdbae8fae4688cedaddfc">DisableButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#279c943e61d9ca197a4bde9d8fe79bd3">guiQuestDebugViewNPCInvButton</a> );
<a name="l03239"></a>03239 
<a name="l03240"></a>03240                   <a class="code" href="Quest_01Debug_01System_8cpp.html#43cd8ee8e8929ea5fb338665e2a0a319">EnableQDSButtons</a>();
<a name="l03241"></a>03241             }
<a name="l03242"></a>03242 
<a name="l03243"></a>03243 <span class="comment">/*</span>
<a name="l03244"></a>03244 <span class="comment">            if( gubNumNPCinSector == 0 )</span>
<a name="l03245"></a>03245 <span class="comment">                  SpecifyButtonText( guiQuestDebugCurNPCButton, QuestDebugText[ QUEST_DBS_NO_NPC_IN_SECTOR ] );</span>
<a name="l03246"></a>03246 <span class="comment">            else</span>
<a name="l03247"></a>03247 <span class="comment">                  SpecifyButtonText( guiQuestDebugCurNPCButton, QuestDebugText[ QUEST_DBS_SELECTED_NPC ] );</span>
<a name="l03248"></a>03248 <span class="comment">*/</span>
<a name="l03249"></a>03249             <a class="code" href="Quest_01Debug_01System_8cpp.html#c125ac9b667b2cf718cda0f2afbb195a">gfRedrawQuestDebugSystem</a> = TRUE;
<a name="l03250"></a>03250       }
<a name="l03251"></a>03251 }
<a name="l03252"></a>03252 
<a name="l03253"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#970409bc51ac493fe77db7814695daa8">03253</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#970409bc51ac493fe77db7814695daa8">AddNPCsInSectorToArray</a>()
<a name="l03254"></a>03254 {
<a name="l03255"></a>03255       <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a> *<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>;
<a name="l03256"></a>03256       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> cnt,i;
<a name="l03257"></a>03257 
<a name="l03258"></a>03258       <span class="comment">//Setup array of merc who are in the current sector</span>
<a name="l03259"></a>03259       i=0;
<a name="l03260"></a>03260       <span class="keywordflow">for</span> ( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> = <a class="code" href="Overhead_8cpp.html#f1785e87ea281d015350ec85b9bd8508">Menptr</a>, cnt = 0; cnt &lt; TOTAL_SOLDIERS; <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>++, cnt++ )
<a name="l03261"></a>03261       {
<a name="l03262"></a>03262             <span class="keywordflow">if</span> ( ( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> != NULL ) &amp;&amp; <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> -&gt; bActive )
<a name="l03263"></a>03263             {
<a name="l03264"></a>03264                   <span class="comment">//if soldier is a NPC, add him to the local NPC array</span>
<a name="l03265"></a>03265                   <span class="keywordflow">if</span>( ( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#5a5648a1bb3507cc41f6be199c51a3f8">ubProfile</a> &gt;= FIRST_RPC ) &amp;&amp; ( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#5a5648a1bb3507cc41f6be199c51a3f8">ubProfile</a> &lt; <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa150c510db5aaca8d588a456f077a86a2d">GASTON</a> ) )
<a name="l03266"></a>03266                   {
<a name="l03267"></a>03267                         <a class="code" href="Quest_01Debug_01System_8cpp.html#6d22a033af1f12b11e6a60c97c1e54e7">gubCurrentNpcInSector</a>[ i ] = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#5a5648a1bb3507cc41f6be199c51a3f8">ubProfile</a>;
<a name="l03268"></a>03268                         i++;
<a name="l03269"></a>03269                   }
<a name="l03270"></a>03270             }
<a name="l03271"></a>03271 
<a name="l03272"></a>03272       }
<a name="l03273"></a>03273       <a class="code" href="Quest_01Debug_01System_8cpp.html#d95c0ec3a10a5e55082d7932a646b973">gubNumNPCinSector</a> = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)i;
<a name="l03274"></a>03274 }
<a name="l03275"></a>03275 
<a name="l03276"></a>03276 
<a name="l03277"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#d7fbb1c4b5052b25986c684e2f41eec7">03277</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#d7fbb1c4b5052b25986c684e2f41eec7">ChangeQuestState</a>( <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iNumber )
<a name="l03278"></a>03278 {
<a name="l03279"></a>03279       <span class="keywordflow">if</span>( ( iNumber &gt;= 0 ) &amp;&amp; ( iNumber &lt;= 2 ) )
<a name="l03280"></a>03280       {
<a name="l03281"></a>03281             <a class="code" href="Quests_8cpp.html#b371f5479136d9c6e6debcb700a5c809">gubQuest</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#5adde020f1e8631666f4388022c9202e">gubCurQuestSelected</a> ] = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>) iNumber;
<a name="l03282"></a>03282             <a class="code" href="Quest_01Debug_01System_8cpp.html#c125ac9b667b2cf718cda0f2afbb195a">gfRedrawQuestDebugSystem</a> = TRUE;
<a name="l03283"></a>03283       }
<a name="l03284"></a>03284 }
<a name="l03285"></a>03285 
<a name="l03286"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#f0369124cd89adc3433612e2dca40c59">03286</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#f0369124cd89adc3433612e2dca40c59">ChangeFactState</a>( <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iNumber )
<a name="l03287"></a>03287 {
<a name="l03288"></a>03288       <span class="keywordflow">if</span>( ( iNumber &gt;= 0 ) &amp;&amp; ( iNumber &lt;= 1 ) )
<a name="l03289"></a>03289       {
<a name="l03290"></a>03290             <a class="code" href="Quests_8cpp.html#c2813b14c5c981423bf788f8f84a193a">gubFact</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#416ff0556c709a6de4bc584d1d228311">gusCurFactSelected</a> ] = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>) iNumber;
<a name="l03291"></a>03291             <a class="code" href="Quest_01Debug_01System_8cpp.html#c125ac9b667b2cf718cda0f2afbb195a">gfRedrawQuestDebugSystem</a> = TRUE;
<a name="l03292"></a>03292       }
<a name="l03293"></a>03293 }
<a name="l03294"></a>03294 
<a name="l03295"></a>03295 
<a name="l03296"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#8c71dc19ccab0c5da04eb15cf3baffd8">03296</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#8c71dc19ccab0c5da04eb15cf3baffd8">BtnQDPgUpButtonButtonCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason)
<a name="l03297"></a>03297 {
<a name="l03298"></a>03298       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_DWN )
<a name="l03299"></a>03299       {
<a name="l03300"></a>03300             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> |= BUTTON_CLICKED_ON;
<a name="l03301"></a>03301             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l03302"></a>03302       }
<a name="l03303"></a>03303       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP )
<a name="l03304"></a>03304       {
<a name="l03305"></a>03305             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON );
<a name="l03306"></a>03306 
<a name="l03307"></a>03307             <span class="keywordflow">if</span>( ( <a class="code" href="Quest_01Debug_01System_8cpp.html#a6a552c95cdd51aa92acc43161859ab6">gusFactAtTopOfList</a> - QUEST_DBS_NUM_DISPLAYED_FACTS ) &gt;= 0 )
<a name="l03308"></a>03308             {
<a name="l03309"></a>03309                   <a class="code" href="Quest_01Debug_01System_8cpp.html#a6a552c95cdd51aa92acc43161859ab6">gusFactAtTopOfList</a> -= QUEST_DBS_NUM_DISPLAYED_FACTS;
<a name="l03310"></a>03310             }
<a name="l03311"></a>03311             <span class="keywordflow">else</span>
<a name="l03312"></a>03312                   <a class="code" href="Quest_01Debug_01System_8cpp.html#a6a552c95cdd51aa92acc43161859ab6">gusFactAtTopOfList</a> = 0;
<a name="l03313"></a>03313 
<a name="l03314"></a>03314             <a class="code" href="Quest_01Debug_01System_8cpp.html#c125ac9b667b2cf718cda0f2afbb195a">gfRedrawQuestDebugSystem</a> = TRUE;
<a name="l03315"></a>03315 
<a name="l03316"></a>03316 
<a name="l03317"></a>03317             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l03318"></a>03318       }
<a name="l03319"></a>03319       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LOST_MOUSE)
<a name="l03320"></a>03320       {
<a name="l03321"></a>03321             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON );
<a name="l03322"></a>03322             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l03323"></a>03323       }
<a name="l03324"></a>03324 }
<a name="l03325"></a>03325 
<a name="l03326"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#5b3c3e4416bfbcd15024498173f4c516">03326</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#5b3c3e4416bfbcd15024498173f4c516">BtnQDPgDownButtonButtonCallback</a>(<a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn,<a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason)
<a name="l03327"></a>03327 {
<a name="l03328"></a>03328       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_DWN )
<a name="l03329"></a>03329       {
<a name="l03330"></a>03330             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> |= BUTTON_CLICKED_ON;
<a name="l03331"></a>03331             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l03332"></a>03332       }
<a name="l03333"></a>03333       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP )
<a name="l03334"></a>03334       {
<a name="l03335"></a>03335             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON );
<a name="l03336"></a>03336 
<a name="l03337"></a>03337             <span class="keywordflow">if</span>( ( <a class="code" href="Quest_01Debug_01System_8cpp.html#a6a552c95cdd51aa92acc43161859ab6">gusFactAtTopOfList</a> + QUEST_DBS_NUM_DISPLAYED_FACTS ) &lt; NUM_FACTS )
<a name="l03338"></a>03338             {
<a name="l03339"></a>03339                   <a class="code" href="Quest_01Debug_01System_8cpp.html#a6a552c95cdd51aa92acc43161859ab6">gusFactAtTopOfList</a> += QUEST_DBS_NUM_DISPLAYED_FACTS;
<a name="l03340"></a>03340             }
<a name="l03341"></a>03341             <span class="keywordflow">else</span>
<a name="l03342"></a>03342                   <a class="code" href="Quest_01Debug_01System_8cpp.html#a6a552c95cdd51aa92acc43161859ab6">gusFactAtTopOfList</a> = NUM_FACTS - QUEST_DBS_NUM_DISPLAYED_FACTS;
<a name="l03343"></a>03343 
<a name="l03344"></a>03344             <a class="code" href="Quest_01Debug_01System_8cpp.html#c125ac9b667b2cf718cda0f2afbb195a">gfRedrawQuestDebugSystem</a> = TRUE;
<a name="l03345"></a>03345 
<a name="l03346"></a>03346             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l03347"></a>03347       }
<a name="l03348"></a>03348       <span class="keywordflow">if</span>(reason &amp; MSYS_CALLBACK_REASON_LOST_MOUSE)
<a name="l03349"></a>03349       {
<a name="l03350"></a>03350             btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> &amp;= (~BUTTON_CLICKED_ON );
<a name="l03351"></a>03351             <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>(btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#650c51d846b36cb1a2b59d2a0e927637">RegionTopLeftX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#c7338c24114866626ec62cbba0b9c76b">RegionTopLeftY</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#590a9300e4817bd9e2cdebbb8501dd5c">RegionBottomRightX</a>, btn-&gt;<a class="code" href="struct__GUI__BUTTON.html#4beb6551bc217db6f0979437cfdd1abb">Area</a>.<a class="code" href="struct__MOUSE__REGION.html#383db9862ad729274d56bce2a2ec9340">RegionBottomRightY</a>);
<a name="l03352"></a>03352       }
<a name="l03353"></a>03353 }
<a name="l03354"></a>03354 
<a name="l03355"></a>03355 
<a name="l03356"></a><a class="code" href="Quest_01Debug_01System_8h.html#164d6d0ceb269a2b2e240b2b196ca980">03356</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#164d6d0ceb269a2b2e240b2b196ca980">NpcRecordLoggingInit</a>( <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubNpcID, <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubMercID, <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubQuoteNum, <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubApproach )
<a name="l03357"></a>03357 {
<a name="l03358"></a>03358       <span class="keyword">static</span> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>    <a class="code" href="aim_8cpp.html#9cc3be35636d2386bb92085b851d4cdc">fFirstTimeIn</a> = TRUE;
<a name="l03359"></a>03359 
<a name="l03360"></a>03360       <a class="code" href="LibraryDataBase_8h.html#210e2fc1c18208cbf159ef9c087d6721">HWFILE</a>            hFile;
<a name="l03361"></a>03361       <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>            uiByteWritten;
<a name="l03362"></a>03362   <span class="keywordtype">char</span>                  DestString[1024];
<a name="l03363"></a>03363 <span class="comment">//    char              MercName[ NICKNAME_LENGTH ];</span>
<a name="l03364"></a>03364 <span class="comment">//    char              NpcName[ NICKNAME_LENGTH ];</span>
<a name="l03365"></a>03365 
<a name="l03366"></a>03366       DestString[0] = <span class="charliteral">'\0'</span>;
<a name="l03367"></a>03367 
<a name="l03368"></a>03368       <span class="comment">//if the npc log button is turned off, ignore</span>
<a name="l03369"></a>03369       <span class="keywordflow">if</span>( !<a class="code" href="Quest_01Debug_01System_8cpp.html#7a63f7cece94dc1faec866f8155736b0">gfNpcLogButton</a> )
<a name="l03370"></a>03370             <span class="keywordflow">return</span>;
<a name="l03371"></a>03371 
<a name="l03372"></a>03372       <span class="comment">//if the approach is NPC_INITIATING_CONV, return</span>
<a name="l03373"></a>03373       <span class="keywordflow">if</span>( ubApproach == <a class="code" href="NPC_8h.html#fe4ba80db4eca5533465fe913160a13ac02c4f0c83d71bba86e04f2b52c27465">NPC_INITIATING_CONV</a> )
<a name="l03374"></a>03374             <span class="keywordflow">return</span>;
<a name="l03375"></a>03375 
<a name="l03376"></a>03376 
<a name="l03377"></a>03377       <span class="comment">//if its the first time in the game</span>
<a name="l03378"></a>03378       <span class="keywordflow">if</span>( fFirstTimeIn )
<a name="l03379"></a>03379       {
<a name="l03380"></a>03380             <span class="comment">//open a new file for writing</span>
<a name="l03381"></a>03381 
<a name="l03382"></a>03382             <span class="comment">//if the file exists</span>
<a name="l03383"></a>03383             <span class="keywordflow">if</span>( <a class="code" href="FileMan_8cpp.html#8eb098ceba9cecc2c60c7e40c964e147">FileExists</a>( QUEST_DEBUG_FILE ) )
<a name="l03384"></a>03384             {
<a name="l03385"></a>03385                   <span class="comment">//delete the file</span>
<a name="l03386"></a>03386                   <span class="keywordflow">if</span>( !<a class="code" href="FileMan_8cpp.html#12ec9d9b03c4bea61fe2afecae64a230">FileDelete</a>( QUEST_DEBUG_FILE ) )
<a name="l03387"></a>03387                   {
<a name="l03388"></a>03388                         DebugMsg( <a class="code" href="DEBUG_8cpp.html#a7985c2fd033797fc67a03b2c26e07c6">TOPIC_JA2</a>, DBG_LEVEL_3, <a class="code" href="DEBUG_8cpp.html#88565bf27eec0b2003eb5bc9426b8e4b">String</a>(<span class="stringliteral">"FAILED to delete %s file"</span>, QUEST_DEBUG_FILE) );
<a name="l03389"></a>03389                         <span class="keywordflow">return</span>;
<a name="l03390"></a>03390                   }
<a name="l03391"></a>03391             }
<a name="l03392"></a>03392             fFirstTimeIn = FALSE;
<a name="l03393"></a>03393       }
<a name="l03394"></a>03394 
<a name="l03395"></a>03395 
<a name="l03396"></a>03396       <span class="comment">//open the file</span>
<a name="l03397"></a>03397       hFile = <a class="code" href="FileMan_8cpp.html#1e5007589e18cbc273b9677470215db4">FileOpen</a>( QUEST_DEBUG_FILE, FILE_OPEN_ALWAYS | FILE_ACCESS_WRITE, FALSE);
<a name="l03398"></a>03398       <span class="keywordflow">if</span>( !hFile )
<a name="l03399"></a>03399       {
<a name="l03400"></a>03400             <a class="code" href="FileMan_8cpp.html#92ccf437cf31aac8a8356e1425f203cc">FileClose</a>(hFile);
<a name="l03401"></a>03401             DebugMsg( <a class="code" href="DEBUG_8cpp.html#a7985c2fd033797fc67a03b2c26e07c6">TOPIC_JA2</a>, DBG_LEVEL_3, <a class="code" href="DEBUG_8cpp.html#88565bf27eec0b2003eb5bc9426b8e4b">String</a>(<span class="stringliteral">"FAILED to open Quest Debug File %s"</span>, QUEST_DEBUG_FILE) );
<a name="l03402"></a>03402             <span class="keywordflow">return</span>;
<a name="l03403"></a>03403       }
<a name="l03404"></a>03404 
<a name="l03405"></a>03405       <span class="keywordflow">if</span>( <a class="code" href="FileMan_8cpp.html#67e9a5372c244c5724f9e993c4ff234e">FileSeek</a>( hFile,0,FILE_SEEK_FROM_END ) == FALSE )
<a name="l03406"></a>03406       {
<a name="l03407"></a>03407             <span class="comment">// error</span>
<a name="l03408"></a>03408     <a class="code" href="FileMan_8cpp.html#92ccf437cf31aac8a8356e1425f203cc">FileClose</a>( hFile );
<a name="l03409"></a>03409             <span class="keywordflow">return</span>;
<a name="l03410"></a>03410       }
<a name="l03411"></a>03411 
<a name="l03412"></a>03412       
<a name="l03413"></a>03413 
<a name="l03414"></a>03414       sprintf( DestString, <span class="stringliteral">"\n\n\nNew Approach for NPC ID: %d '%S' against Merc: %d '%S'"</span>, ubNpcID, <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubNpcID ].zNickname, ubMercID, <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubMercID ].zNickname );
<a name="l03415"></a>03415 <span class="comment">//    sprintf( DestString, "\n\n\nNew Approach for NPC ID: %d  against Merc: %d ", ubNpcID, ubMercID );</span>
<a name="l03416"></a>03416 
<a name="l03417"></a>03417       <span class="keywordflow">if</span>( !<a class="code" href="FileMan_8cpp.html#09ed41c07d607c8c64a7e2b9fb25660c">FileWrite</a>( hFile, DestString, <a class="code" href="Sys_01Globals_8h.html#6b0f634f4cee3b49739fbd456e2b9fcf">strlen</a>(DestString), &amp;uiByteWritten ) )
<a name="l03418"></a>03418       {
<a name="l03419"></a>03419             <a class="code" href="FileMan_8cpp.html#92ccf437cf31aac8a8356e1425f203cc">FileClose</a>(hFile);
<a name="l03420"></a>03420             DebugMsg( <a class="code" href="DEBUG_8cpp.html#a7985c2fd033797fc67a03b2c26e07c6">TOPIC_JA2</a>, DBG_LEVEL_3, <a class="code" href="DEBUG_8cpp.html#88565bf27eec0b2003eb5bc9426b8e4b">String</a>(<span class="stringliteral">"FAILED to write to %s"</span>, QUEST_DEBUG_FILE) );
<a name="l03421"></a>03421             <span class="keywordflow">return</span>;
<a name="l03422"></a>03422       }
<a name="l03423"></a>03423       
<a name="l03424"></a>03424       <span class="comment">//Testing Record #</span>
<a name="l03425"></a>03425       sprintf( DestString, <span class="stringliteral">"\n\tTesting Record #: %d"</span>, ubQuoteNum );
<a name="l03426"></a>03426 
<a name="l03427"></a>03427       <span class="comment">//append to file</span>
<a name="l03428"></a>03428       <span class="keywordflow">if</span>( !<a class="code" href="FileMan_8cpp.html#09ed41c07d607c8c64a7e2b9fb25660c">FileWrite</a>( hFile, DestString, <a class="code" href="Sys_01Globals_8h.html#6b0f634f4cee3b49739fbd456e2b9fcf">strlen</a>(DestString), &amp;uiByteWritten ) )
<a name="l03429"></a>03429       {
<a name="l03430"></a>03430             <a class="code" href="FileMan_8cpp.html#92ccf437cf31aac8a8356e1425f203cc">FileClose</a>(hFile);
<a name="l03431"></a>03431             DebugMsg( <a class="code" href="DEBUG_8cpp.html#a7985c2fd033797fc67a03b2c26e07c6">TOPIC_JA2</a>, DBG_LEVEL_3, <a class="code" href="DEBUG_8cpp.html#88565bf27eec0b2003eb5bc9426b8e4b">String</a>(<span class="stringliteral">"FAILED to write to %s"</span>, QUEST_DEBUG_FILE) );
<a name="l03432"></a>03432             <span class="keywordflow">return</span>;
<a name="l03433"></a>03433       }
<a name="l03434"></a>03434 
<a name="l03435"></a>03435       <a class="code" href="FileMan_8cpp.html#92ccf437cf31aac8a8356e1425f203cc">FileClose</a>( hFile );
<a name="l03436"></a>03436 }
<a name="l03437"></a>03437 
<a name="l03438"></a>03438 
<a name="l03439"></a><a class="code" href="Quest_01Debug_01System_8h.html#423ce27a92c481ee94e29e70291c046f">03439</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#423ce27a92c481ee94e29e70291c046f">NpcRecordLogging</a>( <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubApproach, <a class="code" href="Types_8h.html#ba0652aa53ceb4404f77e13a0c993b0e">STR</a> pStringA, ...)
<a name="l03440"></a>03440 {
<a name="l03441"></a>03441       <span class="keyword">static</span> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>    <a class="code" href="aim_8cpp.html#9cc3be35636d2386bb92085b851d4cdc">fFirstTimeIn</a> = TRUE;
<a name="l03442"></a>03442 <span class="comment">//    static UINT32           uiLineNumber = 1;</span>
<a name="l03443"></a>03443 <span class="comment">//    static UINT32           uiRecordNumber = 1;</span>
<a name="l03444"></a>03444       <a class="code" href="LibraryDataBase_8h.html#210e2fc1c18208cbf159ef9c087d6721">HWFILE</a>            hFile;
<a name="l03445"></a>03445       <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>            uiByteWritten;
<a name="l03446"></a>03446   va_list         argptr;
<a name="l03447"></a>03447   <span class="keywordtype">char</span>            TempString[1024];
<a name="l03448"></a>03448   <span class="keywordtype">char</span>            DestString[1024];
<a name="l03449"></a>03449 
<a name="l03450"></a>03450       TempString[0] = <span class="charliteral">'\0'</span>;
<a name="l03451"></a>03451       DestString[0] = <span class="charliteral">'\0'</span>;
<a name="l03452"></a>03452 
<a name="l03453"></a>03453       <span class="comment">//if the npc log button is turned off, ignore</span>
<a name="l03454"></a>03454       <span class="keywordflow">if</span>( !<a class="code" href="Quest_01Debug_01System_8cpp.html#7a63f7cece94dc1faec866f8155736b0">gfNpcLogButton</a> )
<a name="l03455"></a>03455             <span class="keywordflow">return</span>;
<a name="l03456"></a>03456 
<a name="l03457"></a>03457       <span class="comment">//if the approach is NPC_INITIATING_CONV, return</span>
<a name="l03458"></a>03458       <span class="keywordflow">if</span>( ubApproach == <a class="code" href="NPC_8h.html#fe4ba80db4eca5533465fe913160a13ac02c4f0c83d71bba86e04f2b52c27465">NPC_INITIATING_CONV</a> )
<a name="l03459"></a>03459             <span class="keywordflow">return</span>;
<a name="l03460"></a>03460 
<a name="l03461"></a>03461 
<a name="l03462"></a>03462       va_start(argptr, pStringA);         <span class="comment">// Set up variable argument pointer</span>
<a name="l03463"></a>03463       vsprintf(TempString, pStringA, argptr);   <span class="comment">// process gprintf string (get output str)</span>
<a name="l03464"></a>03464       va_end(argptr);
<a name="l03465"></a>03465 
<a name="l03466"></a>03466 
<a name="l03467"></a>03467       <span class="comment">//open the file</span>
<a name="l03468"></a>03468       hFile = <a class="code" href="FileMan_8cpp.html#1e5007589e18cbc273b9677470215db4">FileOpen</a>( QUEST_DEBUG_FILE, FILE_OPEN_ALWAYS | FILE_ACCESS_WRITE, FALSE);
<a name="l03469"></a>03469       <span class="keywordflow">if</span>( !hFile )
<a name="l03470"></a>03470       {
<a name="l03471"></a>03471             <a class="code" href="FileMan_8cpp.html#92ccf437cf31aac8a8356e1425f203cc">FileClose</a>(hFile);
<a name="l03472"></a>03472             DebugMsg( <a class="code" href="DEBUG_8cpp.html#a7985c2fd033797fc67a03b2c26e07c6">TOPIC_JA2</a>, DBG_LEVEL_3, <a class="code" href="DEBUG_8cpp.html#88565bf27eec0b2003eb5bc9426b8e4b">String</a>(<span class="stringliteral">"FAILED to open Quest Debug File %s"</span>, QUEST_DEBUG_FILE) );
<a name="l03473"></a>03473             <span class="keywordflow">return</span>;
<a name="l03474"></a>03474       }
<a name="l03475"></a>03475 
<a name="l03476"></a>03476       <span class="keywordflow">if</span>( <a class="code" href="FileMan_8cpp.html#67e9a5372c244c5724f9e993c4ff234e">FileSeek</a>( hFile,0,FILE_SEEK_FROM_END ) == FALSE )
<a name="l03477"></a>03477       {
<a name="l03478"></a>03478             <span class="comment">// error</span>
<a name="l03479"></a>03479     <a class="code" href="FileMan_8cpp.html#92ccf437cf31aac8a8356e1425f203cc">FileClose</a>( hFile );
<a name="l03480"></a>03480             <span class="keywordflow">return</span>;
<a name="l03481"></a>03481       }
<a name="l03482"></a>03482 
<a name="l03483"></a>03483       sprintf( DestString, <span class="stringliteral">"\n\t\t%s"</span>, TempString );
<a name="l03484"></a>03484 
<a name="l03485"></a>03485       <span class="comment">//append to file</span>
<a name="l03486"></a>03486       <span class="keywordflow">if</span>( !<a class="code" href="FileMan_8cpp.html#09ed41c07d607c8c64a7e2b9fb25660c">FileWrite</a>( hFile, DestString, <a class="code" href="Sys_01Globals_8h.html#6b0f634f4cee3b49739fbd456e2b9fcf">strlen</a>(DestString), &amp;uiByteWritten ) )
<a name="l03487"></a>03487       {
<a name="l03488"></a>03488             <a class="code" href="FileMan_8cpp.html#92ccf437cf31aac8a8356e1425f203cc">FileClose</a>(hFile);
<a name="l03489"></a>03489             DebugMsg( <a class="code" href="DEBUG_8cpp.html#a7985c2fd033797fc67a03b2c26e07c6">TOPIC_JA2</a>, DBG_LEVEL_3, <a class="code" href="DEBUG_8cpp.html#88565bf27eec0b2003eb5bc9426b8e4b">String</a>(<span class="stringliteral">"FAILED to write to %s"</span>, QUEST_DEBUG_FILE) );
<a name="l03490"></a>03490             <span class="keywordflow">return</span>;
<a name="l03491"></a>03491       }
<a name="l03492"></a>03492 
<a name="l03493"></a>03493       <a class="code" href="FileMan_8cpp.html#92ccf437cf31aac8a8356e1425f203cc">FileClose</a>(hFile);
<a name="l03494"></a>03494 }
<a name="l03495"></a>03495 
<a name="l03496"></a>03496 
<a name="l03497"></a>03497 
<a name="l03498"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#43cd8ee8e8929ea5fb338665e2a0a319">03498</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#43cd8ee8e8929ea5fb338665e2a0a319">EnableQDSButtons</a>()
<a name="l03499"></a>03499 {
<a name="l03500"></a>03500       <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> != -1 )
<a name="l03501"></a>03501       {
<a name="l03502"></a>03502             <a class="code" href="Button_01System_8cpp.html#9f61a46fd5eaed05a1ef4607a29f46e1">EnableButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#2cd41c59a860829919c29db0ba30231d">guiQuestDebugAddNpcToLocationButton</a> );
<a name="l03503"></a>03503             <a class="code" href="Button_01System_8cpp.html#9f61a46fd5eaed05a1ef4607a29f46e1">EnableButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#7de4de0f3c01b06f06fabc0c46c1f11e">guiQuestDebugStartMercTalkingButtonButton</a> );
<a name="l03504"></a>03504             <a class="code" href="Button_01System_8cpp.html#9f61a46fd5eaed05a1ef4607a29f46e1">EnableButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#aeda21c84111fefc34c2818fc15bf147">guiQuestDebugNPCLogButtonButton</a> );
<a name="l03505"></a>03505             <a class="code" href="Button_01System_8cpp.html#9f61a46fd5eaed05a1ef4607a29f46e1">EnableButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#b86bc3d6ce32759764670149c987c672">guiQuestDebugNPCRefreshButtonButton</a> );
<a name="l03506"></a>03506       }
<a name="l03507"></a>03507       <span class="keywordflow">else</span>
<a name="l03508"></a>03508       {
<a name="l03509"></a>03509             <a class="code" href="Button_01System_8cpp.html#f47071abdc2fdbae8fae4688cedaddfc">DisableButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#7de4de0f3c01b06f06fabc0c46c1f11e">guiQuestDebugStartMercTalkingButtonButton</a> );
<a name="l03510"></a>03510             <a class="code" href="Button_01System_8cpp.html#f47071abdc2fdbae8fae4688cedaddfc">DisableButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#2cd41c59a860829919c29db0ba30231d">guiQuestDebugAddNpcToLocationButton</a> );
<a name="l03511"></a>03511             <a class="code" href="Button_01System_8cpp.html#f47071abdc2fdbae8fae4688cedaddfc">DisableButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#aeda21c84111fefc34c2818fc15bf147">guiQuestDebugNPCLogButtonButton</a> );
<a name="l03512"></a>03512             <a class="code" href="Button_01System_8cpp.html#f47071abdc2fdbae8fae4688cedaddfc">DisableButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#b86bc3d6ce32759764670149c987c672">guiQuestDebugNPCRefreshButtonButton</a> );
<a name="l03513"></a>03513       }
<a name="l03514"></a>03514 
<a name="l03515"></a>03515       <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#e35a36316db3497cff8cdefc0eca0493">gItemListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> != -1 )
<a name="l03516"></a>03516             <a class="code" href="Button_01System_8cpp.html#9f61a46fd5eaed05a1ef4607a29f46e1">EnableButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#e377364680a772afcc667204c7d531b0">guiQuestDebugAddItemToLocationButton</a> );
<a name="l03517"></a>03517       <span class="keywordflow">else</span>
<a name="l03518"></a>03518             <a class="code" href="Button_01System_8cpp.html#f47071abdc2fdbae8fae4688cedaddfc">DisableButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#e377364680a772afcc667204c7d531b0">guiQuestDebugAddItemToLocationButton</a> );
<a name="l03519"></a>03519 
<a name="l03520"></a>03520 
<a name="l03521"></a>03521       <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#e35a36316db3497cff8cdefc0eca0493">gItemListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> != -1 &amp;&amp; <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> != 0 )
<a name="l03522"></a>03522       {
<a name="l03523"></a>03523             <a class="code" href="Button_01System_8cpp.html#9f61a46fd5eaed05a1ef4607a29f46e1">EnableButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#ef5dfeb58cb2a53b4f77c63776c2e32e">guiQuestDebugGiveItemToNPCButton</a> );
<a name="l03524"></a>03524       }
<a name="l03525"></a>03525       <span class="keywordflow">else</span>
<a name="l03526"></a>03526       {
<a name="l03527"></a>03527             <a class="code" href="Button_01System_8cpp.html#f47071abdc2fdbae8fae4688cedaddfc">DisableButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#ef5dfeb58cb2a53b4f77c63776c2e32e">guiQuestDebugGiveItemToNPCButton</a> );
<a name="l03528"></a>03528       }
<a name="l03529"></a>03529 
<a name="l03530"></a>03530 
<a name="l03531"></a>03531       <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#0e7478a157d5003d7ee62ea44784d05a">gfUseLocalNPCs</a> )
<a name="l03532"></a>03532       {
<a name="l03533"></a>03533             <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#fc31893574d6727e0d37d59f47b3066b">IsMercInTheSector</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#6d22a033af1f12b11e6a60c97c1e54e7">gubCurrentNpcInSector</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> ] ) != -1 )
<a name="l03534"></a>03534             {
<a name="l03535"></a>03535                   <a class="code" href="Button_01System_8cpp.html#9f61a46fd5eaed05a1ef4607a29f46e1">EnableButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#279c943e61d9ca197a4bde9d8fe79bd3">guiQuestDebugViewNPCInvButton</a> );
<a name="l03536"></a>03536                   <a class="code" href="Button_01System_8cpp.html#9f61a46fd5eaed05a1ef4607a29f46e1">EnableButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#b86bc3d6ce32759764670149c987c672">guiQuestDebugNPCRefreshButtonButton</a> );
<a name="l03537"></a>03537                   <a class="code" href="Button_01System_8cpp.html#9f61a46fd5eaed05a1ef4607a29f46e1">EnableButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#2cd41c59a860829919c29db0ba30231d">guiQuestDebugAddNpcToLocationButton</a> );
<a name="l03538"></a>03538             }
<a name="l03539"></a>03539             <span class="keywordflow">else</span>
<a name="l03540"></a>03540             {
<a name="l03541"></a>03541                   <a class="code" href="Button_01System_8cpp.html#f47071abdc2fdbae8fae4688cedaddfc">DisableButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#2cd41c59a860829919c29db0ba30231d">guiQuestDebugAddNpcToLocationButton</a> );
<a name="l03542"></a>03542                   <a class="code" href="Button_01System_8cpp.html#f47071abdc2fdbae8fae4688cedaddfc">DisableButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#279c943e61d9ca197a4bde9d8fe79bd3">guiQuestDebugViewNPCInvButton</a> );
<a name="l03543"></a>03543                   <a class="code" href="Button_01System_8cpp.html#f47071abdc2fdbae8fae4688cedaddfc">DisableButton</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#b86bc3d6ce32759764670149c987c672">guiQuestDebugNPCRefreshButtonButton</a> );
<a name="l03544"></a>03544             }
<a name="l03545"></a>03545       }
<a name="l03546"></a>03546 <span class="comment">/*</span>
<a name="l03547"></a>03547 <span class="comment">      else</span>
<a name="l03548"></a>03548 <span class="comment">      {</span>
<a name="l03549"></a>03549 <span class="comment">            if( IsMercInTheSector( gNpcListBox.sCurSelectedItem ) != -1 )</span>
<a name="l03550"></a>03550 <span class="comment">            {</span>
<a name="l03551"></a>03551 <span class="comment">                  EnableButton( guiQuestDebugAddNpcToLocationButton );</span>
<a name="l03552"></a>03552 <span class="comment">                  EnableButton( guiQuestDebugViewNPCInvButton );</span>
<a name="l03553"></a>03553 <span class="comment">                  EnableButton( guiQuestDebugNPCRefreshButtonButton );</span>
<a name="l03554"></a>03554 <span class="comment">            }</span>
<a name="l03555"></a>03555 <span class="comment">            else</span>
<a name="l03556"></a>03556 <span class="comment">            {</span>
<a name="l03557"></a>03557 <span class="comment">//                DisableButton( guiQuestDebugAddNpcToLocationButton );</span>
<a name="l03558"></a>03558 <span class="comment">//                DisableButton( guiQuestDebugViewNPCInvButton );</span>
<a name="l03559"></a>03559 <span class="comment">//                DisableButton( guiQuestDebugNPCRefreshButtonButton );</span>
<a name="l03560"></a>03560 <span class="comment">            }</span>
<a name="l03561"></a>03561 <span class="comment">      }</span>
<a name="l03562"></a>03562 <span class="comment">*/</span>
<a name="l03563"></a>03563 }
<a name="l03564"></a>03564 
<a name="l03565"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#4d8824e6f939c86bac9e27aef76ae215">03565</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>           <a class="code" href="Quest_01Debug_01System_8cpp.html#4d8824e6f939c86bac9e27aef76ae215">DoQDSMessageBox</a>( <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubStyle, <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> * zString, <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a> uiExitScreen, <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubFlags, <a class="code" href="MessageBoxScreen_8cpp.html#9227e34a11fa44eec4eaec54ef643d21">MSGBOX_CALLBACK</a> ReturnCallback )
<a name="l03566"></a>03566 {
<a name="l03567"></a>03567   <a class="code" href="structSGPRect.html">SGPRect</a> pCenteringRect= {0, 0, 639, 479 };
<a name="l03568"></a>03568   
<a name="l03569"></a>03569       <span class="comment">// reset exit mode</span>
<a name="l03570"></a>03570       <a class="code" href="Quest_01Debug_01System_8cpp.html#99f1fee32505439a1bfc01830568fab5">gfExitQdsDueToMessageBox</a> = TRUE;
<a name="l03571"></a>03571       <a class="code" href="Quest_01Debug_01System_8cpp.html#d2c836f98df92d17548db902344fc258">gfQuestDebugEntry</a> = TRUE;
<a name="l03572"></a>03572 
<a name="l03573"></a>03573       <span class="comment">// do message box and return</span>
<a name="l03574"></a>03574   <a class="code" href="Quest_01Debug_01System_8cpp.html#534ff744d60ce92ca501d4afcb7f907e">giQdsMessageBox</a> = <a class="code" href="MessageBoxScreen_8cpp.html#ff890475da4a6f8d61959852ea396a03">DoMessageBox</a>(  ubStyle,  zString,  uiExitScreen, ( <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ) ( ubFlags| MSG_BOX_FLAG_USE_CENTERING_RECT ),  ReturnCallback,  &amp;pCenteringRect );
<a name="l03575"></a>03575 
<a name="l03576"></a>03576       <span class="comment">// send back return state</span>
<a name="l03577"></a>03577       <span class="keywordflow">return</span>( ( <a class="code" href="Quest_01Debug_01System_8cpp.html#534ff744d60ce92ca501d4afcb7f907e">giQdsMessageBox</a> != -1 ) );
<a name="l03578"></a>03578 }
<a name="l03579"></a>03579 
<a name="l03580"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#8298a6a47684c694142199948fc4b17f">03580</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#8298a6a47684c694142199948fc4b17f">IncrementActiveDropDownBox</a>( <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sIncrementValue )
<a name="l03581"></a>03581 {
<a name="l03582"></a>03582       <span class="keywordflow">if</span>( sIncrementValue &lt; 0 )
<a name="l03583"></a>03583             sIncrementValue = 0;
<a name="l03584"></a>03584 
<a name="l03585"></a>03585       <span class="comment">//if the mouse was clicked above the scroll box</span>
<a name="l03586"></a>03586       <span class="keywordflow">if</span>( sIncrementValue &lt; gpActiveListBox-&gt;sCurSelectedItem )
<a name="l03587"></a>03587       {
<a name="l03588"></a>03588             <span class="keywordflow">if</span>( ( sIncrementValue ) &lt;= <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#1251664ccbeec622dcf990b4dae8fac7">usStartIndex</a> )
<a name="l03589"></a>03589             {
<a name="l03590"></a>03590                   <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">usItemDisplayedOnTopOfList</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#1251664ccbeec622dcf990b4dae8fac7">usStartIndex</a>;
<a name="l03591"></a>03591                   sIncrementValue = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#1251664ccbeec622dcf990b4dae8fac7">usStartIndex</a>;
<a name="l03592"></a>03592             }
<a name="l03593"></a>03593             <span class="keywordflow">else</span> <span class="keywordflow">if</span>( sIncrementValue &lt; gpActiveListBox-&gt;usItemDisplayedOnTopOfList &amp;&amp; <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">usItemDisplayedOnTopOfList</a> &gt; <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#1251664ccbeec622dcf990b4dae8fac7">usStartIndex</a> )
<a name="l03594"></a>03594             {
<a name="l03595"></a>03595                   <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">usItemDisplayedOnTopOfList</a> = sIncrementValue;
<a name="l03596"></a>03596             }
<a name="l03597"></a>03597       }
<a name="l03598"></a>03598       <span class="comment">// else the mouse was clicked below the scroll box</span>
<a name="l03599"></a>03599       <span class="keywordflow">else</span> 
<a name="l03600"></a>03600       {
<a name="l03601"></a>03601             <span class="keywordflow">if</span>( sIncrementValue &gt;= ( <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#715672339dcfaceb5b2d4b96fcc32653">usMaxArrayIndex</a> - <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#5c7335f7d4612f5d750f8c52b2aff54d">usMaxNumDisplayedItems</a> ) )
<a name="l03602"></a>03602             {
<a name="l03603"></a>03603                   <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">usItemDisplayedOnTopOfList</a> &gt;= <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#715672339dcfaceb5b2d4b96fcc32653">usMaxArrayIndex</a> - <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#5c7335f7d4612f5d750f8c52b2aff54d">usMaxNumDisplayedItems</a> )
<a name="l03604"></a>03604                         <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">usItemDisplayedOnTopOfList</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#715672339dcfaceb5b2d4b96fcc32653">usMaxArrayIndex</a> - <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#5c7335f7d4612f5d750f8c52b2aff54d">usMaxNumDisplayedItems</a>;
<a name="l03605"></a>03605                   <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ( sIncrementValue - <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">usItemDisplayedOnTopOfList</a> ) &gt;= <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#5c7335f7d4612f5d750f8c52b2aff54d">usMaxNumDisplayedItems</a> )
<a name="l03606"></a>03606                   {
<a name="l03607"></a>03607                         <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">usItemDisplayedOnTopOfList</a> = sIncrementValue - <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#5c7335f7d4612f5d750f8c52b2aff54d">usMaxNumDisplayedItems</a> + 1;
<a name="l03608"></a>03608                   }
<a name="l03609"></a>03609 
<a name="l03610"></a>03610                   <span class="keywordflow">if</span>( sIncrementValue &gt;= <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#715672339dcfaceb5b2d4b96fcc32653">usMaxArrayIndex</a> )
<a name="l03611"></a>03611                         sIncrementValue = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#715672339dcfaceb5b2d4b96fcc32653">usMaxArrayIndex</a> - 1;
<a name="l03612"></a>03612             }
<a name="l03613"></a>03613             <span class="keywordflow">else</span> <span class="keywordflow">if</span>( sIncrementValue &gt;=  <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#715672339dcfaceb5b2d4b96fcc32653">usMaxArrayIndex</a> )
<a name="l03614"></a>03614             {
<a name="l03615"></a>03615                   sIncrementValue = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#715672339dcfaceb5b2d4b96fcc32653">usMaxArrayIndex</a> - 1;
<a name="l03616"></a>03616                   <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">usItemDisplayedOnTopOfList</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#715672339dcfaceb5b2d4b96fcc32653">usMaxArrayIndex</a> - <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#5c7335f7d4612f5d750f8c52b2aff54d">usMaxNumDisplayedItems</a>;
<a name="l03617"></a>03617             }
<a name="l03618"></a>03618             <span class="keywordflow">else</span> <span class="keywordflow">if</span>( sIncrementValue &gt;= <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">usItemDisplayedOnTopOfList</a> + <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#5c7335f7d4612f5d750f8c52b2aff54d">usMaxNumDisplayedItems</a> )
<a name="l03619"></a>03619             {
<a name="l03620"></a>03620                   <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">usItemDisplayedOnTopOfList</a> += sIncrementValue - ( <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#fe10cacda41af8e88a70e34171feb237">usItemDisplayedOnTopOfList</a> + <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#5c7335f7d4612f5d750f8c52b2aff54d">usMaxNumDisplayedItems</a> - 1 );
<a name="l03621"></a>03621             }
<a name="l03622"></a>03622       }
<a name="l03623"></a>03623 
<a name="l03624"></a>03624       <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> = sIncrementValue;
<a name="l03625"></a>03625 
<a name="l03626"></a>03626       <a class="code" href="Quest_01Debug_01System_8cpp.html#84f6c992f4d542ed2ac95fb59040805d">gpActiveListBox</a>-&gt;<a class="code" href="structSCROLL__BOX.html#3db938caea7bf117e178c5b018cc7eb6">ubCurScrollBoxAction</a> = <a class="code" href="Quest_01Debug_01System_8cpp.html#a62371d642974c67a0c0efa77d54fcbd8591bda8e913b81be08b95dc51522445">QD_DROP_DOWN_DISPLAY</a>;
<a name="l03627"></a>03627 }
<a name="l03628"></a>03628 
<a name="l03629"></a>03629 
<a name="l03630"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#fc31893574d6727e0d37d59f47b3066b">03630</a> <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> <a class="code" href="Quest_01Debug_01System_8cpp.html#fc31893574d6727e0d37d59f47b3066b">IsMercInTheSector</a>( <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usMercID )
<a name="l03631"></a>03631 {
<a name="l03632"></a>03632       <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>                         cnt;
<a name="l03633"></a>03633       <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>                         ubCount=0;
<a name="l03634"></a>03634 
<a name="l03635"></a>03635       <span class="keywordflow">if</span>( usMercID == -1 )
<a name="l03636"></a>03636             <span class="keywordflow">return</span>( FALSE );
<a name="l03637"></a>03637 
<a name="l03638"></a>03638       <span class="keywordflow">for</span> ( cnt=0; cnt &lt;= TOTAL_SOLDIERS; cnt++ )
<a name="l03639"></a>03639       {     
<a name="l03640"></a>03640             <span class="comment">//if the merc is active</span>
<a name="l03641"></a>03641             <span class="keywordflow">if</span>( <a class="code" href="Overhead_8cpp.html#f1785e87ea281d015350ec85b9bd8508">Menptr</a>[ cnt ].ubProfile == usMercID )
<a name="l03642"></a>03642             {
<a name="l03643"></a>03643                   <span class="keywordflow">if</span>( <a class="code" href="Overhead_8cpp.html#f1785e87ea281d015350ec85b9bd8508">Menptr</a>[ cnt ].bActive ) 
<a name="l03644"></a>03644                         <span class="keywordflow">return</span>( <a class="code" href="Overhead_8cpp.html#f1785e87ea281d015350ec85b9bd8508">Menptr</a>[ cnt ].ubID );
<a name="l03645"></a>03645             }
<a name="l03646"></a>03646       }
<a name="l03647"></a>03647 
<a name="l03648"></a>03648       <span class="keywordflow">return</span>( -1 );
<a name="l03649"></a>03649 }
<a name="l03650"></a>03650 
<a name="l03651"></a>03651 
<a name="l03652"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#1e84c83f7fcef8392324171910187183">03652</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#1e84c83f7fcef8392324171910187183">RefreshAllNPCInventory</a>()
<a name="l03653"></a>03653 {
<a name="l03654"></a>03654       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>      usCnt;
<a name="l03655"></a>03655       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>      usItemCnt;
<a name="l03656"></a>03656       <a class="code" href="structOBJECTTYPE.html">OBJECTTYPE</a>  TempObject;
<a name="l03657"></a>03657       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>            usItem;
<a name="l03658"></a>03658 
<a name="l03659"></a>03659   <span class="keywordflow">for</span> ( usCnt=0; usCnt &lt; TOTAL_SOLDIERS; usCnt++ )
<a name="l03660"></a>03660       {     
<a name="l03661"></a>03661             <span class="comment">//if the is active</span>
<a name="l03662"></a>03662             <span class="keywordflow">if</span>( <a class="code" href="Overhead_8cpp.html#f1785e87ea281d015350ec85b9bd8508">Menptr</a>[ usCnt ].bActive == 1 ) 
<a name="l03663"></a>03663             {
<a name="l03664"></a>03664                   <span class="comment">//is the merc a rpc or npc</span>
<a name="l03665"></a>03665                   <span class="keywordflow">if</span>( <a class="code" href="Overhead_8cpp.html#f1785e87ea281d015350ec85b9bd8508">Menptr</a>[ usCnt ].ubProfile &gt;= FIRST_RPC &amp;&amp; <a class="code" href="Overhead_8cpp.html#f1785e87ea281d015350ec85b9bd8508">Menptr</a>[ usCnt ].ubProfile &lt; <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa150c510db5aaca8d588a456f077a86a2d">GASTON</a> )
<a name="l03666"></a>03666                   {
<a name="l03667"></a>03667                         <span class="comment">//refresh the mercs inventory</span>
<a name="l03668"></a>03668                         <span class="keywordflow">for</span> ( usItemCnt = 0; usItemCnt&lt; <a class="code" href="Soldier_01Control_8h.html#2a5937706f1724c8f06a0396bdc878553e9a668bdf9e2a72b855424ee1bdabcf">NUM_INV_SLOTS</a>; usItemCnt++ )
<a name="l03669"></a>03669                         {
<a name="l03670"></a>03670                               <span class="comment">//null out the items in the npc inventory</span>
<a name="l03671"></a>03671                               memset( &amp;<a class="code" href="Overhead_8cpp.html#f1785e87ea281d015350ec85b9bd8508">Menptr</a>[ usCnt ].inv[ usItemCnt ], 0, <span class="keyword">sizeof</span>( <a class="code" href="structOBJECTTYPE.html">OBJECTTYPE</a> ) );
<a name="l03672"></a>03672 
<a name="l03673"></a>03673                               <span class="keywordflow">if</span> ( <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ <a class="code" href="Overhead_8cpp.html#f1785e87ea281d015350ec85b9bd8508">Menptr</a>[ usCnt ].ubProfile ].inv[ usItemCnt ] != NOTHING )
<a name="l03674"></a>03674                               {
<a name="l03675"></a>03675                                     <span class="comment">//get the item</span>
<a name="l03676"></a>03676                                     usItem = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ <a class="code" href="Overhead_8cpp.html#f1785e87ea281d015350ec85b9bd8508">Menptr</a>[ usCnt ].ubProfile ].inv[ usItemCnt ];
<a name="l03677"></a>03677 
<a name="l03678"></a>03678                                     <span class="comment">//Create the object</span>
<a name="l03679"></a>03679                                     <a class="code" href="Items_8cpp.html#153f1fcda178d6758ff8b01cf7999170">CreateItem</a>( usItem, 100, &amp;TempObject );
<a name="l03680"></a>03680       
<a name="l03681"></a>03681                                     <span class="comment">//copy the item into the soldiers inventory</span>
<a name="l03682"></a>03682                                     memcpy( &amp;<a class="code" href="Overhead_8cpp.html#f1785e87ea281d015350ec85b9bd8508">Menptr</a>[ usCnt ].inv[ usItemCnt ], &amp;TempObject, <span class="keyword">sizeof</span>( OBJECTTYPE ) );
<a name="l03683"></a>03683                               }
<a name="l03684"></a>03684                         }
<a name="l03685"></a>03685 
<a name="l03686"></a>03686                   }
<a name="l03687"></a>03687             }
<a name="l03688"></a>03688       }
<a name="l03689"></a>03689 }
<a name="l03690"></a>03690 
<a name="l03691"></a>03691 
<a name="l03692"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#44a1738d7be60bc3bdfc25d44c9c7423">03692</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#44a1738d7be60bc3bdfc25d44c9c7423">StartMercTalkingFromQuoteNum</a>( <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iQuoteToStartTalkingFrom )
<a name="l03693"></a>03693 {
<a name="l03694"></a>03694       <a class="code" href="Types_8h.html#fcdf88c1d4179fcd6d8a1fa9bbcb8a80">CHAR16</a>      zTemp[512];
<a name="l03695"></a>03695       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a>       uiMaxNumberOfQuotes = <a class="code" href="Quest_01Debug_01System_8cpp.html#b8cc1a995358374ce1cfd340bf329c58">GetMaxNumberOfQuotesToPlay</a>( );
<a name="l03696"></a>03696 
<a name="l03697"></a>03697       <span class="comment">//make sure the current character is created</span>
<a name="l03698"></a>03698       <a class="code" href="Quest_01Debug_01System_8cpp.html#9baef8adcc504b54935d7ecd11234bda">SetQDSMercProfile</a>();
<a name="l03699"></a>03699 
<a name="l03700"></a>03700       <a class="code" href="Quest_01Debug_01System_8cpp.html#2b25f673e16170e3772dbe5d6af4cd89">SetTalkingMercPauseState</a>( FALSE );
<a name="l03701"></a>03701 
<a name="l03702"></a>03702       <span class="comment">//do some error checks</span>
<a name="l03703"></a>03703       <span class="keywordflow">if</span>( iQuoteToStartTalkingFrom &lt; 0 || iQuoteToStartTalkingFrom &gt; uiMaxNumberOfQuotes )
<a name="l03704"></a>03704       {
<a name="l03705"></a>03705             swprintf( zTemp, L<span class="stringliteral">"Please enter a value between 0 and %d"</span>, uiMaxNumberOfQuotes );
<a name="l03706"></a>03706             <a class="code" href="Quest_01Debug_01System_8cpp.html#4d8824e6f939c86bac9e27aef76ae215">DoQDSMessageBox</a>( <a class="code" href="MessageBoxScreen_8h.html#2f1398dba5e4a5616b83437528bdb28edfaaee6cf60e9dcec27ec0650dbbc39f">MSG_BOX_BASIC_STYLE</a>, (<a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> *)zTemp, <a class="code" href="screenids_8h.html#a4ee5dea8709d2b490486a62df77faf2938991f1775fa1057fe0745471762248">QUEST_DEBUG_SCREEN</a>, MSG_BOX_FLAG_OK, NULL );
<a name="l03707"></a>03707       }
<a name="l03708"></a>03708       <span class="keywordflow">else</span>
<a name="l03709"></a>03709       {
<a name="l03710"></a>03710             <span class="comment">//Start the merc talking from the selected quote number</span>
<a name="l03711"></a>03711             <a class="code" href="Quest_01Debug_01System_8cpp.html#f8b9e37597f9e3d0967fd2f80fe29896">giSelectedMercCurrentQuote</a> = iQuoteToStartTalkingFrom;
<a name="l03712"></a>03712       }
<a name="l03713"></a>03713 
<a name="l03714"></a>03714             <span class="comment">//create a mask to block out the screen</span>
<a name="l03715"></a>03715       <span class="keywordflow">if</span>( !<a class="code" href="Quest_01Debug_01System_8cpp.html#dfc9df40f5f18a77a608b3bf365d437f">gfBackgroundMaskEnabled</a> )
<a name="l03716"></a>03716       {
<a name="l03717"></a>03717             <a class="code" href="mousesystem_8cpp.html#dce08766ef4cbacb9372efe12d26a1e0">MSYS_DefineRegion</a>( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#51710ca404b1084946db1bce07f87969">gQuestTextEntryDebugDisableScreenRegion</a>, 0, 0, 640, 480, MSYS_PRIORITY_HIGH+3,
<a name="l03718"></a>03718                                                  <a class="code" href="Cursors_8h.html#5e184f913c35dbf305f3c369dee23e195f01e13f727403aee6675e3f0a61f63d">CURSOR_LAPTOP_SCREEN</a>, MSYS_NO_CALLBACK, <a class="code" href="Quest_01Debug_01System_8cpp.html#877c5d3167ec49419a68a6569b56744a">QuestDebugTextEntryDisableScreenRegionCallBack</a> ); 
<a name="l03719"></a>03719             <a class="code" href="mousesystem_8cpp.html#d654da5fdc0c95350f4c40c17ed3933d">MSYS_AddRegion</a>(&amp;gQuestTextEntryDebugDisableScreenRegion); 
<a name="l03720"></a>03720             <a class="code" href="Quest_01Debug_01System_8cpp.html#dfc9df40f5f18a77a608b3bf365d437f">gfBackgroundMaskEnabled</a> = TRUE;
<a name="l03721"></a>03721       }
<a name="l03722"></a>03722 
<a name="l03723"></a>03723       <a class="code" href="Quest_01Debug_01System_8cpp.html#c032c8db3cd013a10ec3e7e2c16953b8">DisableFactMouseRegions</a>();
<a name="l03724"></a>03724 
<a name="l03725"></a>03725 }
<a name="l03726"></a>03726 
<a name="l03727"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#3070e5c3e55894af03a9ca3703db5d56">03727</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#3070e5c3e55894af03a9ca3703db5d56">EndMercTalking</a>()
<a name="l03728"></a>03728 {
<a name="l03729"></a>03729       <span class="comment">//remove the talking dialogue</span>
<a name="l03730"></a>03730       <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#19257b69178b1771f59dc4be5006ef1f">gfNpcPanelIsUsedForTalkingMerc</a> )
<a name="l03731"></a>03731             <a class="code" href="Interface_01Dialogue_8cpp.html#4148f63bbd3640eaaf1b781852c224bf">DeleteTalkingMenu</a>( );
<a name="l03732"></a>03732       <a class="code" href="Quest_01Debug_01System_8cpp.html#19257b69178b1771f59dc4be5006ef1f">gfNpcPanelIsUsedForTalkingMerc</a> = FALSE;
<a name="l03733"></a>03733 
<a name="l03734"></a>03734       <span class="comment">//remove the mask of the entire screen</span>
<a name="l03735"></a>03735       <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#dfc9df40f5f18a77a608b3bf365d437f">gfBackgroundMaskEnabled</a> )
<a name="l03736"></a>03736       {
<a name="l03737"></a>03737             <a class="code" href="mousesystem_8cpp.html#f2581a6cadb531c87ebd6b3f5b70f258">MSYS_RemoveRegion</a>( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#51710ca404b1084946db1bce07f87969">gQuestTextEntryDebugDisableScreenRegion</a>);
<a name="l03738"></a>03738             <a class="code" href="Quest_01Debug_01System_8cpp.html#dfc9df40f5f18a77a608b3bf365d437f">gfBackgroundMaskEnabled</a> = FALSE;
<a name="l03739"></a>03739       }
<a name="l03740"></a>03740 
<a name="l03741"></a>03741       <a class="code" href="Quest_01Debug_01System_8cpp.html#f8b9e37597f9e3d0967fd2f80fe29896">giSelectedMercCurrentQuote</a> = -1;
<a name="l03742"></a>03742 
<a name="l03743"></a>03743       <span class="comment">//make sure we can dirty the button</span>
<a name="l03744"></a>03744       <span class="keywordflow">if</span>( !<a class="code" href="Quest_01Debug_01System_8cpp.html#3dc1cbcb983a326486e2d31f161ca7ad">gfQuestDebugExit</a> )
<a name="l03745"></a>03745             <a class="code" href="Button_01System_8cpp.html#99f9e9d9b2c22bc0d2d8166c4bb2f353">ButtonList</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#947e48531d84da93d7d24219e72a2020">guiQDPgUpButtonButton</a> ]-&gt;<a class="code" href="struct__GUI__BUTTON.html#1ad6f5c9eb46ea98b25449008c9563d0">uiFlags</a> &amp;= ~BUTTON_FORCE_UNDIRTY;
<a name="l03746"></a>03746 
<a name="l03747"></a>03747 
<a name="l03748"></a>03748       <span class="comment">//enable the fact mouse regions</span>
<a name="l03749"></a>03749       <a class="code" href="Quest_01Debug_01System_8cpp.html#ce3c931e6ad8c2268fa8152010032377">EnableFactMouseRegions</a>();
<a name="l03750"></a>03750 }
<a name="l03751"></a>03751 
<a name="l03752"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#6ea6b67ad7fca1521d7da540fda6d435">03752</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#6ea6b67ad7fca1521d7da540fda6d435">HandleQDSTalkingMerc</a>()
<a name="l03753"></a>03753 {
<a name="l03754"></a>03754 <span class="comment">//    static BOOLEAN    fWas</span>
<a name="l03755"></a>03755       <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> fIsTheMercTalking=FALSE;
<a name="l03756"></a>03756       <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>       ubPanelMercShouldUse;
<a name="l03757"></a>03757 
<a name="l03758"></a>03758       <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#f8b9e37597f9e3d0967fd2f80fe29896">giSelectedMercCurrentQuote</a> != -1 )
<a name="l03759"></a>03759       {
<a name="l03760"></a>03760             <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#9f589748c6d610e7571aada84a866a1e">gTalkingMercSoldier</a> == NULL )
<a name="l03761"></a>03761                   <span class="keywordflow">return</span>;
<a name="l03762"></a>03762 
<a name="l03763"></a>03763             <span class="comment">//Call this function to enable or disable the flags in the faces struct ( without modifing the pause state )</span>
<a name="l03764"></a>03764             <a class="code" href="Quest_01Debug_01System_8cpp.html#2b25f673e16170e3772dbe5d6af4cd89">SetTalkingMercPauseState</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#a396f2a934c7b021f993b13c53fb366a">gfPauseTalkingMercPopup</a> );
<a name="l03765"></a>03765 
<a name="l03766"></a>03766             ubPanelMercShouldUse = <a class="code" href="Quest_01Debug_01System_8cpp.html#a8d1c4e2354fb381f23e64d6efd2bcf6">WhichPanelShouldTalkingMercUse</a>( <span class="comment">/*giSelectedMercCurrentQuote*/</span> ); <span class="comment">// doesn't take parameters (jonathanl)</span>
<a name="l03767"></a>03767 
<a name="l03768"></a>03768             <span class="comment">//find out if the merc is talking</span>
<a name="l03769"></a>03769             <span class="keywordflow">if</span>( ubPanelMercShouldUse == <a class="code" href="Quest_01Debug_01System_8cpp.html#25f1c885c7f5230ea4c9bc48dde88fe15a574ad4de0993d979a632ec5747a0d3">QDS_REGULAR_PANEL</a> )
<a name="l03770"></a>03770                   fIsTheMercTalking = <a class="code" href="Faces_8cpp.html#cfc5b33a81ed91811ea7bc69e2e1b9a8">gFacesData</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#9f589748c6d610e7571aada84a866a1e">gTalkingMercSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#d5f6fd345324ba5fdf49c5a0624f6620">iFaceIndex</a> ].<a class="code" href="structFACETYPE.html#b10af8a3de265c264349e7471c4ecb67">fTalking</a>;
<a name="l03771"></a>03771             <span class="keywordflow">else</span>
<a name="l03772"></a>03772                   fIsTheMercTalking = <a class="code" href="Faces_8cpp.html#cfc5b33a81ed91811ea7bc69e2e1b9a8">gFacesData</a>[ <a class="code" href="Interface_01Dialogue_8cpp.html#96687692e3f323344c26cd8bc0e9dc38">gTalkPanel</a>.<a class="code" href="structNPC__DIALOGUE__TYPE.html#ac78906f3e25bb0d09d8b521691aa1ff">iFaceIndex</a> ].<a class="code" href="structFACETYPE.html#b10af8a3de265c264349e7471c4ecb67">fTalking</a>;
<a name="l03773"></a>03773 
<a name="l03774"></a>03774             <span class="comment">//if the merc is not talking</span>
<a name="l03775"></a>03775             <span class="keywordflow">if</span>( !fIsTheMercTalking )
<a name="l03776"></a>03776             {
<a name="l03777"></a>03777                   <span class="comment">//if we still have more quotes to say</span>
<a name="l03778"></a>03778                   <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#f8b9e37597f9e3d0967fd2f80fe29896">giSelectedMercCurrentQuote</a> &lt; <a class="code" href="Quest_01Debug_01System_8cpp.html#b8cc1a995358374ce1cfd340bf329c58">GetMaxNumberOfQuotesToPlay</a>( ) )
<a name="l03779"></a>03779                   {
<a name="l03780"></a>03780                         <span class="comment">//if the user has paused the playing</span>
<a name="l03781"></a>03781                         <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#a396f2a934c7b021f993b13c53fb366a">gfPauseTalkingMercPopup</a> )
<a name="l03782"></a>03782                         {
<a name="l03783"></a>03783                               <span class="comment">//get out</span>
<a name="l03784"></a>03784                               <span class="keywordflow">return</span>;
<a name="l03785"></a>03785                         }
<a name="l03786"></a>03786 
<a name="l03787"></a>03787                         <span class="comment">//Start the merc talking</span>
<a name="l03788"></a>03788                         <span class="keywordflow">if</span>( ubPanelMercShouldUse == <a class="code" href="Quest_01Debug_01System_8cpp.html#25f1c885c7f5230ea4c9bc48dde88fe15a574ad4de0993d979a632ec5747a0d3">QDS_REGULAR_PANEL</a> )
<a name="l03789"></a>03789                               <a class="code" href="Dialogue_01Control_8cpp.html#78d57daff1e69f02d5d83bd74d30e520">TacticalCharacterDialogue</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#9f589748c6d610e7571aada84a866a1e">gTalkingMercSoldier</a>, (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)<a class="code" href="Quest_01Debug_01System_8cpp.html#f8b9e37597f9e3d0967fd2f80fe29896">giSelectedMercCurrentQuote</a> );
<a name="l03790"></a>03790                         <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#7bf86b564617760f500ea5e8ed4aed60">gfRpcToSaySectorDesc</a> &amp;&amp; gTalkingMercSoldier-&gt;ubProfile &gt;=57 &amp;&amp; gTalkingMercSoldier-&gt;ubProfile &lt;= 60 )
<a name="l03791"></a>03791                         {
<a name="l03792"></a>03792                               <span class="comment">//ATE: Trigger the sector desc here</span>
<a name="l03793"></a>03793                               <a class="code" href="Dialogue_01Control_8cpp.html#05bb45b22a20fe62ae4ce15becf51f88">CharacterDialogueWithSpecialEvent</a>( gTalkingMercSoldier-&gt;ubProfile, (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)giSelectedMercCurrentQuote, <a class="code" href="Interface_01Dialogue_8cpp.html#96687692e3f323344c26cd8bc0e9dc38">gTalkPanel</a>.<a class="code" href="structNPC__DIALOGUE__TYPE.html#ac78906f3e25bb0d09d8b521691aa1ff">iFaceIndex</a>, DIALOGUE_NPC_UI, TRUE, FALSE, DIALOGUE_SPECIAL_EVENT_USE_ALTERNATE_FILES, FALSE, FALSE );
<a name="l03794"></a>03794                         }
<a name="l03795"></a>03795                         <span class="keywordflow">else</span>
<a name="l03796"></a>03796                               <a class="code" href="Dialogue_01Control_8cpp.html#20aa8ced040d52b870ed8ed890a7673d">CharacterDialogue</a>( gTalkingMercSoldier-&gt;ubProfile, (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>)giSelectedMercCurrentQuote, <a class="code" href="Interface_01Dialogue_8cpp.html#96687692e3f323344c26cd8bc0e9dc38">gTalkPanel</a>.<a class="code" href="structNPC__DIALOGUE__TYPE.html#ac78906f3e25bb0d09d8b521691aa1ff">iFaceIndex</a>, DIALOGUE_NPC_UI, FALSE, FALSE );
<a name="l03797"></a>03797 
<a name="l03798"></a>03798                         <span class="comment">//Incremenet the current quote number</span>
<a name="l03799"></a>03799                         giSelectedMercCurrentQuote++;
<a name="l03800"></a>03800                   }
<a name="l03801"></a>03801                   <span class="keywordflow">else</span>
<a name="l03802"></a>03802                   {
<a name="l03803"></a>03803                         <span class="comment">//Stop the merc from talking</span>
<a name="l03804"></a>03804                         <a class="code" href="Quest_01Debug_01System_8cpp.html#f8b9e37597f9e3d0967fd2f80fe29896">giSelectedMercCurrentQuote</a> = -1;
<a name="l03805"></a>03805 
<a name="l03806"></a>03806                         <a class="code" href="Quest_01Debug_01System_8cpp.html#3070e5c3e55894af03a9ca3703db5d56">EndMercTalking</a>();
<a name="l03807"></a>03807                   }
<a name="l03808"></a>03808             }
<a name="l03809"></a>03809 
<a name="l03810"></a>03810             <span class="comment">//Redraw the screen</span>
<a name="l03811"></a>03811             <a class="code" href="Quest_01Debug_01System_8cpp.html#c125ac9b667b2cf718cda0f2afbb195a">gfRedrawQuestDebugSystem</a> = TRUE;
<a name="l03812"></a>03812       }
<a name="l03813"></a>03813       <span class="keywordflow">else</span>
<a name="l03814"></a>03814       {
<a name="l03815"></a>03815 <span class="comment">/*</span>
<a name="l03816"></a>03816 <span class="comment">            //as soon as the panel is no longer active, refresh the screen</span>
<a name="l03817"></a>03817 <span class="comment">            if( gfFacePanelActive == FALSE )</span>
<a name="l03818"></a>03818 <span class="comment">            {</span>
<a name="l03819"></a>03819 <span class="comment">                  //Redraw the screen</span>
<a name="l03820"></a>03820 <span class="comment">                  gfRedrawQuestDebugSystem = TRUE;</span>
<a name="l03821"></a>03821 <span class="comment">            }</span>
<a name="l03822"></a>03822 <span class="comment">*/</span>
<a name="l03823"></a>03823       }
<a name="l03824"></a>03824 }
<a name="l03825"></a>03825 
<a name="l03826"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#2b25f673e16170e3772dbe5d6af4cd89">03826</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#2b25f673e16170e3772dbe5d6af4cd89">SetTalkingMercPauseState</a>( <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> fState )
<a name="l03827"></a>03827 {
<a name="l03828"></a>03828       <span class="keywordflow">if</span>( fState )
<a name="l03829"></a>03829       {
<a name="l03830"></a>03830             <a class="code" href="Quest_01Debug_01System_8cpp.html#a396f2a934c7b021f993b13c53fb366a">gfPauseTalkingMercPopup</a> = TRUE;
<a name="l03831"></a>03831 
<a name="l03832"></a>03832             <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#9f589748c6d610e7571aada84a866a1e">gTalkingMercSoldier</a> )
<a name="l03833"></a>03833                   <a class="code" href="Faces_8cpp.html#cfc5b33a81ed91811ea7bc69e2e1b9a8">gFacesData</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#9f589748c6d610e7571aada84a866a1e">gTalkingMercSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#d5f6fd345324ba5fdf49c5a0624f6620">iFaceIndex</a> ].<a class="code" href="structFACETYPE.html#2e9218a76e9f0bc2d51b84815c4e69e3">uiFlags</a> |= FACE_POTENTIAL_KEYWAIT;
<a name="l03834"></a>03834       }
<a name="l03835"></a>03835       <span class="keywordflow">else</span>
<a name="l03836"></a>03836       {
<a name="l03837"></a>03837             <a class="code" href="Quest_01Debug_01System_8cpp.html#a396f2a934c7b021f993b13c53fb366a">gfPauseTalkingMercPopup</a> = FALSE;
<a name="l03838"></a>03838 
<a name="l03839"></a>03839             <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#9f589748c6d610e7571aada84a866a1e">gTalkingMercSoldier</a> )
<a name="l03840"></a>03840                   <a class="code" href="Faces_8cpp.html#cfc5b33a81ed91811ea7bc69e2e1b9a8">gFacesData</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#9f589748c6d610e7571aada84a866a1e">gTalkingMercSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#d5f6fd345324ba5fdf49c5a0624f6620">iFaceIndex</a> ].<a class="code" href="structFACETYPE.html#2e9218a76e9f0bc2d51b84815c4e69e3">uiFlags</a> &amp;= ~FACE_POTENTIAL_KEYWAIT;
<a name="l03841"></a>03841       }
<a name="l03842"></a>03842 }
<a name="l03843"></a>03843 
<a name="l03844"></a>03844 
<a name="l03845"></a>03845 
<a name="l03846"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#9baef8adcc504b54935d7ecd11234bda">03846</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#9baef8adcc504b54935d7ecd11234bda">SetQDSMercProfile</a>()
<a name="l03847"></a>03847 {
<a name="l03848"></a>03848       <span class="comment">// Get selected soldier</span>
<a name="l03849"></a>03849       <span class="keywordflow">if</span>    ( <a class="code" href="Overhead_8cpp.html#f0ada03378d5018e6f225bf25ab20b24">GetSoldier</a>( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#9f589748c6d610e7571aada84a866a1e">gTalkingMercSoldier</a>, <a class="code" href="Interface_01Utils_8cpp.html#07d83e717b98bc3cf6628f0bb9bc9205">gusSelectedSoldier</a> ) )
<a name="l03850"></a>03850       {
<a name="l03851"></a>03851             <span class="comment">// Change guy!</span>
<a name="l03852"></a>03852             <a class="code" href="Soldier_01Create_8cpp.html#7be6c9a73e26eb081dab5ef3d4962732">ForceSoldierProfileID</a>( <a class="code" href="Quest_01Debug_01System_8cpp.html#9f589748c6d610e7571aada84a866a1e">gTalkingMercSoldier</a>, (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)<a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> );
<a name="l03853"></a>03853 
<a name="l03854"></a>03854             <span class="comment">//if it is an rpc</span>
<a name="l03855"></a>03855             <span class="keywordflow">if</span>( gTalkingMercSoldier-&gt;ubProfile &gt;= 57 &amp;&amp; gTalkingMercSoldier-&gt;ubProfile &lt;= 72 )
<a name="l03856"></a>03856             {
<a name="l03857"></a>03857                   <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#5380ba59664879efb0e2272a7212975e">gfAddNpcToTeam</a> )
<a name="l03858"></a>03858                         <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ gTalkingMercSoldier-&gt;ubProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#ba6784590fd16294fae9305dc86e0391">ubMiscFlags</a> |= PROFILE_MISC_FLAG_RECRUITED;
<a name="l03859"></a>03859                   <span class="keywordflow">else</span>
<a name="l03860"></a>03860                         <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ gTalkingMercSoldier-&gt;ubProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#ba6784590fd16294fae9305dc86e0391">ubMiscFlags</a> &amp;= ~PROFILE_MISC_FLAG_RECRUITED;
<a name="l03861"></a>03861             }
<a name="l03862"></a>03862             <span class="keywordflow">else</span>
<a name="l03863"></a>03863             {
<a name="l03864"></a>03864             }
<a name="l03865"></a>03865 
<a name="l03866"></a>03866             <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#a8d1c4e2354fb381f23e64d6efd2bcf6">WhichPanelShouldTalkingMercUse</a>( ) == <a class="code" href="Quest_01Debug_01System_8cpp.html#25f1c885c7f5230ea4c9bc48dde88fe1851a52a5d16dcd985fa5d13bc57b1816">QDS_NPC_PANEL</a> )
<a name="l03867"></a>03867             {
<a name="l03868"></a>03868                   <span class="comment">//remove the talking dialogue</span>
<a name="l03869"></a>03869                   <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#19257b69178b1771f59dc4be5006ef1f">gfNpcPanelIsUsedForTalkingMerc</a> )
<a name="l03870"></a>03870                         <a class="code" href="Interface_01Dialogue_8cpp.html#4148f63bbd3640eaaf1b781852c224bf">DeleteTalkingMenu</a>( );
<a name="l03871"></a>03871 
<a name="l03872"></a>03872                   gfNpcPanelIsUsedForTalkingMerc = TRUE;
<a name="l03873"></a>03873 
<a name="l03874"></a>03874                   <a class="code" href="Interface_01Dialogue_8cpp.html#261249d2b5792c77fb04558ab0be92b1">InternalInitTalkingMenu</a>( gTalkingMercSoldier-&gt;ubProfile, 10, 10 );
<a name="l03875"></a>03875                   <a class="code" href="Quest_01Debug_01System_8cpp.html#865a71682ce16d8fee61adbd915075fd">gpDestSoldier</a> = &amp;<a class="code" href="Overhead_8cpp.html#f1785e87ea281d015350ec85b9bd8508">Menptr</a>[21];
<a name="l03876"></a>03876             }
<a name="l03877"></a>03877       }
<a name="l03878"></a>03878 }
<a name="l03879"></a>03879 
<a name="l03880"></a>03880 
<a name="l03881"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#ba867a985dca7f8c4ebcb3851ad93f1e">03881</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#ba867a985dca7f8c4ebcb3851ad93f1e">DisplayQDSCurrentlyQuoteNum</a>( )
<a name="l03882"></a>03882 {
<a name="l03883"></a>03883       <a class="code" href="Types_8h.html#fcdf88c1d4179fcd6d8a1fa9bbcb8a80">CHAR16</a>      zTemp[512];
<a name="l03884"></a>03884       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>      usPosY;
<a name="l03885"></a>03885       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>      usFontHeight = <a class="code" href="Font_8cpp.html#35cddf34696d33489efb820caf968907">GetFontHeight</a>( QUEST_DBS_FONT_TEXT_ENTRY ) + 2;
<a name="l03886"></a>03886 
<a name="l03887"></a>03887       <span class="comment">//Display the box frame</span>
<a name="l03888"></a>03888       <a class="code" href="vsurface_8cpp.html#10d0257b54c4d27b2d82ead2a46cd581">ColorFillVideoSurfaceArea</a>( FRAME_BUFFER, QDS_CURRENT_QUOTE_NUM_BOX_X, QDS_CURRENT_QUOTE_NUM_BOX_Y, QDS_CURRENT_QUOTE_NUM_BOX_X+QDS_CURRENT_QUOTE_NUM_BOX_WIDTH,   QDS_CURRENT_QUOTE_NUM_BOX_Y+QDS_CURRENT_QUOTE_NUM_BOX_HEIGHT, <a class="code" href="himage_8cpp.html#d29939ffcd39c7d1cc0a91222702d361">Get16BPPColor</a>( FROMRGB(  32,  41,  53 ) ) );
<a name="l03889"></a>03889 
<a name="l03890"></a>03890       swprintf( zTemp, L<span class="stringliteral">"'%s' is currently saying quote #%d"</span>, <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#9f589748c6d610e7571aada84a866a1e">gTalkingMercSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#5a5648a1bb3507cc41f6be199c51a3f8">ubProfile</a> ].zNickname, <a class="code" href="Quest_01Debug_01System_8cpp.html#f8b9e37597f9e3d0967fd2f80fe29896">giSelectedMercCurrentQuote</a>-1 );
<a name="l03891"></a>03891 
<a name="l03892"></a>03892       <span class="comment">//Display the text box caption</span>
<a name="l03893"></a>03893       usPosY = QDS_CURRENT_QUOTE_NUM_BOX_Y+4;
<a name="l03894"></a>03894       <a class="code" href="WordWrap_8cpp.html#b17ac632920394af93f027727a77ea4e">DisplayWrappedString</a>( QDS_CURRENT_QUOTE_NUM_BOX_X+5, usPosY, QDS_CURRENT_QUOTE_NUM_BOX_WIDTH-10, 2, QUEST_DBS_FONT_TEXT_ENTRY, FONT_MCOLOR_WHITE, zTemp, FONT_MCOLOR_BLACK, FALSE, CENTER_JUSTIFIED   );
<a name="l03895"></a>03895 
<a name="l03896"></a>03896       <span class="comment">//Display the Pause speech text</span>
<a name="l03897"></a>03897       usPosY += usFontHeight + 4;
<a name="l03898"></a>03898       <a class="code" href="WordWrap_8cpp.html#b17ac632920394af93f027727a77ea4e">DisplayWrappedString</a>( QDS_CURRENT_QUOTE_NUM_BOX_X+5, usPosY, QDS_CURRENT_QUOTE_NUM_BOX_WIDTH-10, 2, QUEST_DBS_FONT_TEXT_ENTRY, FONT_MCOLOR_WHITE, <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd51fbb350183228789b21475b748bdf32c">QUEST_DBS_PAUSE_SPEECH</a> ], FONT_MCOLOR_BLACK, FALSE, LEFT_JUSTIFIED      );
<a name="l03899"></a>03899 
<a name="l03900"></a>03900       <span class="comment">//Display the left arrow quote</span>
<a name="l03901"></a>03901       usPosY += usFontHeight;
<a name="l03902"></a>03902       <a class="code" href="WordWrap_8cpp.html#b17ac632920394af93f027727a77ea4e">DisplayWrappedString</a>( QDS_CURRENT_QUOTE_NUM_BOX_X+5, usPosY, QDS_CURRENT_QUOTE_NUM_BOX_WIDTH-10, 2, QUEST_DBS_FONT_TEXT_ENTRY, FONT_MCOLOR_WHITE, <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd586fc1fb37afc5cb8106a204526eaf53d">QUEST_DBS_LEFT_ARROW_PREVIOUS_QUOTE</a> ], FONT_MCOLOR_BLACK, FALSE, LEFT_JUSTIFIED     );
<a name="l03903"></a>03903 
<a name="l03904"></a>03904       <span class="comment">//Display the right arrow quote</span>
<a name="l03905"></a>03905       usPosY += usFontHeight;
<a name="l03906"></a>03906       <a class="code" href="WordWrap_8cpp.html#b17ac632920394af93f027727a77ea4e">DisplayWrappedString</a>( QDS_CURRENT_QUOTE_NUM_BOX_X+5, usPosY, QDS_CURRENT_QUOTE_NUM_BOX_WIDTH-10, 2, QUEST_DBS_FONT_TEXT_ENTRY, FONT_MCOLOR_WHITE, <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5e9af56bf6202d58fac350de9656270cf">QUEST_DBS_RIGHT_ARROW_NEXT_QUOTE</a> ], FONT_MCOLOR_BLACK, FALSE, LEFT_JUSTIFIED  );
<a name="l03907"></a>03907 
<a name="l03908"></a>03908       <span class="comment">//Display the right arrow quote</span>
<a name="l03909"></a>03909       usPosY += usFontHeight;
<a name="l03910"></a>03910       <a class="code" href="WordWrap_8cpp.html#b17ac632920394af93f027727a77ea4e">DisplayWrappedString</a>( QDS_CURRENT_QUOTE_NUM_BOX_X+5, usPosY, QDS_CURRENT_QUOTE_NUM_BOX_WIDTH-10, 2, QUEST_DBS_FONT_TEXT_ENTRY, FONT_MCOLOR_WHITE, <a class="code" href="Quest_01Debug_01System_8cpp.html#1feb980f11a444c826c57d6e2731c3ad">QuestDebugText</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#82f2c6e4d47f62f6b65c5887eb096fd5fa7ecb5579385ad47e801742eec33704">QUEST_DBS_ESC_TOP_STOP_TALKING</a> ], FONT_MCOLOR_BLACK, FALSE, LEFT_JUSTIFIED    );
<a name="l03911"></a>03911 
<a name="l03912"></a>03912 
<a name="l03913"></a>03913       <a class="code" href="video_8cpp.html#4ed7790da612ff97bf9c05cf186823bc">InvalidateRegion</a>( QDS_CURRENT_QUOTE_NUM_BOX_X, QDS_CURRENT_QUOTE_NUM_BOX_Y, QDS_CURRENT_QUOTE_NUM_BOX_X+QDS_CURRENT_QUOTE_NUM_BOX_WIDTH,  QDS_CURRENT_QUOTE_NUM_BOX_Y+QDS_CURRENT_QUOTE_NUM_BOX_HEIGHT );
<a name="l03914"></a>03914 }
<a name="l03915"></a>03915 
<a name="l03916"></a>03916 
<a name="l03917"></a>03917 
<a name="l03918"></a>03918 
<a name="l03919"></a>03919 
<a name="l03920"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#c3c7754e9ed780af2fbd90080d67b103">03920</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#c3c7754e9ed780af2fbd90080d67b103">BtnQuestDebugAddNpcToTeamToggleCallback</a>( <a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn, <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason )
<a name="l03921"></a>03921 {
<a name="l03922"></a>03922       <span class="keywordflow">if</span>( reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP )
<a name="l03923"></a>03923       {
<a name="l03924"></a>03924             <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#5380ba59664879efb0e2272a7212975e">gfAddNpcToTeam</a> )
<a name="l03925"></a>03925                   gfAddNpcToTeam = FALSE;
<a name="l03926"></a>03926             <span class="keywordflow">else</span>
<a name="l03927"></a>03927                   gfAddNpcToTeam = TRUE;
<a name="l03928"></a>03928       }
<a name="l03929"></a>03929 }
<a name="l03930"></a>03930 
<a name="l03931"></a>03931 
<a name="l03932"></a>03932 
<a name="l03933"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#6334efffbeaed6c8ba8e11b9d5aba1e8">03933</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#6334efffbeaed6c8ba8e11b9d5aba1e8">BtnQuestDebugRPCSaySectorDescToggleCallback</a>( <a class="code" href="struct__GUI__BUTTON.html">GUI_BUTTON</a> *btn, <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> reason )
<a name="l03934"></a>03934 {
<a name="l03935"></a>03935       <span class="keywordflow">if</span>( reason &amp; MSYS_CALLBACK_REASON_LBUTTON_UP )
<a name="l03936"></a>03936       {
<a name="l03937"></a>03937             <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#7bf86b564617760f500ea5e8ed4aed60">gfRpcToSaySectorDesc</a> )
<a name="l03938"></a>03938                   gfRpcToSaySectorDesc = FALSE;
<a name="l03939"></a>03939             <span class="keywordflow">else</span>
<a name="l03940"></a>03940                   gfRpcToSaySectorDesc = TRUE;
<a name="l03941"></a>03941       }
<a name="l03942"></a>03942 }
<a name="l03943"></a>03943 
<a name="l03944"></a>03944 
<a name="l03945"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#a8d1c4e2354fb381f23e64d6efd2bcf6">03945</a> <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> <a class="code" href="Quest_01Debug_01System_8cpp.html#a8d1c4e2354fb381f23e64d6efd2bcf6">WhichPanelShouldTalkingMercUse</a>( )
<a name="l03946"></a>03946 {
<a name="l03947"></a>03947       <span class="keywordflow">if</span> ( <a class="code" href="Quest_01Debug_01System_8cpp.html#9f589748c6d610e7571aada84a866a1e">gTalkingMercSoldier</a> == NULL )
<a name="l03948"></a>03948       {
<a name="l03949"></a>03949             <span class="keywordflow">return</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#25f1c885c7f5230ea4c9bc48dde88fe117a73fc9087c199b2864d520284a7341">QDS_NO_PANEL</a> );
<a name="l03950"></a>03950       }
<a name="l03951"></a>03951 
<a name="l03952"></a>03952       <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#9f589748c6d610e7571aada84a866a1e">gTalkingMercSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#5a5648a1bb3507cc41f6be199c51a3f8">ubProfile</a> &lt; FIRST_RPC || <a class="code" href="Quest_01Debug_01System_8cpp.html#9f589748c6d610e7571aada84a866a1e">gTalkingMercSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#5a5648a1bb3507cc41f6be199c51a3f8">ubProfile</a> &gt;= <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa150c510db5aaca8d588a456f077a86a2d">GASTON</a> )
<a name="l03953"></a>03953       {
<a name="l03954"></a>03954             <span class="keywordflow">return</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#25f1c885c7f5230ea4c9bc48dde88fe15a574ad4de0993d979a632ec5747a0d3">QDS_REGULAR_PANEL</a> );
<a name="l03955"></a>03955       }
<a name="l03956"></a>03956       <span class="keywordflow">else</span>
<a name="l03957"></a>03957       {
<a name="l03958"></a>03958             <span class="keywordflow">return</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#25f1c885c7f5230ea4c9bc48dde88fe1851a52a5d16dcd985fa5d13bc57b1816">QDS_NPC_PANEL</a> );
<a name="l03959"></a>03959       }
<a name="l03960"></a>03960 }
<a name="l03961"></a>03961 
<a name="l03962"></a>03962 
<a name="l03963"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#c032c8db3cd013a10ec3e7e2c16953b8">03963</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#c032c8db3cd013a10ec3e7e2c16953b8">DisableFactMouseRegions</a>()
<a name="l03964"></a>03964 {
<a name="l03965"></a>03965       UINT  i;
<a name="l03966"></a>03966 
<a name="l03967"></a>03967       <span class="keywordflow">for</span>( i=0; i&lt; QUEST_DBS_NUM_DISPLAYED_FACTS; i++)
<a name="l03968"></a>03968       {
<a name="l03969"></a>03969             <a class="code" href="mousesystem_8cpp.html#615c54bb2bb679d4ea40c755fbabd8bd">MSYS_DisableRegion</a>( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#2f10d33af637a234fc4f6944717cba26">gFactListRegion</a>[ i ] );
<a name="l03970"></a>03970       }
<a name="l03971"></a>03971 }
<a name="l03972"></a>03972 
<a name="l03973"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#ce3c931e6ad8c2268fa8152010032377">03973</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#ce3c931e6ad8c2268fa8152010032377">EnableFactMouseRegions</a>()
<a name="l03974"></a>03974 {
<a name="l03975"></a>03975       UINT  i;
<a name="l03976"></a>03976 
<a name="l03977"></a>03977       <span class="keywordflow">for</span>( i=0; i&lt; QUEST_DBS_NUM_DISPLAYED_FACTS; i++)
<a name="l03978"></a>03978       {
<a name="l03979"></a>03979             <a class="code" href="mousesystem_8cpp.html#b3191641bbd12a62599e7e15f0e41991">MSYS_EnableRegion</a>( &amp;<a class="code" href="Quest_01Debug_01System_8cpp.html#2f10d33af637a234fc4f6944717cba26">gFactListRegion</a>[ i ] );
<a name="l03980"></a>03980       }
<a name="l03981"></a>03981 }
<a name="l03982"></a>03982 
<a name="l03983"></a>03983 
<a name="l03984"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#b8cc1a995358374ce1cfd340bf329c58">03984</a> <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> <a class="code" href="Quest_01Debug_01System_8cpp.html#b8cc1a995358374ce1cfd340bf329c58">GetMaxNumberOfQuotesToPlay</a>( )
<a name="l03985"></a>03985 {
<a name="l03986"></a>03986       <a class="code" href="Types_8h.html#1137216524060afd426c34677fed058b">INT32</a> iNumberOfQuotes = 0;
<a name="l03987"></a>03987       <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubProfileID =(<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)<a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a>;
<a name="l03988"></a>03988 
<a name="l03989"></a>03989       <span class="comment">//if it is the RPCs and they are to say the sector descs</span>
<a name="l03990"></a>03990       <span class="keywordflow">if</span>( <a class="code" href="Quest_01Debug_01System_8cpp.html#7bf86b564617760f500ea5e8ed4aed60">gfRpcToSaySectorDesc</a> &amp;&amp; ubProfileID &gt;=57 &amp;&amp; ubProfileID &lt;= 60 )
<a name="l03991"></a>03991       {
<a name="l03992"></a>03992             iNumberOfQuotes = 34
<a name="l03993"></a>03993                   ;
<a name="l03994"></a>03994       }
<a name="l03995"></a>03995 
<a name="l03996"></a>03996       <span class="comment">// else if it is a RPC who is on our team</span>
<a name="l03997"></a>03997       <span class="keywordflow">else</span> <span class="keywordflow">if</span>(    <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ <a class="code" href="Quest_01Debug_01System_8cpp.html#36bafb1f4e50902c246d1165af4eba78">gNpcListBox</a>.<a class="code" href="structSCROLL__BOX.html#75aaf83836f852e5e67c4214259add5c">sCurSelectedItem</a> ].ubMiscFlags &amp; PROFILE_MISC_FLAG_RECRUITED &amp;&amp; 
<a name="l03998"></a>03998                                     ubProfileID &gt;=57 &amp;&amp; 
<a name="l03999"></a>03999                                     ubProfileID &lt;= 72 )
<a name="l04000"></a>04000       {
<a name="l04001"></a>04001             iNumberOfQuotes = 119;
<a name="l04002"></a>04002       }
<a name="l04003"></a>04003 
<a name="l04004"></a>04004       <span class="comment">//else if it is the queen</span>
<a name="l04005"></a>04005       <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ubProfileID == <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa158561257be7e2f96f82c0fdb51d7f964">QUEEN</a> )
<a name="l04006"></a>04006       {
<a name="l04007"></a>04007             iNumberOfQuotes = 138;
<a name="l04008"></a>04008       }
<a name="l04009"></a>04009 
<a name="l04010"></a>04010       <span class="comment">//else if it is speck</span>
<a name="l04011"></a>04011       <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ubProfileID == 159 )
<a name="l04012"></a>04012       {
<a name="l04013"></a>04013             iNumberOfQuotes  = 72;
<a name="l04014"></a>04014       }
<a name="l04015"></a>04015       <span class="keywordflow">else</span>
<a name="l04016"></a>04016             iNumberOfQuotes  = 138;
<a name="l04017"></a>04017 
<a name="l04018"></a>04018 
<a name="l04019"></a>04019       <span class="keywordflow">return</span>( iNumberOfQuotes + 1 );
<a name="l04020"></a>04020 }
<a name="l04021"></a>04021 
<a name="l04022"></a>04022 
<a name="l04023"></a><a class="code" href="Quest_01Debug_01System_8cpp.html#a3845eab0d232a38f3b055f308efb7ff">04023</a> <span class="keywordtype">void</span> <a class="code" href="Quest_01Debug_01System_8cpp.html#a3845eab0d232a38f3b055f308efb7ff">GetDebugLocationString</a>( <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usProfileID, <a class="code" href="Types_8h.html#94ebfccc6e846c28751f8d616371f1e5">STR16</a> pzText )
<a name="l04024"></a>04024 {
<a name="l04025"></a>04025       <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a> *<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>;
<a name="l04026"></a>04026 
<a name="l04027"></a>04027             <span class="comment">//Get a soldier pointer</span>
<a name="l04028"></a>04028       <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> = <a class="code" href="Soldier_01Profile_8cpp.html#2a54c4a06df8ed61529646f23682ef9d">FindSoldierByProfileID</a>( (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)usProfileID, FALSE );
<a name="l04029"></a>04029 
<a name="l04030"></a>04030       <span class="comment">//if their is a soldier, the soldier is alive and the soldier is off the map</span>
<a name="l04031"></a>04031       <span class="keywordflow">if</span>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> != NULL &amp;&amp; <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#653dad4e2520784e293eca9f948b8532">bActive</a> &amp;&amp; <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#eb633099940bc20ff5a969bce84eab42">uiStatusFlags</a> &amp; SOLDIER_OFF_MAP )
<a name="l04032"></a>04032       {
<a name="l04033"></a>04033             <span class="comment">//the soldier is on schedule</span>
<a name="l04034"></a>04034             swprintf( pzText, L<span class="stringliteral">"On Schdl."</span>);
<a name="l04035"></a>04035       }
<a name="l04036"></a>04036 
<a name="l04037"></a>04037       <span class="comment">//if the soldier is dead</span>
<a name="l04038"></a>04038       <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ usProfileID ].bMercStatus == MERC_IS_DEAD )
<a name="l04039"></a>04039       {
<a name="l04040"></a>04040             swprintf( pzText, L<span class="stringliteral">"Dead"</span>);
<a name="l04041"></a>04041       }
<a name="l04042"></a>04042 
<a name="l04043"></a>04043       <span class="comment">//the soldier is in this sector</span>
<a name="l04044"></a>04044       <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> != NULL )
<a name="l04045"></a>04045       {
<a name="l04046"></a>04046             <a class="code" href="strategicmap_8cpp.html#8b80a7fbb7d36b5ac32f928b8a0c7085">GetShortSectorString</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#6784346500db10daed06c2db02b855c0">sSectorX</a>, <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#6dd68e70c3000beb79e4ac45d28a0cbf">sSectorY</a>, pzText );
<a name="l04047"></a>04047       }
<a name="l04048"></a>04048 
<a name="l04049"></a>04049       <span class="comment">//else the soldier is in a different map</span>
<a name="l04050"></a>04050       <span class="keywordflow">else</span>
<a name="l04051"></a>04051       {
<a name="l04052"></a>04052             <a class="code" href="strategicmap_8cpp.html#8b80a7fbb7d36b5ac32f928b8a0c7085">GetShortSectorString</a>( <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ usProfileID ].sSectorX, <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ usProfileID ].sSectorY, pzText );
<a name="l04053"></a>04053       }
<a name="l04054"></a>04054 }
<a name="l04055"></a>04055 
<a name="l04056"></a>04056 
<a name="l04057"></a>04057 
<a name="l04058"></a>04058 
<a name="l04059"></a>04059 <span class="comment">//#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sat Sep 9 13:48:50 2006 for Build by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
