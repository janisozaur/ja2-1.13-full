<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Build: Soldier Profile.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="classes.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="dir_3179ea33d55a76dc38212d9eab798728.html">export</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_e5664b4b56927c8728eb3192fa60e338.html">hdc2</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_1eb12a41a47efb9efcd82fa98f4f4dbd.html">FTP</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_80cc1f21a78ab7941088ea567f236150.html">ja2src</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_994ab287602efefceafe55287a3657d6.html">Build</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_43ed33c8f48e75fecb0508860a16371c.html">Tactical</a></div>
<h1>Soldier Profile.cpp</h1><a href="Soldier_01Profile_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifdef PRECOMPILEDHEADERS</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">      #include "<a class="code" href="Tactical_01All_8h.html">Tactical All.h</a>"</span>
<a name="l00003"></a>00003 <span class="preprocessor">#else</span>
<a name="l00004"></a>00004 <span class="preprocessor"></span><span class="preprocessor">      #include &lt;stdio.h&gt;</span>
<a name="l00005"></a>00005 <span class="preprocessor">      #include &lt;string.h&gt;</span>
<a name="l00006"></a>00006 <span class="preprocessor">      #include "wcheck.h"</span>
<a name="l00007"></a>00007 <span class="preprocessor">      #include "stdlib.h"</span>
<a name="l00008"></a>00008 <span class="preprocessor">      #include "debug.h"</span>
<a name="l00009"></a>00009 <span class="preprocessor">      #include "math.h"</span>
<a name="l00010"></a>00010 <span class="preprocessor">      #include "<a class="code" href="worlddef_8h.html">worlddef.h</a>"</span>
<a name="l00011"></a>00011 <span class="preprocessor">      #include "<a class="code" href="worldman_8h.html">worldman.h</a>"</span>
<a name="l00012"></a>00012 <span class="preprocessor">      #include "<a class="code" href="renderworld_8h.html">renderworld.h</a>"</span>
<a name="l00013"></a>00013 
<a name="l00014"></a>00014 <span class="preprocessor">      #include "<a class="code" href="Soldier_01Control_8h.html">Soldier Control.h</a>"</span>
<a name="l00015"></a>00015 <span class="preprocessor">      #include "<a class="code" href="Animation_01Control_8h.html">Animation Control.h</a>"</span>
<a name="l00016"></a>00016 <span class="preprocessor">      #include "<a class="code" href="Animation_01Data_8h.html">Animation Data.h</a>"</span>
<a name="l00017"></a>00017 <span class="preprocessor">      #include "<a class="code" href="Isometric_01Utils_8h.html">Isometric Utils.h</a>"</span>
<a name="l00018"></a>00018 <span class="preprocessor">      #include "<a class="code" href="Event_01Pump_8h.html">Event Pump.h</a>"</span>
<a name="l00019"></a>00019 <span class="preprocessor">      #include "<a class="code" href="Timer_01Control_8h.html">Timer Control.h</a>"</span>
<a name="l00020"></a>00020 <span class="preprocessor">      #include "<a class="code" href="Render_01Fun_8h.html">Render Fun.h</a>"</span> 
<a name="l00021"></a>00021 <span class="preprocessor">      #include "<a class="code" href="Render_01Dirty_8h.html">Render Dirty.h</a>"</span>
<a name="l00022"></a>00022 <span class="preprocessor">      #include "<a class="code" href="mousesystem_8h.html">mousesystem.h</a>"</span>
<a name="l00023"></a>00023 <span class="preprocessor">      #include "interface.h"</span>
<a name="l00024"></a>00024 <span class="preprocessor">      #include "<a class="code" href="sysutil_8h.html">sysutil.h</a>"</span>
<a name="l00025"></a>00025 <span class="preprocessor">      #include "<a class="code" href="FileMan_8h.html">FileMan.h</a>"</span>
<a name="l00026"></a>00026 <span class="preprocessor">      #include "points.h"</span>
<a name="l00027"></a>00027 <span class="preprocessor">      #include "Random.h"</span>
<a name="l00028"></a>00028 <span class="preprocessor">      #include "<a class="code" href="ai_8h.html">ai.h</a>"</span>
<a name="l00029"></a>00029 <span class="preprocessor">      #include "<a class="code" href="Interactive_01Tiles_8h.html">Interactive Tiles.h</a>"</span>
<a name="l00030"></a>00030 <span class="preprocessor">      #include "soldier ani.h"</span>
<a name="l00031"></a>00031 <span class="preprocessor">      #include "<a class="code" href="english_8h.html">english.h</a>"</span>
<a name="l00032"></a>00032 <span class="preprocessor">      #include "overhead.h"</span>
<a name="l00033"></a>00033 <span class="preprocessor">      #include "<a class="code" href="Soldier_01Profile_8h.html">Soldier Profile.h</a>"</span>
<a name="l00034"></a>00034 <span class="preprocessor">      #include "<a class="code" href="Game_01Clock_8h.html">Game Clock.h</a>"</span>
<a name="l00035"></a>00035 <span class="preprocessor">      #include "assignments.h"</span>
<a name="l00036"></a>00036 <span class="preprocessor">      #include "<a class="code" href="Dialogue_01Control_8h.html">Dialogue Control.h</a>"</span>
<a name="l00037"></a>00037 <span class="preprocessor">      #include "soldier create.h"</span>
<a name="l00038"></a>00038 <span class="preprocessor">      #include "soldier add.h"</span>
<a name="l00039"></a>00039 <span class="preprocessor">      #include "<a class="code" href="opplist_8h.html">opplist.h</a>"</span>
<a name="l00040"></a>00040 <span class="preprocessor">      #include "weapons.h"</span>
<a name="l00041"></a>00041 <span class="preprocessor">      #include "<a class="code" href="Strategic_01Town_01Loyalty_8h.html">Strategic Town Loyalty.h</a>"</span>
<a name="l00042"></a>00042 <span class="preprocessor">      #include "squads.h"</span>
<a name="l00043"></a>00043 <span class="preprocessor">      #include "<a class="code" href="Tactical_01Save_8h.html">Tactical Save.h</a>"</span>
<a name="l00044"></a>00044 <span class="preprocessor">      #include "<a class="code" href="Quests_8h.html">Quests.h</a>"</span>
<a name="l00045"></a>00045 <span class="preprocessor">      #include "<a class="code" href="aim_8h.html">aim.h</a>"</span>
<a name="l00046"></a>00046 <span class="preprocessor">      #include "Interface Dialogue.h"</span>
<a name="l00047"></a>00047 <span class="preprocessor">      #include "<a class="code" href="GameSettings_8h.html">GameSettings.h</a>"</span>
<a name="l00048"></a>00048 <span class="preprocessor">      #include "<a class="code" href="strategic_01town_01reputation_8h.html">strategic town reputation.h</a>"</span>
<a name="l00049"></a>00049 <span class="preprocessor">#endif</span>
<a name="l00050"></a>00050 <span class="preprocessor"></span>
<a name="l00051"></a>00051 <span class="preprocessor">#ifdef JA2EDITOR</span>
<a name="l00052"></a>00052 <span class="preprocessor"></span>      <span class="keyword">extern</span> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> <a class="code" href="editscreen_8cpp.html#dfca8825c52819ec7840857faae2820e">gfProfileDataLoaded</a>;
<a name="l00053"></a>00053 <span class="preprocessor">#endif</span>
<a name="l00054"></a>00054 <span class="preprocessor"></span>
<a name="l00055"></a>00055 
<a name="l00056"></a><a class="code" href="Soldier_01Profile_8h.html#e3f3df87e21a149013294e4abf66bf60">00056</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>     <a class="code" href="Soldier_01Profile_8cpp.html#e3f3df87e21a149013294e4abf66bf60">gfPotentialTeamChangeDuringDeath</a> = FALSE;
<a name="l00057"></a>00057 
<a name="l00058"></a>00058 
<a name="l00059"></a>00059 <span class="preprocessor">#define           MIN_BLINK_FREQ                            3000        </span>
<a name="l00060"></a>00060 <span class="preprocessor"></span><span class="preprocessor">#define           MIN_EXPRESSION_FREQ                 2000        </span>
<a name="l00061"></a>00061 <span class="preprocessor"></span>
<a name="l00062"></a>00062 <span class="preprocessor">#define           SET_PROFILE_GAINS2                  500, 500, 500, 500, 500, 500, 500, 500, 500</span>
<a name="l00063"></a>00063 <span class="preprocessor"></span>
<a name="l00064"></a><a class="code" href="Soldier_01Profile_8h.html#1bcff2c50b375b1eb32800aa12000289">00064</a> <a class="code" href="structMERCPROFILESTRUCT.html">MERCPROFILESTRUCT</a> <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ NUM_PROFILES ];
<a name="l00065"></a>00065 
<a name="l00066"></a><a class="code" href="Soldier_01Profile_8h.html#5bd0a2a6c0984306db1d439f9924119d">00066</a> <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a> <a class="code" href="Soldier_01Profile_8cpp.html#5bd0a2a6c0984306db1d439f9924119d">gbSkillTraitBonus</a>[<a class="code" href="soldier_01profile_01type_8h.html#88183a1fc58897e3edb65b354323264b3c1d5d4d56c344092c21a3f26270d203">NUM_SKILLTRAITS</a>] =
<a name="l00067"></a>00067 {
<a name="l00068"></a>00068        0,  <span class="comment">//NO_SKILLTRAIT</span>
<a name="l00069"></a>00069       25,  <span class="comment">//LOCKPICKING</span>
<a name="l00070"></a>00070       15,  <span class="comment">//HANDTOHAND</span>
<a name="l00071"></a>00071       15,  <span class="comment">//ELECTRONICS</span>
<a name="l00072"></a>00072       15,  <span class="comment">//NIGHTOPS</span>
<a name="l00073"></a>00073       12,  <span class="comment">//THROWING</span>
<a name="l00074"></a>00074       15,  <span class="comment">//TEACHING</span>
<a name="l00075"></a>00075       15,  <span class="comment">//HEAVY_WEAPS</span>
<a name="l00076"></a>00076        0,  <span class="comment">//AUTO_WEAPS</span>
<a name="l00077"></a>00077       15,  <span class="comment">//STEALTHY</span>
<a name="l00078"></a>00078        0,    <span class="comment">//AMBIDEXT</span>
<a name="l00079"></a>00079        0,  <span class="comment">//THIEF                        // UNUSED!</span>
<a name="l00080"></a>00080       30,  <span class="comment">//MARTIALARTS</span>
<a name="l00081"></a>00081       30,  <span class="comment">//KNIFING</span>
<a name="l00082"></a>00082       15,    <span class="comment">//ONROOF</span>
<a name="l00083"></a>00083        0,    <span class="comment">//CAMOUFLAGED</span>
<a name="l00084"></a>00084        0,    <span class="comment">//CAMOUFLAGED_URBAN</span>
<a name="l00085"></a>00085        0,    <span class="comment">//CAMOUFLAGED_DESERT</span>
<a name="l00086"></a>00086        0,    <span class="comment">//CAMOUFLAGED_SNOW</span>
<a name="l00087"></a>00087 };
<a name="l00088"></a>00088 
<a name="l00089"></a>00089 
<a name="l00090"></a><a class="code" href="Soldier_01Profile_8cpp.html#1c6e8302d178093909fb6a9fbf5643ff">00090</a> <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>             <a class="code" href="AimMembers_8cpp.html#1c6e8302d178093909fb6a9fbf5643ff">gubBasicInventoryPositions</a>[] = {
<a name="l00091"></a>00091                                           <a class="code" href="Soldier_01Control_8h.html#2a5937706f1724c8f06a0396bdc878551e1de377a2d80cf67fd63934f134956d">HELMETPOS</a>,
<a name="l00092"></a>00092                                           <a class="code" href="Soldier_01Control_8h.html#2a5937706f1724c8f06a0396bdc87855afc78e6fc0aaffa92d59c2fe506f5c6a">VESTPOS</a>,
<a name="l00093"></a>00093                                           <a class="code" href="Soldier_01Control_8h.html#2a5937706f1724c8f06a0396bdc87855c1f8517c3795dd56e0c2450e625753dc">LEGPOS</a>,
<a name="l00094"></a>00094                                           <a class="code" href="Soldier_01Control_8h.html#2a5937706f1724c8f06a0396bdc87855408e678e638d95e18d5e9a2a64a96e2e">HANDPOS</a>,
<a name="l00095"></a>00095                                           <a class="code" href="Soldier_01Control_8h.html#2a5937706f1724c8f06a0396bdc8785521434ace88498823088a193622a0ab42">BIGPOCK1POS</a>,
<a name="l00096"></a>00096                                           <a class="code" href="Soldier_01Control_8h.html#2a5937706f1724c8f06a0396bdc8785587b4fd997e9021e5ac9368ce323b57bc">BIGPOCK2POS</a>,
<a name="l00097"></a>00097                                           <a class="code" href="Soldier_01Control_8h.html#2a5937706f1724c8f06a0396bdc87855eda6a2f9d1c54da91d76989eb4ab3569">BIGPOCK3POS</a>,
<a name="l00098"></a>00098                                           <a class="code" href="Soldier_01Control_8h.html#2a5937706f1724c8f06a0396bdc8785571ec5bde48a89e74cbbb81af98298a4f">BIGPOCK4POS</a>
<a name="l00099"></a>00099 };
<a name="l00100"></a>00100 
<a name="l00101"></a>00101 <span class="preprocessor">#define NUM_TERRORISTS 6</span>
<a name="l00102"></a>00102 <span class="preprocessor"></span>
<a name="l00103"></a><a class="code" href="Soldier_01Profile_8h.html#572f4e97be25288d89d5050f55bacbb8">00103</a> <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> <a class="code" href="Soldier_01Profile_8cpp.html#d16935540aaa3b9f6c757b1025ed3fea">gubTerrorists</a>[NUM_TERRORISTS + 1] =
<a name="l00104"></a>00104 {
<a name="l00105"></a>00105       <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa15da4ab939d10603943ec76360a90bc18">DRUGGIST</a>,
<a name="l00106"></a>00106       <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa16fdbd42950596fda948b4caabe34d053">SLAY</a>,
<a name="l00107"></a>00107       <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa19781285aa235431030bb9daaef489792">ANNIE</a>,
<a name="l00108"></a>00108       <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa11057c187972c062a11162e2f76339b3e">CHRIS</a>,
<a name="l00109"></a>00109       <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa1bad8515535cbf8d797fb27b72de59c59">TIFFANY</a>,
<a name="l00110"></a>00110       <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa1bfdafe90856e6079ae7258c89ab4323a">T_REX</a>,
<a name="l00111"></a>00111       0
<a name="l00112"></a>00112 };
<a name="l00113"></a>00113 
<a name="l00114"></a><a class="code" href="Soldier_01Profile_8h.html#dde4fcc3839a49a03c749d52b8dd6e8a">00114</a> <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> <a class="code" href="Soldier_01Profile_8cpp.html#0ba03c6200c57e36a7bdc67fcaaa5111">gubNumTerrorists</a> = 0;
<a name="l00115"></a>00115 
<a name="l00116"></a>00116 <span class="preprocessor">#define NUM_TERRORIST_POSSIBLE_LOCATIONS 5</span>
<a name="l00117"></a>00117 <span class="preprocessor"></span>
<a name="l00118"></a><a class="code" href="Soldier_01Profile_8h.html#1bcded413e51285973e366a649c1bee7">00118</a> <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> <a class="code" href="Soldier_01Profile_8cpp.html#e7358451181c9d597dbdc175222795fd">gsTerroristSector</a>[NUM_TERRORISTS][NUM_TERRORIST_POSSIBLE_LOCATIONS][2] = 
<a name="l00119"></a>00119 {
<a name="l00120"></a>00120       <span class="comment">// Elgin... preplaced</span>
<a name="l00121"></a>00121       {
<a name="l00122"></a>00122             { 0, 0 },
<a name="l00123"></a>00123             { 0, 0 },
<a name="l00124"></a>00124             { 0, 0 },
<a name="l00125"></a>00125             { 0, 0 },
<a name="l00126"></a>00126             { 0, 0 }
<a name="l00127"></a>00127       },
<a name="l00128"></a>00128       <span class="comment">// Slay</span>
<a name="l00129"></a>00129       { 
<a name="l00130"></a>00130             { 9,  MAP_ROW_F },
<a name="l00131"></a>00131             { 14, MAP_ROW_I },
<a name="l00132"></a>00132             { 1,  MAP_ROW_G },
<a name="l00133"></a>00133             { 2,  MAP_ROW_G },
<a name="l00134"></a>00134             { 8,  MAP_ROW_G }
<a name="l00135"></a>00135       },
<a name="l00136"></a>00136       <span class="comment">// Matron</span>
<a name="l00137"></a>00137       {
<a name="l00138"></a>00138             { 14, MAP_ROW_I },
<a name="l00139"></a>00139             { 6,  MAP_ROW_C },
<a name="l00140"></a>00140             { 2,  MAP_ROW_B },
<a name="l00141"></a>00141             { 11, MAP_ROW_L },
<a name="l00142"></a>00142             { 8,  MAP_ROW_G }
<a name="l00143"></a>00143       },
<a name="l00144"></a>00144       <span class="comment">// Imposter</span>
<a name="l00145"></a>00145       {
<a name="l00146"></a>00146             { 1,  MAP_ROW_G },
<a name="l00147"></a>00147             { 9,  MAP_ROW_F },
<a name="l00148"></a>00148             {     11,   MAP_ROW_L },
<a name="l00149"></a>00149             {     8,    MAP_ROW_G },
<a name="l00150"></a>00150             { 2,  MAP_ROW_G }
<a name="l00151"></a>00151       },
<a name="l00152"></a>00152       <span class="comment">// Tiffany</span>
<a name="l00153"></a>00153       {
<a name="l00154"></a>00154             { 14, MAP_ROW_I },
<a name="l00155"></a>00155             { 2,  MAP_ROW_G },
<a name="l00156"></a>00156             { 14, MAP_ROW_H },
<a name="l00157"></a>00157             {     6,    MAP_ROW_C },
<a name="l00158"></a>00158             {     2,    MAP_ROW_B }
<a name="l00159"></a>00159       },
<a name="l00160"></a>00160       <span class="comment">// Rexall</span>
<a name="l00161"></a>00161       {
<a name="l00162"></a>00162             {     9,    MAP_ROW_F },
<a name="l00163"></a>00163             { 14, MAP_ROW_H },
<a name="l00164"></a>00164             { 2,  MAP_ROW_H },
<a name="l00165"></a>00165             { 1,  MAP_ROW_G },
<a name="l00166"></a>00166             { 2,  MAP_ROW_B }
<a name="l00167"></a>00167       }
<a name="l00168"></a>00168 };
<a name="l00169"></a>00169 
<a name="l00170"></a><a class="code" href="Soldier_01Profile_8cpp.html#c86ef993ba6b9d7aa987639aeff5edc5">00170</a> <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> <a class="code" href="Strategic_01Event_01Handler_8cpp.html#c86ef993ba6b9d7aa987639aeff5edc5">gsRobotGridNo</a>;
<a name="l00171"></a>00171 
<a name="l00172"></a>00172 <span class="preprocessor">#define NUM_ASSASSINS 6</span>
<a name="l00173"></a>00173 <span class="preprocessor"></span>
<a name="l00174"></a><a class="code" href="Soldier_01Profile_8cpp.html#a6114b04dee7604d58c9c0ef1898ccd4">00174</a> <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> <a class="code" href="Soldier_01Profile_8cpp.html#a6114b04dee7604d58c9c0ef1898ccd4">gubAssassins</a>[NUM_ASSASSINS] =
<a name="l00175"></a>00175 {
<a name="l00176"></a>00176       <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa1f4f194a325f7ec57b1a89fddca849ac4">JIM</a>,
<a name="l00177"></a>00177       <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa1701917e3b6bc2c89c9e13f090c6627be">JACK</a>,
<a name="l00178"></a>00178       <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa108f287eea188fe13488b37dcb43c5130">OLAF</a>,
<a name="l00179"></a>00179       <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa1e9cf68856c8eb96d8738c14880278f69">RAY</a>,
<a name="l00180"></a>00180       <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa19afe3ebbc5adde8a3f614beab534ff0f">OLGA</a>,
<a name="l00181"></a>00181       <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa192e84033e0b83e724d448d18aacad96b">TYRONE</a>
<a name="l00182"></a>00182 };
<a name="l00183"></a>00183 
<a name="l00184"></a>00184 <span class="preprocessor">#define NUM_ASSASSIN_POSSIBLE_TOWNS 5</span>
<a name="l00185"></a>00185 <span class="preprocessor"></span>
<a name="l00186"></a><a class="code" href="Soldier_01Profile_8cpp.html#7c9977b57e92a91c8084924205c4e7ca">00186</a> <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a> <a class="code" href="Soldier_01Profile_8cpp.html#7c9977b57e92a91c8084924205c4e7ca">gbAssassinTown</a>[NUM_ASSASSINS][NUM_ASSASSIN_POSSIBLE_TOWNS] = 
<a name="l00187"></a>00187 {
<a name="l00188"></a>00188       <span class="comment">// Jim</span>
<a name="l00189"></a>00189       { <a class="code" href="mapscreen_8h.html#4d1dc70bee62b945929c96dfafebe105457ae8d0acf7ebe5ad016ecdf6020b3e">CAMBRIA</a>, <a class="code" href="mapscreen_8h.html#4d1dc70bee62b945929c96dfafebe1052d90315dc5189006a917572886dd5919">DRASSEN</a>, <a class="code" href="mapscreen_8h.html#4d1dc70bee62b945929c96dfafebe105b27f427a025e60b9feb35edaa5556f63">ALMA</a>, <a class="code" href="mapscreen_8h.html#4d1dc70bee62b945929c96dfafebe105e70227c42a462ac01e06b19638569574">BALIME</a>, <a class="code" href="mapscreen_8h.html#4d1dc70bee62b945929c96dfafebe10582fb82fae08599485a465d9f342a0e80">GRUMM</a> },
<a name="l00190"></a>00190       <span class="comment">// Jack</span>
<a name="l00191"></a>00191       { <a class="code" href="mapscreen_8h.html#4d1dc70bee62b945929c96dfafebe10577a4855ca65fb8eae6e8e89bef607477">CHITZENA</a>, <a class="code" href="mapscreen_8h.html#4d1dc70bee62b945929c96dfafebe1056945503be50d65fc837b843a86aace5a">ESTONI</a>, <a class="code" href="mapscreen_8h.html#4d1dc70bee62b945929c96dfafebe105b27f427a025e60b9feb35edaa5556f63">ALMA</a>, <a class="code" href="mapscreen_8h.html#4d1dc70bee62b945929c96dfafebe105e70227c42a462ac01e06b19638569574">BALIME</a>, GRUMM },
<a name="l00192"></a>00192       <span class="comment">// Olaf</span>
<a name="l00193"></a>00193       { <a class="code" href="mapscreen_8h.html#4d1dc70bee62b945929c96dfafebe1052d90315dc5189006a917572886dd5919">DRASSEN</a>, <a class="code" href="mapscreen_8h.html#4d1dc70bee62b945929c96dfafebe1056945503be50d65fc837b843a86aace5a">ESTONI</a>, <a class="code" href="mapscreen_8h.html#4d1dc70bee62b945929c96dfafebe105b27f427a025e60b9feb35edaa5556f63">ALMA</a>, <a class="code" href="mapscreen_8h.html#4d1dc70bee62b945929c96dfafebe105457ae8d0acf7ebe5ad016ecdf6020b3e">CAMBRIA</a>, <a class="code" href="mapscreen_8h.html#4d1dc70bee62b945929c96dfafebe105e70227c42a462ac01e06b19638569574">BALIME</a> },
<a name="l00194"></a>00194       <span class="comment">// Ray</span>
<a name="l00195"></a>00195       { <a class="code" href="mapscreen_8h.html#4d1dc70bee62b945929c96dfafebe105457ae8d0acf7ebe5ad016ecdf6020b3e">CAMBRIA</a>, <a class="code" href="mapscreen_8h.html#4d1dc70bee62b945929c96dfafebe105d4e8ff4822ac436590f6cfbf3b35764d">OMERTA</a>, BALIME, GRUMM, <a class="code" href="mapscreen_8h.html#4d1dc70bee62b945929c96dfafebe1052d90315dc5189006a917572886dd5919">DRASSEN</a> },
<a name="l00196"></a>00196       <span class="comment">// Olga</span>
<a name="l00197"></a>00197       { <a class="code" href="mapscreen_8h.html#4d1dc70bee62b945929c96dfafebe10577a4855ca65fb8eae6e8e89bef607477">CHITZENA</a>, <a class="code" href="mapscreen_8h.html#4d1dc70bee62b945929c96dfafebe105d4e8ff4822ac436590f6cfbf3b35764d">OMERTA</a>, <a class="code" href="mapscreen_8h.html#4d1dc70bee62b945929c96dfafebe105457ae8d0acf7ebe5ad016ecdf6020b3e">CAMBRIA</a>, <a class="code" href="mapscreen_8h.html#4d1dc70bee62b945929c96dfafebe105b27f427a025e60b9feb35edaa5556f63">ALMA</a>, GRUMM },
<a name="l00198"></a>00198       <span class="comment">// Tyrone</span>
<a name="l00199"></a>00199       { <a class="code" href="mapscreen_8h.html#4d1dc70bee62b945929c96dfafebe105457ae8d0acf7ebe5ad016ecdf6020b3e">CAMBRIA</a>, BALIME, <a class="code" href="mapscreen_8h.html#4d1dc70bee62b945929c96dfafebe105b27f427a025e60b9feb35edaa5556f63">ALMA</a>, GRUMM, DRASSEN },
<a name="l00200"></a>00200 };
<a name="l00201"></a>00201 
<a name="l00202"></a>00202 <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> <a class="code" href="Soldier_01Profile_8cpp.html#c93f7967fa03ec2c83de6bd473571572">CalcCompetence</a>( <a class="code" href="structMERCPROFILESTRUCT.html">MERCPROFILESTRUCT</a> * pProfile );
<a name="l00203"></a>00203 <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> <a class="code" href="Soldier_01Profile_8cpp.html#9d069ae04a0215b55ae643f69034aa98">CalcMedicalDeposit</a>( <a class="code" href="structMERCPROFILESTRUCT.html">MERCPROFILESTRUCT</a> * pProfile );
<a name="l00204"></a>00204 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="Overhead_8cpp.html#a2b96b66e0f34df067583145bbc52160">HandleEndDemoInCreatureLevel</a>( );
<a name="l00205"></a>00205 <span class="keywordtype">void</span> <a class="code" href="Soldier_01Profile_8cpp.html#f7d73ac72e847cf9beb9e1c033648bde">DecideActiveTerrorists</a>( <span class="keywordtype">void</span> );
<a name="l00206"></a>00206 
<a name="l00207"></a>00207 <span class="keyword">extern</span> <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a>                  *<a class="code" href="SaveLoadGame_8cpp.html#ee8e18fad6e587da68fe8268974b10b1">gpSMCurrentMerc</a>;
<a name="l00208"></a>00208 <span class="keyword">extern</span> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>    <a class="code" href="Dialogue_01Control_8cpp.html#6b5abc77b137e1582dc06bb826f22a0d">gfRerenderInterfaceFromHelpText</a>;
<a name="l00209"></a>00209 
<a name="l00210"></a>00210 
<a name="l00211"></a><a class="code" href="Soldier_01Profile_8h.html#4a79ab546e8bc806749aaa9e797483dc">00211</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> <a class="code" href="Soldier_01Profile_8cpp.html#4a79ab546e8bc806749aaa9e797483dc">LoadMercProfiles</a>(<span class="keywordtype">void</span>)
<a name="l00212"></a>00212 {
<a name="l00213"></a>00213       DebugMsg (<a class="code" href="DEBUG_8cpp.html#a7985c2fd033797fc67a03b2c26e07c6">TOPIC_JA2</a>,DBG_LEVEL_3,<span class="stringliteral">"LoadMercProfiles"</span>);
<a name="l00214"></a>00214 <span class="comment">//    FILE *fptr;</span>
<a name="l00215"></a>00215       <a class="code" href="LibraryDataBase_8h.html#210e2fc1c18208cbf159ef9c087d6721">HWFILE</a> fptr;
<a name="l00216"></a>00216       <span class="keywordtype">char</span> *pFileName = <span class="stringliteral">"BINARYDATA\\Prof.dat"</span>;
<a name="l00217"></a>00217 
<a name="l00218"></a>00218       <span class="keywordtype">char</span> *pFileName1_Normal = <span class="stringliteral">"BINARYDATA\\Prof_Novice_NormalGuns.dat"</span>;
<a name="l00219"></a>00219       <span class="keywordtype">char</span> *pFileName2_Normal = <span class="stringliteral">"BINARYDATA\\Prof_Experienced_NormalGuns.dat"</span>;
<a name="l00220"></a>00220       <span class="keywordtype">char</span> *pFileName3_Normal = <span class="stringliteral">"BINARYDATA\\Prof_Expert_NormalGuns.dat"</span>;
<a name="l00221"></a>00221       <span class="keywordtype">char</span> *pFileName4_Normal = <span class="stringliteral">"BINARYDATA\\Prof_Insane_NormalGuns.dat"</span>;
<a name="l00222"></a>00222 
<a name="l00223"></a>00223       <span class="keywordtype">char</span> *pFileName1_Tons = <span class="stringliteral">"BINARYDATA\\Prof_Novice_TonsOfGuns.dat"</span>;
<a name="l00224"></a>00224       <span class="keywordtype">char</span> *pFileName2_Tons = <span class="stringliteral">"BINARYDATA\\Prof_Experienced_TonsOfGuns.dat"</span>;
<a name="l00225"></a>00225       <span class="keywordtype">char</span> *pFileName3_Tons = <span class="stringliteral">"BINARYDATA\\Prof_Expert_TonsOfGuns.dat"</span>;
<a name="l00226"></a>00226       <span class="keywordtype">char</span> *pFileName4_Tons = <span class="stringliteral">"BINARYDATA\\Prof_Insane_TonsOfGuns.dat"</span>;
<a name="l00227"></a>00227 
<a name="l00228"></a>00228       <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a> uiLoop, uiLoop2;<span class="comment">//, uiLoop3;</span>
<a name="l00229"></a>00229       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usItem;<span class="comment">//, usNewGun, usAmmo, usNewAmmo;</span>
<a name="l00230"></a>00230       <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      uiNumBytesRead;
<a name="l00231"></a>00231 
<a name="l00232"></a>00232       <span class="keywordflow">switch</span> ( <a class="code" href="GameSettings_8cpp.html#f9f2d5fd368ccadcc26bebc202d52ae7">gGameOptions</a>.<a class="code" href="structGAME__OPTIONS.html#4fb44167906152722f6af5cc9f7c1a99">ubDifficultyLevel</a>)
<a name="l00233"></a>00233       {
<a name="l00234"></a>00234             <span class="keywordflow">case</span> <a class="code" href="GameSettings_8h.html#c205be2172292384dd687b5471a87eddbd3b0d23f4dc30ef17b50a14c3f54589">DIF_LEVEL_EASY</a>:
<a name="l00235"></a>00235                   <span class="keywordflow">if</span> ( <a class="code" href="GameSettings_8cpp.html#f9f2d5fd368ccadcc26bebc202d52ae7">gGameOptions</a>.<a class="code" href="structGAME__OPTIONS.html#936e08b52f7c869f135433cdf5f50964">fGunNut</a> )
<a name="l00236"></a>00236                         fptr = <a class="code" href="FileMan_8cpp.html#1e5007589e18cbc273b9677470215db4">FileOpen</a>(pFileName1_Tons, FILE_ACCESS_READ, FALSE );
<a name="l00237"></a>00237                   <span class="keywordflow">else</span>
<a name="l00238"></a>00238                         fptr = <a class="code" href="FileMan_8cpp.html#1e5007589e18cbc273b9677470215db4">FileOpen</a>(pFileName1_Normal, FILE_ACCESS_READ, FALSE );
<a name="l00239"></a>00239                   <span class="keywordflow">break</span>;
<a name="l00240"></a>00240             <span class="keywordflow">case</span> <a class="code" href="GameSettings_8h.html#c205be2172292384dd687b5471a87edddd0259b09fef163c6aa62268574191cb">DIF_LEVEL_MEDIUM</a>:
<a name="l00241"></a>00241                   <span class="keywordflow">if</span> ( <a class="code" href="GameSettings_8cpp.html#f9f2d5fd368ccadcc26bebc202d52ae7">gGameOptions</a>.<a class="code" href="structGAME__OPTIONS.html#936e08b52f7c869f135433cdf5f50964">fGunNut</a> )
<a name="l00242"></a>00242                         fptr = <a class="code" href="FileMan_8cpp.html#1e5007589e18cbc273b9677470215db4">FileOpen</a>(pFileName2_Tons, FILE_ACCESS_READ, FALSE );
<a name="l00243"></a>00243                   <span class="keywordflow">else</span>
<a name="l00244"></a>00244                         fptr = <a class="code" href="FileMan_8cpp.html#1e5007589e18cbc273b9677470215db4">FileOpen</a>(pFileName2_Normal, FILE_ACCESS_READ, FALSE );
<a name="l00245"></a>00245                   <span class="keywordflow">break</span>;
<a name="l00246"></a>00246             <span class="keywordflow">case</span> <a class="code" href="GameSettings_8h.html#c205be2172292384dd687b5471a87edd3d0b73026f1c7122798d578613aa4575">DIF_LEVEL_HARD</a>:
<a name="l00247"></a>00247                   <span class="keywordflow">if</span> ( <a class="code" href="GameSettings_8cpp.html#f9f2d5fd368ccadcc26bebc202d52ae7">gGameOptions</a>.<a class="code" href="structGAME__OPTIONS.html#936e08b52f7c869f135433cdf5f50964">fGunNut</a> )
<a name="l00248"></a>00248                         fptr = <a class="code" href="FileMan_8cpp.html#1e5007589e18cbc273b9677470215db4">FileOpen</a>(pFileName3_Tons, FILE_ACCESS_READ, FALSE );
<a name="l00249"></a>00249                   <span class="keywordflow">else</span>
<a name="l00250"></a>00250                         fptr = <a class="code" href="FileMan_8cpp.html#1e5007589e18cbc273b9677470215db4">FileOpen</a>(pFileName3_Normal, FILE_ACCESS_READ, FALSE );
<a name="l00251"></a>00251                   <span class="keywordflow">break</span>;
<a name="l00252"></a>00252             <span class="keywordflow">case</span> <a class="code" href="GameSettings_8h.html#c205be2172292384dd687b5471a87eddc657c89fd754a6f20b3869250288a702">DIF_LEVEL_INSANE</a>:
<a name="l00253"></a>00253                   <span class="keywordflow">if</span> ( <a class="code" href="GameSettings_8cpp.html#f9f2d5fd368ccadcc26bebc202d52ae7">gGameOptions</a>.<a class="code" href="structGAME__OPTIONS.html#936e08b52f7c869f135433cdf5f50964">fGunNut</a> )
<a name="l00254"></a>00254                         fptr = <a class="code" href="FileMan_8cpp.html#1e5007589e18cbc273b9677470215db4">FileOpen</a>(pFileName4_Tons, FILE_ACCESS_READ, FALSE );
<a name="l00255"></a>00255                   <span class="keywordflow">else</span>
<a name="l00256"></a>00256                         fptr = <a class="code" href="FileMan_8cpp.html#1e5007589e18cbc273b9677470215db4">FileOpen</a>(pFileName4_Normal, FILE_ACCESS_READ, FALSE );
<a name="l00257"></a>00257                   <span class="keywordflow">break</span>;
<a name="l00258"></a>00258             <span class="keywordflow">default</span>:
<a name="l00259"></a>00259                   fptr = <a class="code" href="FileMan_8cpp.html#1e5007589e18cbc273b9677470215db4">FileOpen</a>(pFileName, FILE_ACCESS_READ, FALSE );
<a name="l00260"></a>00260                   <span class="keywordflow">break</span>;
<a name="l00261"></a>00261       }
<a name="l00262"></a>00262 
<a name="l00263"></a>00263       <span class="keywordflow">if</span>( !fptr )
<a name="l00264"></a>00264       {
<a name="l00265"></a>00265             DebugMsg( <a class="code" href="DEBUG_8cpp.html#a7985c2fd033797fc67a03b2c26e07c6">TOPIC_JA2</a>, DBG_LEVEL_3, <a class="code" href="DEBUG_8cpp.html#88565bf27eec0b2003eb5bc9426b8e4b">String</a>(<span class="stringliteral">"FAILED to LoadMercProfiles from file %s"</span>, pFileName) );
<a name="l00266"></a>00266             <span class="keywordflow">return</span>(FALSE);
<a name="l00267"></a>00267       }
<a name="l00268"></a>00268 
<a name="l00269"></a>00269       <span class="keywordflow">for</span>(uiLoop=0; uiLoop&lt; NUM_PROFILES; uiLoop++)
<a name="l00270"></a>00270       {
<a name="l00271"></a>00271             <span class="keywordflow">if</span>( <a class="code" href="Tactical_01Save_8cpp.html#e5cc1ad7ba51eda99583d69951a8c655">JA2EncryptedFileRead</a>( fptr, &amp;<a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[uiLoop], <span class="keyword">sizeof</span>( <a class="code" href="structMERCPROFILESTRUCT.html">MERCPROFILESTRUCT</a> ), &amp;uiNumBytesRead )  != 1)
<a name="l00272"></a>00272             {
<a name="l00273"></a>00273                   DebugMsg( <a class="code" href="DEBUG_8cpp.html#a7985c2fd033797fc67a03b2c26e07c6">TOPIC_JA2</a>, DBG_LEVEL_3, <a class="code" href="DEBUG_8cpp.html#88565bf27eec0b2003eb5bc9426b8e4b">String</a>(<span class="stringliteral">"FAILED to Read Merc Profiles from File %d %s"</span>,uiLoop, pFileName) );
<a name="l00274"></a>00274                   <a class="code" href="FileMan_8cpp.html#92ccf437cf31aac8a8356e1425f203cc">FileClose</a>( fptr );
<a name="l00275"></a>00275                   <span class="keywordflow">return</span>(FALSE);
<a name="l00276"></a>00276             }
<a name="l00277"></a>00277 
<a name="l00278"></a>00278             
<a name="l00279"></a>00279             <span class="comment">//if the Dialogue exists for the merc, allow the merc to be hired</span>
<a name="l00280"></a>00280             <span class="keywordflow">if</span>( <a class="code" href="Dialogue_01Control_8cpp.html#f66d6520b4115bdfc7dea788830e9c63">DialogueDataFileExistsForProfile</a>( (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)uiLoop, 0, FALSE, NULL ) )
<a name="l00281"></a>00281             {
<a name="l00282"></a>00282                   <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[uiLoop].<a class="code" href="structMERCPROFILESTRUCT.html#9ec016a24fb8317378ec2dce36253b0c">bMercStatus</a> = 0;
<a name="l00283"></a>00283             }
<a name="l00284"></a>00284             <span class="keywordflow">else</span>
<a name="l00285"></a>00285                   <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[uiLoop].<a class="code" href="structMERCPROFILESTRUCT.html#9ec016a24fb8317378ec2dce36253b0c">bMercStatus</a> = MERC_HAS_NO_TEXT_FILE;
<a name="l00286"></a>00286 
<a name="l00287"></a>00287             <span class="comment">// if the merc has a medical deposit</span>
<a name="l00288"></a>00288             <span class="keywordflow">if</span>( <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ uiLoop ].bMedicalDeposit )
<a name="l00289"></a>00289             {
<a name="l00290"></a>00290                   <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[uiLoop].<a class="code" href="structMERCPROFILESTRUCT.html#af9cfb98cb8ba697c1ffeb4a76ab8293">sMedicalDepositAmount</a> = <a class="code" href="Soldier_01Profile_8cpp.html#9d069ae04a0215b55ae643f69034aa98">CalcMedicalDeposit</a>( &amp;<a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[uiLoop]);
<a name="l00291"></a>00291             }
<a name="l00292"></a>00292             <span class="keywordflow">else</span>
<a name="l00293"></a>00293                   <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[uiLoop].<a class="code" href="structMERCPROFILESTRUCT.html#af9cfb98cb8ba697c1ffeb4a76ab8293">sMedicalDepositAmount</a> = 0;
<a name="l00294"></a>00294 
<a name="l00295"></a>00295             <span class="comment">// ATE: New, face display indipendent of ID num now</span>
<a name="l00296"></a>00296             <span class="comment">// Setup face index value</span>
<a name="l00297"></a>00297             <span class="comment">// Default is the ubCharNum</span>
<a name="l00298"></a>00298             <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[uiLoop].<a class="code" href="structMERCPROFILESTRUCT.html#68b6e9755a8941fa7daef1e5695368a5">ubFaceIndex</a> = (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)uiLoop;
<a name="l00299"></a>00299 <span class="comment">/*</span>
<a name="l00300"></a>00300 <span class="comment">            if ( !gGameOptions.fGunNut )</span>
<a name="l00301"></a>00301 <span class="comment">            {</span>
<a name="l00302"></a>00302 <span class="comment"></span>
<a name="l00303"></a>00303 <span class="comment">                  // CJC: replace guns in profile if they aren't available</span>
<a name="l00304"></a>00304 <span class="comment">                  for ( uiLoop2 = 0; uiLoop2 &lt; NUM_INV_SLOTS; uiLoop2++ )</span>
<a name="l00305"></a>00305 <span class="comment">                  {</span>
<a name="l00306"></a>00306 <span class="comment">                        usItem = gMercProfiles[uiLoop].inv[ uiLoop2 ];</span>
<a name="l00307"></a>00307 <span class="comment"></span>
<a name="l00308"></a>00308 <span class="comment">                        if ( ( Item[ usItem ].usItemClass &amp; IC_GUN ) &amp;&amp; ExtendedGunListGun( usItem ) )</span>
<a name="l00309"></a>00309 <span class="comment">                        {</span>
<a name="l00310"></a>00310 <span class="comment">                              usNewGun = StandardGunListReplacement( usItem );</span>
<a name="l00311"></a>00311 <span class="comment">                              if ( usNewGun != NOTHING )</span>
<a name="l00312"></a>00312 <span class="comment">                              {</span>
<a name="l00313"></a>00313 <span class="comment">                                    gMercProfiles[uiLoop].inv[ uiLoop2 ] = usNewGun;</span>
<a name="l00314"></a>00314 <span class="comment"></span>
<a name="l00315"></a>00315 <span class="comment">                                    // must search through inventory and replace ammo accordingly</span>
<a name="l00316"></a>00316 <span class="comment">                                    for ( uiLoop3 = 0; uiLoop3 &lt; NUM_INV_SLOTS; uiLoop3++ )</span>
<a name="l00317"></a>00317 <span class="comment">                                    {</span>
<a name="l00318"></a>00318 <span class="comment">                                          usAmmo = gMercProfiles[ uiLoop ].inv[ uiLoop3 ];</span>
<a name="l00319"></a>00319 <span class="comment">                                          if ( (Item[ usAmmo ].usItemClass &amp; IC_AMMO) )</span>
<a name="l00320"></a>00320 <span class="comment">                                          {</span>
<a name="l00321"></a>00321 <span class="comment">                                                usNewAmmo = FindReplacementMagazineIfNecessary( usItem, usAmmo, usNewGun );</span>
<a name="l00322"></a>00322 <span class="comment">                                                if (usNewAmmo != NOTHING )</span>
<a name="l00323"></a>00323 <span class="comment">                                                {</span>
<a name="l00324"></a>00324 <span class="comment">                                                      // found a new magazine, replace...</span>
<a name="l00325"></a>00325 <span class="comment">                                                      gMercProfiles[ uiLoop ].inv[ uiLoop3 ] = usNewAmmo;</span>
<a name="l00326"></a>00326 <span class="comment">                                                }</span>
<a name="l00327"></a>00327 <span class="comment">                                          }</span>
<a name="l00328"></a>00328 <span class="comment">                                    }</span>
<a name="l00329"></a>00329 <span class="comment">                              }</span>
<a name="l00330"></a>00330 <span class="comment">                        }</span>
<a name="l00331"></a>00331 <span class="comment"></span>
<a name="l00332"></a>00332 <span class="comment">                  }</span>
<a name="l00333"></a>00333 <span class="comment"></span>
<a name="l00334"></a>00334 <span class="comment">            } // end of if not gun nut</span>
<a name="l00335"></a>00335 <span class="comment">*/</span>
<a name="l00336"></a>00336             <span class="comment">//ATE: Calculate some inital attractiveness values for buddy's inital equipment...</span>
<a name="l00337"></a>00337             <span class="comment">// Look for gun and armour</span>
<a name="l00338"></a>00338             <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[uiLoop].<a class="code" href="structMERCPROFILESTRUCT.html#aa306286d4dd752398e3e2f0e34be828">bMainGunAttractiveness</a>          = -1;
<a name="l00339"></a>00339             <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[uiLoop].<a class="code" href="structMERCPROFILESTRUCT.html#5791be16bff812c7fbd1c9e2aafeb785">bArmourAttractiveness</a>                 = -1;
<a name="l00340"></a>00340 
<a name="l00341"></a>00341             <span class="keywordflow">for</span> ( uiLoop2 = 0; uiLoop2 &lt; <a class="code" href="Soldier_01Control_8h.html#2a5937706f1724c8f06a0396bdc878553e9a668bdf9e2a72b855424ee1bdabcf">NUM_INV_SLOTS</a>; uiLoop2++ )
<a name="l00342"></a>00342             {
<a name="l00343"></a>00343                   usItem = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[uiLoop].inv[ uiLoop2 ];
<a name="l00344"></a>00344 
<a name="l00345"></a>00345                   <span class="keywordflow">if</span> ( usItem != NOTHING )
<a name="l00346"></a>00346                   {
<a name="l00347"></a>00347                         <span class="comment">// Check if it's a gun</span>
<a name="l00348"></a>00348                         <span class="keywordflow">if</span> ( <a class="code" href="Item_01Types_8h.html#f9dc4cc7a3a99ad5944940cfb7c82237">Item</a>[ usItem ].usItemClass &amp; IC_GUN )
<a name="l00349"></a>00349                         {
<a name="l00350"></a>00350                               <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[uiLoop].bMainGunAttractiveness = <a class="code" href="Weapons_8cpp.html#fac72e30bc7c36f55257eac0542ce51d">Weapon</a>[ usItem ].ubDeadliness;
<a name="l00351"></a>00351                         }
<a name="l00352"></a>00352 
<a name="l00353"></a>00353                         <span class="comment">// If it's armour</span>
<a name="l00354"></a>00354                         <span class="keywordflow">if</span> ( <a class="code" href="Item_01Types_8h.html#f9dc4cc7a3a99ad5944940cfb7c82237">Item</a>[ usItem ].usItemClass &amp; IC_ARMOUR )
<a name="l00355"></a>00355                         {
<a name="l00356"></a>00356                               <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[uiLoop].bArmourAttractiveness = min(128,<a class="code" href="Weapons_8cpp.html#54e6d0ad7e147f581bec4c56ca4a27cd">Armour</a>[ <a class="code" href="Item_01Types_8h.html#f9dc4cc7a3a99ad5944940cfb7c82237">Item</a>[ usItem ].ubClassIndex ].ubProtection);
<a name="l00357"></a>00357                         }
<a name="l00358"></a>00358                   }
<a name="l00359"></a>00359             }
<a name="l00360"></a>00360 
<a name="l00361"></a>00361 
<a name="l00362"></a>00362             <span class="comment">// OK, if we are a created slot, this will get overriden at some time..</span>
<a name="l00363"></a>00363 
<a name="l00364"></a>00364             <span class="comment">//add up the items the merc has for the usOptionalGearCost </span>
<a name="l00365"></a>00365             <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ uiLoop ].<a class="code" href="structMERCPROFILESTRUCT.html#41d80892adfb2023750d91001adac41f">usOptionalGearCost</a> = 0;
<a name="l00366"></a>00366             <span class="keywordflow">for</span> ( uiLoop2 = 0; uiLoop2&lt; NUM_INV_SLOTS; uiLoop2++ )
<a name="l00367"></a>00367             {
<a name="l00368"></a>00368                   <span class="keywordflow">if</span> ( <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ uiLoop ].inv[ uiLoop2 ] != NOTHING )
<a name="l00369"></a>00369                   {
<a name="l00370"></a>00370                         <span class="comment">//get the item</span>
<a name="l00371"></a>00371                         usItem = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ uiLoop ].inv[ uiLoop2 ];
<a name="l00372"></a>00372                   
<a name="l00373"></a>00373                         <span class="comment">//add the cost</span>
<a name="l00374"></a>00374                         <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ uiLoop ].<a class="code" href="structMERCPROFILESTRUCT.html#41d80892adfb2023750d91001adac41f">usOptionalGearCost</a> += <a class="code" href="Item_01Types_8h.html#f9dc4cc7a3a99ad5944940cfb7c82237">Item</a>[ usItem ].<a class="code" href="structINVTYPE.html#1796c829a66fa4f217f06cc293b7648b">usPrice</a>;
<a name="l00375"></a>00375                   }
<a name="l00376"></a>00376             }
<a name="l00377"></a>00377 
<a name="l00378"></a>00378             <span class="comment">//These variables to get loaded in</span>
<a name="l00379"></a>00379             <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ uiLoop ].<a class="code" href="structMERCPROFILESTRUCT.html#125ec7e3aa89a6f65e8cdb438a917c78">fUseProfileInsertionInfo</a> = FALSE;
<a name="l00380"></a>00380             <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ uiLoop ].<a class="code" href="structMERCPROFILESTRUCT.html#49b76d0b059c1acd5618a7af884a0edb">sGridNo</a> = 0;
<a name="l00381"></a>00381 
<a name="l00382"></a>00382             <span class="comment">// ARM: this is also being done inside the profile editor, but put it here too, so this project's code makes sense</span>
<a name="l00383"></a>00383             <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ uiLoop ].<a class="code" href="structMERCPROFILESTRUCT.html#11b19d1f9590c2e2cff1220134cf88d8">bHatedCount</a>[0]    = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ uiLoop ].<a class="code" href="structMERCPROFILESTRUCT.html#0e2dae56b0a4f1ab9f336bbbef8ebc59">bHatedTime</a>[0];
<a name="l00384"></a>00384             <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ uiLoop ].<a class="code" href="structMERCPROFILESTRUCT.html#11b19d1f9590c2e2cff1220134cf88d8">bHatedCount</a>[1]    = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ uiLoop ].<a class="code" href="structMERCPROFILESTRUCT.html#0e2dae56b0a4f1ab9f336bbbef8ebc59">bHatedTime</a>[1];
<a name="l00385"></a>00385             <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ uiLoop ].<a class="code" href="structMERCPROFILESTRUCT.html#7b65ce131582e2bcbdb02843f1e2ce81">bLearnToHateCount</a> = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ uiLoop ].<a class="code" href="structMERCPROFILESTRUCT.html#1999d120270dc227a0d62a0b180f0a5f">bLearnToHateTime</a>;
<a name="l00386"></a>00386             <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ uiLoop ].<a class="code" href="structMERCPROFILESTRUCT.html#fa4f913d98188ed38ad3339171bdef38">bLearnToLikeCount</a> = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ uiLoop ].<a class="code" href="structMERCPROFILESTRUCT.html#9787d7904d2faa4e11089144a73d7d42">bLearnToLikeTime</a>;
<a name="l00387"></a>00387       }
<a name="l00388"></a>00388 
<a name="l00389"></a>00389       <span class="comment">// SET SOME DEFAULT LOCATIONS FOR STARTING NPCS</span>
<a name="l00390"></a>00390 
<a name="l00391"></a>00391       <a class="code" href="FileMan_8cpp.html#92ccf437cf31aac8a8356e1425f203cc">FileClose</a>( fptr );
<a name="l00392"></a>00392 
<a name="l00393"></a>00393       <span class="comment">// decide which terrorists are active</span>
<a name="l00394"></a>00394       <a class="code" href="Soldier_01Profile_8cpp.html#f7d73ac72e847cf9beb9e1c033648bde">DecideActiveTerrorists</a>();
<a name="l00395"></a>00395 
<a name="l00396"></a>00396       <span class="comment">// initialize mercs' status</span>
<a name="l00397"></a>00397       <a class="code" href="Soldier_01Profile_8cpp.html#204af3185339658c874488c223e45fd5">StartSomeMercsOnAssignment</a>( );
<a name="l00398"></a>00398 
<a name="l00399"></a>00399       <span class="comment">// initial recruitable mercs' reputation in each town</span>
<a name="l00400"></a>00400       <a class="code" href="strategic_01town_01reputation_8cpp.html#554794ea1e2edb73b85d8ca151dc517f">InitializeProfilesForTownReputation</a>( );
<a name="l00401"></a>00401 
<a name="l00402"></a>00402 <span class="preprocessor">      #ifdef JA2EDITOR</span>
<a name="l00403"></a>00403 <span class="preprocessor"></span>      <a class="code" href="editscreen_8cpp.html#dfca8825c52819ec7840857faae2820e">gfProfileDataLoaded</a> = TRUE;
<a name="l00404"></a>00404 <span class="preprocessor">      #endif</span>
<a name="l00405"></a>00405 <span class="preprocessor"></span>
<a name="l00406"></a>00406       <span class="comment">// no better place..heh?.. will load faces for profiles that are 'extern'.....won't have soldiertype instances</span>
<a name="l00407"></a>00407       <a class="code" href="Dialogue_01Control_8cpp.html#22ab9d0f99ed407df2b51846426c51e1">InitalizeStaticExternalNPCFaces</a>( );
<a name="l00408"></a>00408 
<a name="l00409"></a>00409       <span class="comment">// car portrait values</span>
<a name="l00410"></a>00410       <a class="code" href="Interface_01Utils_8cpp.html#05e6ad82b8e50c04acfef199079fd876">LoadCarPortraitValues</a>( );
<a name="l00411"></a>00411 
<a name="l00412"></a>00412 
<a name="l00413"></a>00413       DebugMsg (<a class="code" href="DEBUG_8cpp.html#a7985c2fd033797fc67a03b2c26e07c6">TOPIC_JA2</a>,DBG_LEVEL_3,<span class="stringliteral">"LoadMercProfiles done"</span>);
<a name="l00414"></a>00414       <span class="keywordflow">return</span>(TRUE);
<a name="l00415"></a>00415 }
<a name="l00416"></a>00416 
<a name="l00417"></a>00417 <span class="preprocessor">#define MAX_ADDITIONAL_TERRORISTS 4</span>
<a name="l00418"></a>00418 <span class="preprocessor"></span>
<a name="l00419"></a><a class="code" href="Soldier_01Profile_8cpp.html#f7d73ac72e847cf9beb9e1c033648bde">00419</a> <span class="keywordtype">void</span> <a class="code" href="Soldier_01Profile_8cpp.html#f7d73ac72e847cf9beb9e1c033648bde">DecideActiveTerrorists</a>( <span class="keywordtype">void</span> )
<a name="l00420"></a>00420 {
<a name="l00421"></a>00421       <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>       ubLoop, ubLoop2;
<a name="l00422"></a>00422       <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>       ubTerrorist;
<a name="l00423"></a>00423       <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>       ubNumAdditionalTerrorists, ubNumTerroristsAdded = 0;
<a name="l00424"></a>00424       <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      uiChance, uiLocationChoice;
<a name="l00425"></a>00425       <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>     fFoundSpot;
<a name="l00426"></a>00426       <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>       sTerroristPlacement[MAX_ADDITIONAL_TERRORISTS][2] = { {0, 0}, {0, 0}, {0, 0}, {0, 0} };
<a name="l00427"></a>00427       
<a name="l00428"></a>00428 <span class="preprocessor">      #ifdef CRIPPLED_VERSION</span>
<a name="l00429"></a>00429 <span class="preprocessor"></span>            <span class="keywordflow">return</span>;
<a name="l00430"></a>00430 <span class="preprocessor">      #endif</span>
<a name="l00431"></a>00431 <span class="preprocessor"></span>
<a name="l00432"></a>00432       <span class="comment">// one terrorist will always be Elgin</span>
<a name="l00433"></a>00433       <span class="comment">// determine how many more terrorists - 2 to 4 more</span>
<a name="l00434"></a>00434 
<a name="l00435"></a>00435       <span class="comment">// using this stochastic process(!), the chances for terrorists are:</span>
<a name="l00436"></a>00436       <span class="comment">// EASY:          3, 9%             4, 42%            5, 49%</span>
<a name="l00437"></a>00437       <span class="comment">// MEDIUM:  3, 25%            4, 50%            5, 25%</span>
<a name="l00438"></a>00438       <span class="comment">// HARD:          3, 49%            4, 42%            5, 9%</span>
<a name="l00439"></a>00439       <span class="keywordflow">switch</span>( <a class="code" href="GameSettings_8cpp.html#f9f2d5fd368ccadcc26bebc202d52ae7">gGameOptions</a>.<a class="code" href="structGAME__OPTIONS.html#4fb44167906152722f6af5cc9f7c1a99">ubDifficultyLevel</a> )
<a name="l00440"></a>00440       {
<a name="l00441"></a>00441             <span class="keywordflow">case</span> <a class="code" href="GameSettings_8h.html#c205be2172292384dd687b5471a87eddbd3b0d23f4dc30ef17b50a14c3f54589">DIF_LEVEL_EASY</a>:
<a name="l00442"></a>00442                   uiChance = 70;
<a name="l00443"></a>00443                   <span class="keywordflow">break</span>;
<a name="l00444"></a>00444             <span class="keywordflow">case</span> <a class="code" href="GameSettings_8h.html#c205be2172292384dd687b5471a87eddc657c89fd754a6f20b3869250288a702">DIF_LEVEL_INSANE</a>:
<a name="l00445"></a>00445                   uiChance = 30;
<a name="l00446"></a>00446                   <span class="keywordflow">break</span>;
<a name="l00447"></a>00447             <span class="keywordflow">default</span>:
<a name="l00448"></a>00448                   uiChance = 50;
<a name="l00449"></a>00449                   <span class="keywordflow">break</span>;
<a name="l00450"></a>00450       }
<a name="l00451"></a>00451 
<a name="l00452"></a>00452       <span class="keywordflow">if</span> ( <a class="code" href="GameSettings_8cpp.html#5c32f930e2fef384505c4b91803a92c2">gGameExternalOptions</a>.<a class="code" href="structGAME__EXTERNAL__OPTIONS.html#9247addb18acde0494d5f2d5e0633758">fEnableAllTerrorists</a> )
<a name="l00453"></a>00453             uiChance = 100;
<a name="l00454"></a>00454 
<a name="l00455"></a>00455       <span class="comment">// add at least 2 more</span>
<a name="l00456"></a>00456       ubNumAdditionalTerrorists = 2;
<a name="l00457"></a>00457       <span class="keywordflow">for</span> (ubLoop = 0; ubLoop &lt; (MAX_ADDITIONAL_TERRORISTS - 2); ubLoop++)
<a name="l00458"></a>00458       {
<a name="l00459"></a>00459             <span class="keywordflow">if</span> (<a class="code" href="Random_8cpp.html#49f938d1313ab6ef09ac6223a16ac334">Random</a>( 100 ) &lt; uiChance)
<a name="l00460"></a>00460             {
<a name="l00461"></a>00461                   ubNumAdditionalTerrorists++;
<a name="l00462"></a>00462             }
<a name="l00463"></a>00463       }
<a name="l00464"></a>00464 
<a name="l00465"></a>00465       <span class="comment">// ifdefs added by CJC</span>
<a name="l00466"></a>00466 <span class="preprocessor">      #ifdef JA2TESTVERSION</span>
<a name="l00467"></a>00467 <span class="preprocessor"></span>            ubNumAdditionalTerrorists = 4;
<a name="l00468"></a>00468 <span class="preprocessor">      #endif</span>
<a name="l00469"></a>00469 <span class="preprocessor"></span>
<a name="l00470"></a>00470       <span class="keywordflow">while</span> ( ubNumTerroristsAdded &lt; ubNumAdditionalTerrorists )
<a name="l00471"></a>00471       {
<a name="l00472"></a>00472 
<a name="l00473"></a>00473             ubLoop = 1; <span class="comment">// start at beginning of array (well, after Elgin)</span>
<a name="l00474"></a>00474 
<a name="l00475"></a>00475             <span class="comment">// NB terrorist ID of 0 indicates end of array</span>
<a name="l00476"></a>00476             <span class="keywordflow">while</span> ( ubNumTerroristsAdded &lt; ubNumAdditionalTerrorists &amp;&amp; <a class="code" href="Soldier_01Profile_8cpp.html#d16935540aaa3b9f6c757b1025ed3fea">gubTerrorists</a>[ ubLoop ] != 0 )
<a name="l00477"></a>00477             {
<a name="l00478"></a>00478 
<a name="l00479"></a>00479                   ubTerrorist = <a class="code" href="Soldier_01Profile_8cpp.html#d16935540aaa3b9f6c757b1025ed3fea">gubTerrorists</a>[ ubLoop ];
<a name="l00480"></a>00480 
<a name="l00481"></a>00481                   <span class="comment">// random 40% chance of adding this terrorist if not yet placed</span>
<a name="l00482"></a>00482                   <span class="keywordflow">if</span> ( ( <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubTerrorist ].sSectorX == 0 ) &amp;&amp; ( <a class="code" href="Random_8cpp.html#49f938d1313ab6ef09ac6223a16ac334">Random</a>( 100 ) &lt; 40 ) )
<a name="l00483"></a>00483                   {
<a name="l00484"></a>00484                         fFoundSpot = FALSE;
<a name="l00485"></a>00485                         <span class="comment">// Since there are 5 spots per terrorist and a maximum of 5 terrorists, we</span>
<a name="l00486"></a>00486                         <span class="comment">// are guaranteed to be able to find a spot for each terrorist since there</span>
<a name="l00487"></a>00487                         <span class="comment">// aren't enough other terrorists to use up all the spots for any one</span>
<a name="l00488"></a>00488                         <span class="comment">// terrorist</span>
<a name="l00489"></a>00489                         <span class="keywordflow">do</span>
<a name="l00490"></a>00490                         {
<a name="l00491"></a>00491                               <span class="comment">// pick a random spot, see if it's already been used by another terrorist</span>
<a name="l00492"></a>00492                               uiLocationChoice = <a class="code" href="Random_8cpp.html#49f938d1313ab6ef09ac6223a16ac334">Random</a>( NUM_TERRORIST_POSSIBLE_LOCATIONS );
<a name="l00493"></a>00493                               <span class="keywordflow">for</span> (ubLoop2 = 0; ubLoop2 &lt; ubNumTerroristsAdded; ubLoop2++)
<a name="l00494"></a>00494                               {
<a name="l00495"></a>00495                                     <span class="keywordflow">if</span> (sTerroristPlacement[ubLoop2][0] == <a class="code" href="Soldier_01Profile_8cpp.html#e7358451181c9d597dbdc175222795fd">gsTerroristSector</a>[ubLoop][uiLocationChoice][0] )
<a name="l00496"></a>00496                                     {
<a name="l00497"></a>00497                                           <span class="keywordflow">if</span> (sTerroristPlacement[ubLoop2][1] == <a class="code" href="Soldier_01Profile_8cpp.html#e7358451181c9d597dbdc175222795fd">gsTerroristSector</a>[ubLoop][uiLocationChoice][1] )
<a name="l00498"></a>00498                                           {
<a name="l00499"></a>00499                                                 <span class="keywordflow">continue</span>;
<a name="l00500"></a>00500                                           }
<a name="l00501"></a>00501                                     }
<a name="l00502"></a>00502                               }
<a name="l00503"></a>00503                               fFoundSpot = TRUE;
<a name="l00504"></a>00504                         } <span class="keywordflow">while</span>( !fFoundSpot );
<a name="l00505"></a>00505 
<a name="l00506"></a>00506                         <span class="comment">// place terrorist!</span>
<a name="l00507"></a>00507                         <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubTerrorist ].<a class="code" href="structMERCPROFILESTRUCT.html#b0d6f66ec41a0d9c87fbc03dd9fed965">sSectorX</a> = <a class="code" href="Soldier_01Profile_8cpp.html#e7358451181c9d597dbdc175222795fd">gsTerroristSector</a>[ ubLoop ][ uiLocationChoice ][ 0 ];
<a name="l00508"></a>00508                         <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubTerrorist ].<a class="code" href="structMERCPROFILESTRUCT.html#e3caff1f000b3ed3c382e8a1f0d5fdbc">sSectorY</a> = <a class="code" href="Soldier_01Profile_8cpp.html#e7358451181c9d597dbdc175222795fd">gsTerroristSector</a>[ ubLoop ][ uiLocationChoice ][ 1 ];
<a name="l00509"></a>00509                         <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubTerrorist ].<a class="code" href="structMERCPROFILESTRUCT.html#9dfd2271b790d94f55f142e71ab18065">bSectorZ</a> = 0;
<a name="l00510"></a>00510                         sTerroristPlacement[ ubNumTerroristsAdded ][ 0 ] = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubTerrorist ].<a class="code" href="structMERCPROFILESTRUCT.html#b0d6f66ec41a0d9c87fbc03dd9fed965">sSectorX</a>;
<a name="l00511"></a>00511                         sTerroristPlacement[ ubNumTerroristsAdded ][ 1 ] = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubTerrorist ].<a class="code" href="structMERCPROFILESTRUCT.html#e3caff1f000b3ed3c382e8a1f0d5fdbc">sSectorY</a>;
<a name="l00512"></a>00512                         ubNumTerroristsAdded++;
<a name="l00513"></a>00513                   }
<a name="l00514"></a>00514                   ubLoop++;
<a name="l00515"></a>00515 
<a name="l00516"></a>00516             }
<a name="l00517"></a>00517 
<a name="l00518"></a>00518             <span class="comment">// start over if necessary</span>
<a name="l00519"></a>00519       }
<a name="l00520"></a>00520 
<a name="l00521"></a>00521       <span class="comment">// set total terrorists outstanding in Carmen's info byte</span>
<a name="l00522"></a>00522       <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ 78 ].<a class="code" href="structMERCPROFILESTRUCT.html#2383e5671eb993c3061bad92ab884550">bNPCData</a> = 1 + ubNumAdditionalTerrorists;
<a name="l00523"></a>00523 
<a name="l00524"></a>00524       <span class="comment">// store total terrorists</span>
<a name="l00525"></a>00525       <a class="code" href="Soldier_01Profile_8cpp.html#0ba03c6200c57e36a7bdc67fcaaa5111">gubNumTerrorists</a> = 1 + ubNumAdditionalTerrorists;
<a name="l00526"></a>00526 }
<a name="l00527"></a>00527 
<a name="l00528"></a><a class="code" href="Soldier_01Profile_8h.html#317bb2746538270f045b0eb9e0a5fccf">00528</a> <span class="keywordtype">void</span> <a class="code" href="Soldier_01Profile_8cpp.html#317bb2746538270f045b0eb9e0a5fccf">MakeRemainingTerroristsTougher</a>( <span class="keywordtype">void</span> )
<a name="l00529"></a>00529 {
<a name="l00530"></a>00530       <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>                         ubRemainingTerrorists = 0, ubLoop;
<a name="l00531"></a>00531       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>                        usNewItem, usOldItem;
<a name="l00532"></a>00532       <a class="code" href="structOBJECTTYPE.html">OBJECTTYPE</a>        Object;
<a name="l00533"></a>00533       <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>                         ubRemainingDifficulty;
<a name="l00534"></a>00534 
<a name="l00535"></a>00535       <span class="keywordflow">for</span> ( ubLoop = 0; ubLoop &lt; NUM_TERRORISTS; ubLoop++ )
<a name="l00536"></a>00536       {
<a name="l00537"></a>00537             <span class="keywordflow">if</span> ( <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ <a class="code" href="Soldier_01Profile_8cpp.html#d16935540aaa3b9f6c757b1025ed3fea">gubTerrorists</a>[ ubLoop ] ].bMercStatus != MERC_IS_DEAD &amp;&amp; <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ <a class="code" href="Soldier_01Profile_8cpp.html#d16935540aaa3b9f6c757b1025ed3fea">gubTerrorists</a>[ ubLoop ] ].sSectorX != 0 &amp;&amp; <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ <a class="code" href="Soldier_01Profile_8cpp.html#d16935540aaa3b9f6c757b1025ed3fea">gubTerrorists</a>[ ubLoop ] ].sSectorY != 0 )
<a name="l00538"></a>00538             {
<a name="l00539"></a>00539                   <span class="keywordflow">if</span> ( <a class="code" href="Soldier_01Profile_8cpp.html#d16935540aaa3b9f6c757b1025ed3fea">gubTerrorists</a>[ ubLoop ] == <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa16fdbd42950596fda948b4caabe34d053">SLAY</a> )
<a name="l00540"></a>00540                   {
<a name="l00541"></a>00541                         <span class="keywordflow">if</span> ( <a class="code" href="Soldier_01Profile_8cpp.html#2a54c4a06df8ed61529646f23682ef9d">FindSoldierByProfileID</a>( <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa16fdbd42950596fda948b4caabe34d053">SLAY</a>, TRUE ) != NULL )
<a name="l00542"></a>00542                         {
<a name="l00543"></a>00543                               <span class="comment">// Slay on player's team, doesn't count towards remaining terrorists</span>
<a name="l00544"></a>00544                               <span class="keywordflow">continue</span>;
<a name="l00545"></a>00545                         }
<a name="l00546"></a>00546                   }
<a name="l00547"></a>00547                   ubRemainingTerrorists++;
<a name="l00548"></a>00548             }
<a name="l00549"></a>00549       }
<a name="l00550"></a>00550 
<a name="l00551"></a>00551       ubRemainingDifficulty = (60 / <a class="code" href="Soldier_01Profile_8cpp.html#0ba03c6200c57e36a7bdc67fcaaa5111">gubNumTerrorists</a>) * (<a class="code" href="Soldier_01Profile_8cpp.html#0ba03c6200c57e36a7bdc67fcaaa5111">gubNumTerrorists</a> - ubRemainingTerrorists);
<a name="l00552"></a>00552 
<a name="l00553"></a>00553       <span class="keywordflow">switch</span>( <a class="code" href="GameSettings_8cpp.html#f9f2d5fd368ccadcc26bebc202d52ae7">gGameOptions</a>.<a class="code" href="structGAME__OPTIONS.html#4fb44167906152722f6af5cc9f7c1a99">ubDifficultyLevel</a> )
<a name="l00554"></a>00554       {
<a name="l00555"></a>00555             <span class="keywordflow">case</span> <a class="code" href="GameSettings_8h.html#c205be2172292384dd687b5471a87edddd0259b09fef163c6aa62268574191cb">DIF_LEVEL_MEDIUM</a>:              
<a name="l00556"></a>00556                   ubRemainingDifficulty = (ubRemainingDifficulty * 13) / 10;
<a name="l00557"></a>00557                   <span class="keywordflow">break</span>;
<a name="l00558"></a>00558             <span class="keywordflow">case</span> <a class="code" href="GameSettings_8h.html#c205be2172292384dd687b5471a87edd3d0b73026f1c7122798d578613aa4575">DIF_LEVEL_HARD</a>:
<a name="l00559"></a>00559                   ubRemainingDifficulty = (ubRemainingDifficulty * 16) / 10;
<a name="l00560"></a>00560                   <span class="keywordflow">break</span>;
<a name="l00561"></a>00561             <span class="keywordflow">case</span> <a class="code" href="GameSettings_8h.html#c205be2172292384dd687b5471a87eddc657c89fd754a6f20b3869250288a702">DIF_LEVEL_INSANE</a>:
<a name="l00562"></a>00562                   ubRemainingDifficulty = (ubRemainingDifficulty * 19) / 10;
<a name="l00563"></a>00563                   <span class="keywordflow">break</span>;
<a name="l00564"></a>00564             <span class="keywordflow">default</span>:
<a name="l00565"></a>00565                   <span class="keywordflow">break</span>;
<a name="l00566"></a>00566       }
<a name="l00567"></a>00567 
<a name="l00568"></a>00568       <span class="keywordflow">if</span> ( ubRemainingDifficulty &lt; 14 )
<a name="l00569"></a>00569       {
<a name="l00570"></a>00570             <span class="comment">// nothing</span>
<a name="l00571"></a>00571             <span class="keywordflow">return</span>;
<a name="l00572"></a>00572       }
<a name="l00573"></a>00573       <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( ubRemainingDifficulty &lt; 28 )
<a name="l00574"></a>00574       {
<a name="l00575"></a>00575             <span class="comment">// mini grenade</span>
<a name="l00576"></a>00576             usOldItem = NOTHING;
<a name="l00577"></a>00577             usNewItem = <a class="code" href="Item_01Types_8h.html#572f9555da77e1b21f4cd40aed8d20f4fc6f5a7711dc97b72fc50dc538b4580a">MINI_GRENADE</a>;
<a name="l00578"></a>00578       }
<a name="l00579"></a>00579       <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( ubRemainingDifficulty &lt; 42)
<a name="l00580"></a>00580       {
<a name="l00581"></a>00581             <span class="comment">// hand grenade</span>
<a name="l00582"></a>00582             usOldItem = <a class="code" href="Item_01Types_8h.html#572f9555da77e1b21f4cd40aed8d20f4fc6f5a7711dc97b72fc50dc538b4580a">MINI_GRENADE</a>;
<a name="l00583"></a>00583             usNewItem = <a class="code" href="Item_01Types_8h.html#572f9555da77e1b21f4cd40aed8d20f4b56082115d9fe14a5936f71d26e35e8e">HAND_GRENADE</a>;
<a name="l00584"></a>00584       }
<a name="l00585"></a>00585       <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( ubRemainingDifficulty &lt; 56)
<a name="l00586"></a>00586       {
<a name="l00587"></a>00587             <span class="comment">// mustard</span>
<a name="l00588"></a>00588             usOldItem = <a class="code" href="Item_01Types_8h.html#572f9555da77e1b21f4cd40aed8d20f4b56082115d9fe14a5936f71d26e35e8e">HAND_GRENADE</a>;
<a name="l00589"></a>00589             usNewItem = <a class="code" href="Item_01Types_8h.html#572f9555da77e1b21f4cd40aed8d20f439b2b9e029ead4d8caf2d19ea1065426">MUSTARD_GRENADE</a>;
<a name="l00590"></a>00590       }
<a name="l00591"></a>00591       <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( ubRemainingDifficulty &lt; 70)
<a name="l00592"></a>00592       {
<a name="l00593"></a>00593             <span class="comment">// LAW</span>
<a name="l00594"></a>00594             usOldItem = <a class="code" href="Item_01Types_8h.html#572f9555da77e1b21f4cd40aed8d20f439b2b9e029ead4d8caf2d19ea1065426">MUSTARD_GRENADE</a>;
<a name="l00595"></a>00595             usNewItem = <a class="code" href="Item_01Types_8h.html#572f9555da77e1b21f4cd40aed8d20f49d3d63879b3002ed2cfd360fc76b7270">ROCKET_LAUNCHER</a>;
<a name="l00596"></a>00596       }
<a name="l00597"></a>00597       <span class="keywordflow">else</span>
<a name="l00598"></a>00598       {
<a name="l00599"></a>00599             <span class="comment">// LAW and hand grenade </span>
<a name="l00600"></a>00600             usOldItem = NOTHING;
<a name="l00601"></a>00601             usNewItem = <a class="code" href="Item_01Types_8h.html#572f9555da77e1b21f4cd40aed8d20f4b56082115d9fe14a5936f71d26e35e8e">HAND_GRENADE</a>;
<a name="l00602"></a>00602       }
<a name="l00603"></a>00603 
<a name="l00604"></a>00604       <a class="code" href="Items_8cpp.html#5950d1252d479c6f8c5a25d86b06d889">DeleteObj</a>( &amp;Object );
<a name="l00605"></a>00605       Object.usItem = usNewItem;
<a name="l00606"></a>00606       Object.bStatus[ 0 ] = 100;
<a name="l00607"></a>00607 
<a name="l00608"></a>00608       <span class="keywordflow">for</span> ( ubLoop = 0; ubLoop &lt; NUM_TERRORISTS; ubLoop++ )
<a name="l00609"></a>00609       {
<a name="l00610"></a>00610             <span class="keywordflow">if</span> ( <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ <a class="code" href="Soldier_01Profile_8cpp.html#d16935540aaa3b9f6c757b1025ed3fea">gubTerrorists</a>[ ubLoop ] ].bMercStatus != MERC_IS_DEAD &amp;&amp; <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ <a class="code" href="Soldier_01Profile_8cpp.html#d16935540aaa3b9f6c757b1025ed3fea">gubTerrorists</a>[ ubLoop ] ].sSectorX != 0 &amp;&amp; <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ <a class="code" href="Soldier_01Profile_8cpp.html#d16935540aaa3b9f6c757b1025ed3fea">gubTerrorists</a>[ ubLoop ] ].sSectorY != 0 )
<a name="l00611"></a>00611             {
<a name="l00612"></a>00612                   <span class="keywordflow">if</span> ( <a class="code" href="Soldier_01Profile_8cpp.html#d16935540aaa3b9f6c757b1025ed3fea">gubTerrorists</a>[ ubLoop ] == <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa16fdbd42950596fda948b4caabe34d053">SLAY</a> )
<a name="l00613"></a>00613                   {
<a name="l00614"></a>00614                         <span class="keywordflow">if</span> ( <a class="code" href="Soldier_01Profile_8cpp.html#2a54c4a06df8ed61529646f23682ef9d">FindSoldierByProfileID</a>( <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa16fdbd42950596fda948b4caabe34d053">SLAY</a>, TRUE ) != NULL )
<a name="l00615"></a>00615                         {
<a name="l00616"></a>00616                               <span class="comment">// Slay on player's team, doesn't count towards remaining terrorists</span>
<a name="l00617"></a>00617                               <span class="keywordflow">continue</span>;
<a name="l00618"></a>00618                         }
<a name="l00619"></a>00619                   }
<a name="l00620"></a>00620 
<a name="l00621"></a>00621                   <span class="keywordflow">if</span> ( usOldItem != NOTHING )
<a name="l00622"></a>00622                   {
<a name="l00623"></a>00623                         <a class="code" href="Items_8cpp.html#2d9760d2538e0c0cd384db82b507e3a1">RemoveObjectFromSoldierProfile</a>( <a class="code" href="Soldier_01Profile_8cpp.html#d16935540aaa3b9f6c757b1025ed3fea">gubTerrorists</a>[ ubLoop ], usOldItem );
<a name="l00624"></a>00624                   }
<a name="l00625"></a>00625                   <a class="code" href="Items_8cpp.html#42106ab668520395e6dfdbec2b96eacc">PlaceObjectInSoldierProfile</a>( <a class="code" href="Soldier_01Profile_8cpp.html#d16935540aaa3b9f6c757b1025ed3fea">gubTerrorists</a>[ ubLoop ], &amp;Object );
<a name="l00626"></a>00626             }
<a name="l00627"></a>00627       }
<a name="l00628"></a>00628 }
<a name="l00629"></a>00629 
<a name="l00630"></a><a class="code" href="Soldier_01Profile_8h.html#277a6164a7aede89ea9e9dc51476cd7f">00630</a> <span class="keywordtype">void</span> <a class="code" href="Soldier_01Profile_8cpp.html#277a6164a7aede89ea9e9dc51476cd7f">DecideOnAssassin</a>( <span class="keywordtype">void</span> )
<a name="l00631"></a>00631 {
<a name="l00632"></a>00632       <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>       ubAssassinPossibility[NUM_ASSASSINS] = { NO_PROFILE, NO_PROFILE, NO_PROFILE, NO_PROFILE, NO_PROFILE, NO_PROFILE };
<a name="l00633"></a>00633       <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>       ubAssassinsPossible = 0;
<a name="l00634"></a>00634       <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>       ubLoop, ubLoop2;
<a name="l00635"></a>00635       <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>       ubTown;
<a name="l00636"></a>00636 
<a name="l00637"></a>00637 <span class="preprocessor">      #ifdef CRIPPLED_VERSION</span>
<a name="l00638"></a>00638 <span class="preprocessor"></span>            <span class="keywordflow">return</span>;
<a name="l00639"></a>00639 <span class="preprocessor">      #endif</span>
<a name="l00640"></a>00640 <span class="preprocessor"></span>
<a name="l00641"></a>00641       ubTown = <a class="code" href="strategicmap_8cpp.html#99dffd29ea4571bc0c833d45636f1403">GetTownIdForSector</a>( <a class="code" href="strategicmap_8cpp.html#49d9aed144a633fda4ba1990f002d703">gWorldSectorX</a>, <a class="code" href="strategicmap_8cpp.html#ea322310ced0e35ee18a2ee7b32aac5b">gWorldSectorY</a> );
<a name="l00642"></a>00642 
<a name="l00643"></a>00643       <span class="keywordflow">for</span> ( ubLoop = 0; ubLoop &lt; NUM_ASSASSINS; ubLoop++ )
<a name="l00644"></a>00644       {
<a name="l00645"></a>00645             <span class="comment">// make sure alive and not placed already</span>
<a name="l00646"></a>00646             <span class="keywordflow">if</span> ( <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ <a class="code" href="Soldier_01Profile_8cpp.html#a6114b04dee7604d58c9c0ef1898ccd4">gubAssassins</a>[ ubLoop ] ].bMercStatus != MERC_IS_DEAD &amp;&amp; <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ <a class="code" href="Soldier_01Profile_8cpp.html#a6114b04dee7604d58c9c0ef1898ccd4">gubAssassins</a>[ ubLoop ] ].sSectorX == 0 &amp;&amp; <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ <a class="code" href="Soldier_01Profile_8cpp.html#a6114b04dee7604d58c9c0ef1898ccd4">gubAssassins</a>[ ubLoop ] ].sSectorY == 0 )
<a name="l00647"></a>00647             {
<a name="l00648"></a>00648                   <span class="comment">// check this merc to see if the town is a possibility</span>
<a name="l00649"></a>00649                   <span class="keywordflow">for</span> ( ubLoop2 = 0; ubLoop2 &lt; NUM_ASSASSIN_POSSIBLE_TOWNS; ubLoop2++ )
<a name="l00650"></a>00650                   {                 
<a name="l00651"></a>00651                         <span class="keywordflow">if</span> ( <a class="code" href="Soldier_01Profile_8cpp.html#7c9977b57e92a91c8084924205c4e7ca">gbAssassinTown</a>[ ubLoop ][ ubLoop2 ] == ubTown )
<a name="l00652"></a>00652                         {
<a name="l00653"></a>00653                               ubAssassinPossibility[ ubAssassinsPossible ] = <a class="code" href="Soldier_01Profile_8cpp.html#a6114b04dee7604d58c9c0ef1898ccd4">gubAssassins</a>[ ubLoop ];
<a name="l00654"></a>00654                               ubAssassinsPossible++;
<a name="l00655"></a>00655                         }
<a name="l00656"></a>00656                   }
<a name="l00657"></a>00657             }
<a name="l00658"></a>00658       }
<a name="l00659"></a>00659 
<a name="l00660"></a>00660       <span class="keywordflow">if</span> ( ubAssassinsPossible != 0 )
<a name="l00661"></a>00661       {
<a name="l00662"></a>00662             ubLoop = ubAssassinPossibility[ <a class="code" href="Random_8cpp.html#49f938d1313ab6ef09ac6223a16ac334">Random</a>( ubAssassinsPossible ) ];
<a name="l00663"></a>00663             <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubLoop ].<a class="code" href="structMERCPROFILESTRUCT.html#b0d6f66ec41a0d9c87fbc03dd9fed965">sSectorX</a> = <a class="code" href="strategicmap_8cpp.html#49d9aed144a633fda4ba1990f002d703">gWorldSectorX</a>;
<a name="l00664"></a>00664             <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubLoop ].<a class="code" href="structMERCPROFILESTRUCT.html#e3caff1f000b3ed3c382e8a1f0d5fdbc">sSectorY</a> = <a class="code" href="strategicmap_8cpp.html#ea322310ced0e35ee18a2ee7b32aac5b">gWorldSectorY</a>;
<a name="l00665"></a>00665             <a class="code" href="Game_01Event_01Hook_8h.html#d0da2cc582f16f4f54f328db96d7ca56">AddStrategicEvent</a>( <a class="code" href="Game_01Event_01Hook_8h.html#08f51f22ad2ed13a25181c26045731106ee97a5d90499703db261d85f8cffa50">EVENT_REMOVE_ASSASSIN</a>, <a class="code" href="Game_01Clock_8cpp.html#4d255e800fba4d64144a7639d5f3421d">GetWorldTotalMin</a>() + 60 * ( 3 + <a class="code" href="Random_8cpp.html#49f938d1313ab6ef09ac6223a16ac334">Random</a>( 3 ) ), ubLoop );
<a name="l00666"></a>00666       }
<a name="l00667"></a>00667       
<a name="l00668"></a>00668 }
<a name="l00669"></a>00669 
<a name="l00670"></a><a class="code" href="Soldier_01Profile_8h.html#91d8606894a888f6309e1310e388feea">00670</a> <span class="keywordtype">void</span> <a class="code" href="Soldier_01Profile_8cpp.html#91d8606894a888f6309e1310e388feea">MakeRemainingAssassinsTougher</a>( <span class="keywordtype">void</span> )
<a name="l00671"></a>00671 {
<a name="l00672"></a>00672       <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>                         ubRemainingAssassins = 0, ubLoop;
<a name="l00673"></a>00673       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>                        usNewItem, usOldItem;
<a name="l00674"></a>00674       <a class="code" href="structOBJECTTYPE.html">OBJECTTYPE</a>        Object;
<a name="l00675"></a>00675       <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>                         ubRemainingDifficulty;
<a name="l00676"></a>00676 
<a name="l00677"></a>00677       <span class="keywordflow">for</span> ( ubLoop = 0; ubLoop &lt; NUM_ASSASSINS; ubLoop++ )
<a name="l00678"></a>00678       {
<a name="l00679"></a>00679             <span class="keywordflow">if</span> ( <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ <a class="code" href="Soldier_01Profile_8cpp.html#a6114b04dee7604d58c9c0ef1898ccd4">gubAssassins</a>[ ubLoop ] ].bMercStatus != MERC_IS_DEAD  )
<a name="l00680"></a>00680             {
<a name="l00681"></a>00681                   ubRemainingAssassins++;
<a name="l00682"></a>00682             }
<a name="l00683"></a>00683       }
<a name="l00684"></a>00684 
<a name="l00685"></a>00685       ubRemainingDifficulty = (60 / NUM_ASSASSINS) * (NUM_ASSASSINS - ubRemainingAssassins);
<a name="l00686"></a>00686 
<a name="l00687"></a>00687       <span class="keywordflow">switch</span>( <a class="code" href="GameSettings_8cpp.html#f9f2d5fd368ccadcc26bebc202d52ae7">gGameOptions</a>.<a class="code" href="structGAME__OPTIONS.html#4fb44167906152722f6af5cc9f7c1a99">ubDifficultyLevel</a> )
<a name="l00688"></a>00688       {
<a name="l00689"></a>00689             <span class="keywordflow">case</span> <a class="code" href="GameSettings_8h.html#c205be2172292384dd687b5471a87edddd0259b09fef163c6aa62268574191cb">DIF_LEVEL_MEDIUM</a>:              
<a name="l00690"></a>00690                   ubRemainingDifficulty = (ubRemainingDifficulty * 13) / 10;
<a name="l00691"></a>00691                   <span class="keywordflow">break</span>;
<a name="l00692"></a>00692             <span class="keywordflow">case</span> <a class="code" href="GameSettings_8h.html#c205be2172292384dd687b5471a87edd3d0b73026f1c7122798d578613aa4575">DIF_LEVEL_HARD</a>:
<a name="l00693"></a>00693                   ubRemainingDifficulty = (ubRemainingDifficulty * 16) / 10;
<a name="l00694"></a>00694                   <span class="keywordflow">break</span>;
<a name="l00695"></a>00695             <span class="keywordflow">case</span> <a class="code" href="GameSettings_8h.html#c205be2172292384dd687b5471a87eddc657c89fd754a6f20b3869250288a702">DIF_LEVEL_INSANE</a>:
<a name="l00696"></a>00696                   ubRemainingDifficulty = (ubRemainingDifficulty * 19) / 10;
<a name="l00697"></a>00697                   <span class="keywordflow">break</span>;
<a name="l00698"></a>00698             <span class="keywordflow">default</span>:
<a name="l00699"></a>00699                   <span class="keywordflow">break</span>;
<a name="l00700"></a>00700       }
<a name="l00701"></a>00701 
<a name="l00702"></a>00702       <span class="keywordflow">if</span> ( ubRemainingDifficulty &lt; 14 )
<a name="l00703"></a>00703       {
<a name="l00704"></a>00704             <span class="comment">// nothing</span>
<a name="l00705"></a>00705             <span class="keywordflow">return</span>;
<a name="l00706"></a>00706       }
<a name="l00707"></a>00707       <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( ubRemainingDifficulty &lt; 28 )
<a name="l00708"></a>00708       {
<a name="l00709"></a>00709             <span class="comment">// mini grenade</span>
<a name="l00710"></a>00710             usOldItem = NOTHING;
<a name="l00711"></a>00711             usNewItem = <a class="code" href="Item_01Types_8h.html#572f9555da77e1b21f4cd40aed8d20f4fc6f5a7711dc97b72fc50dc538b4580a">MINI_GRENADE</a>;
<a name="l00712"></a>00712       }
<a name="l00713"></a>00713       <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( ubRemainingDifficulty &lt; 42)
<a name="l00714"></a>00714       {
<a name="l00715"></a>00715             <span class="comment">// hand grenade</span>
<a name="l00716"></a>00716             usOldItem = <a class="code" href="Item_01Types_8h.html#572f9555da77e1b21f4cd40aed8d20f4fc6f5a7711dc97b72fc50dc538b4580a">MINI_GRENADE</a>;
<a name="l00717"></a>00717             usNewItem = <a class="code" href="Item_01Types_8h.html#572f9555da77e1b21f4cd40aed8d20f4b56082115d9fe14a5936f71d26e35e8e">HAND_GRENADE</a>;
<a name="l00718"></a>00718       }
<a name="l00719"></a>00719       <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( ubRemainingDifficulty &lt; 56)
<a name="l00720"></a>00720       {
<a name="l00721"></a>00721             <span class="comment">// mustard</span>
<a name="l00722"></a>00722             usOldItem = <a class="code" href="Item_01Types_8h.html#572f9555da77e1b21f4cd40aed8d20f4b56082115d9fe14a5936f71d26e35e8e">HAND_GRENADE</a>;
<a name="l00723"></a>00723             usNewItem = <a class="code" href="Item_01Types_8h.html#572f9555da77e1b21f4cd40aed8d20f439b2b9e029ead4d8caf2d19ea1065426">MUSTARD_GRENADE</a>;
<a name="l00724"></a>00724       }
<a name="l00725"></a>00725       <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( ubRemainingDifficulty &lt; 70)
<a name="l00726"></a>00726       {
<a name="l00727"></a>00727             <span class="comment">// LAW</span>
<a name="l00728"></a>00728             usOldItem = <a class="code" href="Item_01Types_8h.html#572f9555da77e1b21f4cd40aed8d20f439b2b9e029ead4d8caf2d19ea1065426">MUSTARD_GRENADE</a>;
<a name="l00729"></a>00729             usNewItem = <a class="code" href="Item_01Types_8h.html#572f9555da77e1b21f4cd40aed8d20f49d3d63879b3002ed2cfd360fc76b7270">ROCKET_LAUNCHER</a>;
<a name="l00730"></a>00730       }
<a name="l00731"></a>00731       <span class="keywordflow">else</span>
<a name="l00732"></a>00732       {
<a name="l00733"></a>00733             <span class="comment">// LAW and hand grenade </span>
<a name="l00734"></a>00734             usOldItem = NOTHING;
<a name="l00735"></a>00735             usNewItem = <a class="code" href="Item_01Types_8h.html#572f9555da77e1b21f4cd40aed8d20f4b56082115d9fe14a5936f71d26e35e8e">HAND_GRENADE</a>;
<a name="l00736"></a>00736       }
<a name="l00737"></a>00737 
<a name="l00738"></a>00738       <a class="code" href="Items_8cpp.html#5950d1252d479c6f8c5a25d86b06d889">DeleteObj</a>( &amp;Object );
<a name="l00739"></a>00739       Object.usItem = usNewItem;
<a name="l00740"></a>00740       Object.bStatus[ 0 ] = 100;
<a name="l00741"></a>00741 
<a name="l00742"></a>00742       <span class="keywordflow">for</span> ( ubLoop = 0; ubLoop &lt; NUM_ASSASSINS; ubLoop++ )
<a name="l00743"></a>00743       {
<a name="l00744"></a>00744             <span class="keywordflow">if</span> ( <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ <a class="code" href="Soldier_01Profile_8cpp.html#a6114b04dee7604d58c9c0ef1898ccd4">gubAssassins</a>[ ubLoop ] ].bMercStatus != MERC_IS_DEAD )
<a name="l00745"></a>00745             {
<a name="l00746"></a>00746                   <span class="keywordflow">if</span> ( usOldItem != NOTHING )
<a name="l00747"></a>00747                   {
<a name="l00748"></a>00748                         <a class="code" href="Items_8cpp.html#2d9760d2538e0c0cd384db82b507e3a1">RemoveObjectFromSoldierProfile</a>( <a class="code" href="Soldier_01Profile_8cpp.html#a6114b04dee7604d58c9c0ef1898ccd4">gubAssassins</a>[ ubLoop ], usOldItem );
<a name="l00749"></a>00749                   }
<a name="l00750"></a>00750                   <a class="code" href="Items_8cpp.html#42106ab668520395e6dfdbec2b96eacc">PlaceObjectInSoldierProfile</a>( <a class="code" href="Soldier_01Profile_8cpp.html#a6114b04dee7604d58c9c0ef1898ccd4">gubAssassins</a>[ ubLoop ], &amp;Object );
<a name="l00751"></a>00751             }
<a name="l00752"></a>00752       }
<a name="l00753"></a>00753 }
<a name="l00754"></a>00754 
<a name="l00755"></a><a class="code" href="Soldier_01Profile_8h.html#204af3185339658c874488c223e45fd5">00755</a> <span class="keywordtype">void</span> <a class="code" href="Soldier_01Profile_8cpp.html#204af3185339658c874488c223e45fd5">StartSomeMercsOnAssignment</a>(<span class="keywordtype">void</span>)
<a name="l00756"></a>00756 {
<a name="l00757"></a>00757       <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a> uiCnt;
<a name="l00758"></a>00758       <a class="code" href="structMERCPROFILESTRUCT.html">MERCPROFILESTRUCT</a> *pProfile;
<a name="l00759"></a>00759       <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a> uiChance;
<a name="l00760"></a>00760 
<a name="l00761"></a>00761       <span class="comment">// some randomly picked A.I.M. mercs will start off "on assignment" at the beginning of each new game</span>
<a name="l00762"></a>00762       <span class="keywordflow">for</span>( uiCnt = 0; uiCnt &lt; AIM_AND_MERC_MERCS; uiCnt++)
<a name="l00763"></a>00763       {
<a name="l00764"></a>00764             <span class="keywordflow">if</span>( !<a class="code" href="Soldier_01Profile_8cpp.html#af54d2ee589abe3a601d69ae2a995cec">IsProfileIdAnAimOrMERCMerc</a>( (<a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>)uiCnt ) )
<a name="l00765"></a>00765             {
<a name="l00766"></a>00766                   <span class="keywordflow">continue</span>;
<a name="l00767"></a>00767             }
<a name="l00768"></a>00768 
<a name="l00769"></a>00769             pProfile = &amp;(<a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ uiCnt ]);
<a name="l00770"></a>00770 
<a name="l00771"></a>00771             <span class="comment">// calc chance to start on assignment</span>
<a name="l00772"></a>00772             uiChance = 5 * pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#38902687ff41c38a4110ab7599b23f51">bExpLevel</a>;
<a name="l00773"></a>00773 
<a name="l00774"></a>00774             <span class="keywordflow">if</span> (<a class="code" href="Random_8cpp.html#49f938d1313ab6ef09ac6223a16ac334">Random</a>(100) &lt; uiChance)
<a name="l00775"></a>00775             {
<a name="l00776"></a>00776                   pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#9ec016a24fb8317378ec2dce36253b0c">bMercStatus</a> = MERC_WORKING_ELSEWHERE;
<a name="l00777"></a>00777                   pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#c36aaa23154f2678fde2c19e854dfede">uiDayBecomesAvailable</a> = 1 + <a class="code" href="Random_8cpp.html#49f938d1313ab6ef09ac6223a16ac334">Random</a>(6 + (pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#38902687ff41c38a4110ab7599b23f51">bExpLevel</a> / 2) );       <span class="comment">// 1-(6 to 11) days</span>
<a name="l00778"></a>00778             }
<a name="l00779"></a>00779             <span class="keywordflow">else</span>
<a name="l00780"></a>00780             {
<a name="l00781"></a>00781                   pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#9ec016a24fb8317378ec2dce36253b0c">bMercStatus</a> = MERC_OK;
<a name="l00782"></a>00782                   pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#c36aaa23154f2678fde2c19e854dfede">uiDayBecomesAvailable</a> = 0;
<a name="l00783"></a>00783             }
<a name="l00784"></a>00784 
<a name="l00785"></a>00785             pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#79d1556d8048e4b532524c18a46ef515">uiPrecedentQuoteSaid</a> = 0;
<a name="l00786"></a>00786             pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#45b49d9009ce0bdb32f707b2d060028a">ubDaysOfMoraleHangover</a> = 0;
<a name="l00787"></a>00787       }
<a name="l00788"></a>00788 }
<a name="l00789"></a>00789 
<a name="l00790"></a>00790 
<a name="l00791"></a><a class="code" href="Soldier_01Profile_8h.html#f28548196159baca814a47d84b12350e">00791</a> <span class="keywordtype">void</span> <a class="code" href="Soldier_01Profile_8cpp.html#f28548196159baca814a47d84b12350e">SetProfileFaceData</a>( <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubCharNum, <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubFaceIndex, <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usEyesX, <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usEyesY, <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usMouthX, <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usMouthY )
<a name="l00792"></a>00792 {
<a name="l00793"></a>00793        <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubCharNum ].<a class="code" href="structMERCPROFILESTRUCT.html#68b6e9755a8941fa7daef1e5695368a5">ubFaceIndex</a> = ubFaceIndex;
<a name="l00794"></a>00794        <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubCharNum ].<a class="code" href="structMERCPROFILESTRUCT.html#a5cf0f5776660f4a7b6c3eccd457394e">usEyesX</a>             = usEyesX;
<a name="l00795"></a>00795        <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubCharNum ].<a class="code" href="structMERCPROFILESTRUCT.html#436dbe8f48027bd36b70c1d338304d3c">usEyesY</a>             = usEyesY;
<a name="l00796"></a>00796        <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubCharNum ].<a class="code" href="structMERCPROFILESTRUCT.html#d082ee7e279cf629024eb36b3ef63708">usMouthX</a>            = usMouthX;
<a name="l00797"></a>00797        <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubCharNum ].<a class="code" href="structMERCPROFILESTRUCT.html#296d50dcbeee8bce2532091149354a97">usMouthY</a>            = usMouthY;
<a name="l00798"></a>00798 }
<a name="l00799"></a>00799 
<a name="l00800"></a><a class="code" href="Soldier_01Profile_8cpp.html#c93f7967fa03ec2c83de6bd473571572">00800</a> <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> <a class="code" href="Soldier_01Profile_8cpp.html#c93f7967fa03ec2c83de6bd473571572">CalcCompetence</a>( <a class="code" href="structMERCPROFILESTRUCT.html">MERCPROFILESTRUCT</a> * pProfile )
<a name="l00801"></a>00801 {
<a name="l00802"></a>00802       <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a> uiStats, uiSkills, uiActionPoints, uiSpecialSkills;
<a name="l00803"></a>00803       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usCompetence;
<a name="l00804"></a>00804 
<a name="l00805"></a>00805 
<a name="l00806"></a>00806       <span class="comment">// count life twice 'cause it's also hit points</span>
<a name="l00807"></a>00807       <span class="comment">// mental skills are halved 'cause they're actually not that important within the game</span>
<a name="l00808"></a>00808       uiStats = ((2 * pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#fa85b8afa8461cbbdb7eb533eed28e31">bLifeMax</a>) + pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#9fa8346f31e989f4be1ba37d847eab59">bStrength</a> + pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#bd3daf02919f8e2b0883f7f087992ac2">bAgility</a> + pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#aaab9a3e77856f91c988c009236d411b">bDexterity</a> + ((pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#57bd8d3f6cd1b8018e27a5183cc66302">bLeadership</a> + pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#8df4ce262d2419f83a35b988fd6bd3e4">bWisdom</a>) / 2)) / 3;
<a name="l00809"></a>00809 
<a name="l00810"></a>00810       <span class="comment">// marksmanship is very important, count it double</span>
<a name="l00811"></a>00811       uiSkills = (<a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>) ((2   * (pow(pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#3d5a20873d37fe66c0e7dc88b24f8ad7">bMarksmanship</a>, 3) / 10000)) +
<a name="l00812"></a>00812                                                                         1.5 * (pow(pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#71a09e46c3ceebced381a4e6ed631f71">bMedical</a>, 3) / 10000) +
<a name="l00813"></a>00813                                                                                           (pow(pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#c1d3aecec4e7639c5225510c9c087500">bMechanical</a>, 3) / 10000) +
<a name="l00814"></a>00814                                                                                           (pow(pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#55a776cd5567f3b3cf91f100413786fa">bExplosive</a>, 3) / 10000));
<a name="l00815"></a>00815 
<a name="l00816"></a>00816       <span class="comment">// action points</span>
<a name="l00817"></a>00817       uiActionPoints = 5 + (((10 * pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#38902687ff41c38a4110ab7599b23f51">bExpLevel</a> +
<a name="l00818"></a>00818                                                                                3 * pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#bd3daf02919f8e2b0883f7f087992ac2">bAgility</a>  +
<a name="l00819"></a>00819                                                                                2 * pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#fa85b8afa8461cbbdb7eb533eed28e31">bLifeMax</a>  +
<a name="l00820"></a>00820                                                                                2 * pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#aaab9a3e77856f91c988c009236d411b">bDexterity</a>) + 20) / 40);
<a name="l00821"></a>00821 
<a name="l00822"></a>00822 
<a name="l00823"></a>00823       <span class="comment">// count how many he has, don't care what they are</span>
<a name="l00824"></a>00824       uiSpecialSkills = ((pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#e7fff11096903d6599d7ff021c9ad29d">bSkillTrait</a> != 0) ? 1 : 0) + ((pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#28e21c3ba6ef3aecdf144effa20f5e49">bSkillTrait2</a> != 0) ? 1 : 0);
<a name="l00825"></a>00825 
<a name="l00826"></a>00826       usCompetence = (<a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a>) ((pow((<span class="keywordtype">double</span>)pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#38902687ff41c38a4110ab7599b23f51">bExpLevel</a>, 0.2) * uiStats * uiSkills * (uiActionPoints - 6) * (1 + (0.05 * (<a class="code" href="Types_8h.html#8d06b04c04132c6f7c0fcb08c6167455">FLOAT</a>)uiSpecialSkills))) / 1000);
<a name="l00827"></a>00827 
<a name="l00828"></a>00828       <span class="comment">// this currently varies from about 10 (Flo) to 1200 (Gus)</span>
<a name="l00829"></a>00829       <span class="keywordflow">return</span>(usCompetence);
<a name="l00830"></a>00830 }
<a name="l00831"></a>00831 
<a name="l00832"></a><a class="code" href="Soldier_01Profile_8cpp.html#9d069ae04a0215b55ae643f69034aa98">00832</a> <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> <a class="code" href="Soldier_01Profile_8cpp.html#9d069ae04a0215b55ae643f69034aa98">CalcMedicalDeposit</a>( <a class="code" href="structMERCPROFILESTRUCT.html">MERCPROFILESTRUCT</a> * pProfile )
<a name="l00833"></a>00833 {
<a name="l00834"></a>00834       <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> usDeposit;
<a name="l00835"></a>00835 
<a name="l00836"></a>00836       <span class="comment">// this rounds off to the nearest hundred</span>
<a name="l00837"></a>00837       usDeposit = (((5 * <a class="code" href="Soldier_01Profile_8cpp.html#c93f7967fa03ec2c83de6bd473571572">CalcCompetence</a>(pProfile)) + 50) / 100) * 100;
<a name="l00838"></a>00838 
<a name="l00839"></a>00839       <span class="keywordflow">return</span>(usDeposit);
<a name="l00840"></a>00840 }
<a name="l00841"></a>00841 
<a name="l00842"></a><a class="code" href="Soldier_01Profile_8h.html#2a54c4a06df8ed61529646f23682ef9d">00842</a> <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a> * <a class="code" href="Soldier_01Profile_8cpp.html#2a54c4a06df8ed61529646f23682ef9d">FindSoldierByProfileID</a>( <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubProfileID, <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> fPlayerMercsOnly )
<a name="l00843"></a>00843 {
<a name="l00844"></a>00844       <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubLoop, ubLoopLimit;
<a name="l00845"></a>00845       <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a> * <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>;
<a name="l00846"></a>00846 
<a name="l00847"></a>00847       <span class="keywordflow">if</span> (fPlayerMercsOnly)
<a name="l00848"></a>00848       {
<a name="l00849"></a>00849             ubLoopLimit = <a class="code" href="Overhead_8cpp.html#46bd754f8875c305ab18731ed10e3364">gTacticalStatus</a>.<a class="code" href="structTacticalStatusType.html#2ecddfe580bb019bc92cc4859eaf3edc">Team</a>[0].<a class="code" href="structTacticalTeamType.html#6a887279dad735dc302f21c1e559d5ce">bLastID</a>;
<a name="l00850"></a>00850       }
<a name="l00851"></a>00851       <span class="keywordflow">else</span>
<a name="l00852"></a>00852       {
<a name="l00853"></a>00853             ubLoopLimit = MAX_NUM_SOLDIERS;
<a name="l00854"></a>00854       }
<a name="l00855"></a>00855 
<a name="l00856"></a>00856       <span class="keywordflow">for</span> (ubLoop = 0, <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> = <a class="code" href="Overhead_8cpp.html#2b9a828d7d92ec404b2f9a39fc001177">MercPtrs</a>[0]; ubLoop &lt; ubLoopLimit; ubLoop++, <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>++)
<a name="l00857"></a>00857       {
<a name="l00858"></a>00858             <span class="keywordflow">if</span> (<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#653dad4e2520784e293eca9f948b8532">bActive</a> &amp;&amp; <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#5a5648a1bb3507cc41f6be199c51a3f8">ubProfile</a> == ubProfileID)
<a name="l00859"></a>00859             {
<a name="l00860"></a>00860                   <span class="keywordflow">return</span>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> );
<a name="l00861"></a>00861             }
<a name="l00862"></a>00862       }
<a name="l00863"></a>00863       <span class="keywordflow">return</span>( NULL );
<a name="l00864"></a>00864 }
<a name="l00865"></a>00865 
<a name="l00866"></a>00866 
<a name="l00867"></a>00867 
<a name="l00868"></a><a class="code" href="Soldier_01Profile_8h.html#8171c3443c71a69ac5063405876e3abe">00868</a> <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a> *<a class="code" href="Soldier_01Profile_8cpp.html#8171c3443c71a69ac5063405876e3abe">ChangeSoldierTeam</a>( <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a> *<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>, <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubTeam )
<a name="l00869"></a>00869 {
<a name="l00870"></a>00870       <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>                                                       ubID;
<a name="l00871"></a>00871       <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a>                                     *pNewSoldier = NULL;
<a name="l00872"></a>00872       <a class="code" href="structSOLDIERCREATE__STRUCT.html">SOLDIERCREATE_STRUCT</a>          MercCreateStruct;
<a name="l00873"></a>00873       <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>                                                      cnt;
<a name="l00874"></a>00874       <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a>                                                       sOldGridNo;
<a name="l00875"></a>00875 
<a name="l00876"></a>00876       <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>                                                       ubOldID;
<a name="l00877"></a>00877       <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>                                                      uiOldUniqueId;
<a name="l00878"></a>00878 
<a name="l00879"></a>00879       <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a>                                                      uiSlot;
<a name="l00880"></a>00880       <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a>                                     *pGroupMember;
<a name="l00881"></a>00881 
<a name="l00882"></a>00882       DebugMsg(<a class="code" href="DEBUG_8cpp.html#a7985c2fd033797fc67a03b2c26e07c6">TOPIC_JA2</a>,DBG_LEVEL_3,<a class="code" href="DEBUG_8cpp.html#88565bf27eec0b2003eb5bc9426b8e4b">String</a>(<span class="stringliteral">"ChangeSoldierTeam"</span>));
<a name="l00883"></a>00883 
<a name="l00884"></a>00884       <span class="keywordflow">if</span> (<a class="code" href="Interface_01Dialogue_8cpp.html#b341ced3aaefe419e0cc1e62711da1de">gfInTalkPanel</a>)
<a name="l00885"></a>00885       {
<a name="l00886"></a>00886             <a class="code" href="Interface_01Dialogue_8cpp.html#4148f63bbd3640eaaf1b781852c224bf">DeleteTalkingMenu</a>();
<a name="l00887"></a>00887       }
<a name="l00888"></a>00888 
<a name="l00889"></a>00889       <span class="comment">// Save merc id for this guy...</span>
<a name="l00890"></a>00890       ubID = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#18aef170576da81b10d00e7b6cd3627b">ubID</a>;
<a name="l00891"></a>00891 
<a name="l00892"></a>00892       ubOldID = ubID;
<a name="l00893"></a>00893       uiOldUniqueId = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#60a04bd22cd1bd105c4dfc8b474c7f77">uiUniqueSoldierIdValue</a>;
<a name="l00894"></a>00894 
<a name="l00895"></a>00895       sOldGridNo = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#2ab66ee0f37902cd448f4a738df4f2bf">sGridNo</a>;
<a name="l00896"></a>00896 
<a name="l00897"></a>00897       <span class="comment">// Remove him from the game!</span>
<a name="l00898"></a>00898       <a class="code" href="Soldier_01Create_8cpp.html#e189d2a81dbaf98fdcf29797fbfe7887">InternalTacticalRemoveSoldier</a>( ubID, FALSE );
<a name="l00899"></a>00899 
<a name="l00900"></a>00900       <span class="comment">// Create a new one!</span>
<a name="l00901"></a>00901       memset( &amp;MercCreateStruct, 0, <span class="keyword">sizeof</span>( MercCreateStruct ) );
<a name="l00902"></a>00902       MercCreateStruct.bTeam                                      = ubTeam;
<a name="l00903"></a>00903       MercCreateStruct.ubProfile                            = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#5a5648a1bb3507cc41f6be199c51a3f8">ubProfile</a>;
<a name="l00904"></a>00904       MercCreateStruct.bBodyType                            = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#b082364eed3d7883662f69e1fd96be1a">ubBodyType</a>;
<a name="l00905"></a>00905       MercCreateStruct.sSectorX                                   = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#6784346500db10daed06c2db02b855c0">sSectorX</a>;
<a name="l00906"></a>00906       MercCreateStruct.sSectorY                                   = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#6dd68e70c3000beb79e4ac45d28a0cbf">sSectorY</a>;
<a name="l00907"></a>00907       MercCreateStruct.bSectorZ                                   = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#b70b761f0405cc179c1ffba84484df28">bSectorZ</a>;
<a name="l00908"></a>00908       MercCreateStruct.sInsertionGridNo         = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#2ab66ee0f37902cd448f4a738df4f2bf">sGridNo</a>;
<a name="l00909"></a>00909       MercCreateStruct.bDirection                           = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#8aa6174a253c3fa21a3ec41ce0174340">bDirection</a>;
<a name="l00910"></a>00910 
<a name="l00911"></a>00911       <span class="keywordflow">if</span> ( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#eb633099940bc20ff5a969bce84eab42">uiStatusFlags</a> &amp; SOLDIER_VEHICLE )
<a name="l00912"></a>00912       {
<a name="l00913"></a>00913             MercCreateStruct.ubProfile                            = NO_PROFILE;
<a name="l00914"></a>00914             MercCreateStruct.fUseGivenVehicle         = TRUE;
<a name="l00915"></a>00915             MercCreateStruct.bUseGivenVehicleID = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#6b49c64abec6b8363ffa83c9cc308dd6">bVehicleID</a>;
<a name="l00916"></a>00916       }
<a name="l00917"></a>00917 
<a name="l00918"></a>00918       <span class="keywordflow">if</span> ( ubTeam == <a class="code" href="Campaign_8cpp.html#47b2067ff75193e24776eda5297400ff">gbPlayerNum</a> )
<a name="l00919"></a>00919       {
<a name="l00920"></a>00920             MercCreateStruct.fPlayerMerc = TRUE;
<a name="l00921"></a>00921       }
<a name="l00922"></a>00922 
<a name="l00923"></a>00923       <span class="keywordflow">if</span> ( <a class="code" href="Soldier_01Create_8cpp.html#9012dd4ad15957a14b023ae9fee7c862">TacticalCreateSoldier</a>( &amp;MercCreateStruct, &amp;ubID ) )
<a name="l00924"></a>00924       {
<a name="l00925"></a>00925             pNewSoldier = <a class="code" href="Overhead_8cpp.html#2b9a828d7d92ec404b2f9a39fc001177">MercPtrs</a>[ ubID ];
<a name="l00926"></a>00926 
<a name="l00927"></a>00927             <span class="comment">// Copy vital stats back!</span>
<a name="l00928"></a>00928             pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#e308dea18533bf5ab2bcee5bbe27391c">bLife</a>                                                                              = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#e308dea18533bf5ab2bcee5bbe27391c">bLife</a>;
<a name="l00929"></a>00929             pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#600d382f89a391cdeb7bfe2580776866">bLifeMax</a>                                                                     = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#600d382f89a391cdeb7bfe2580776866">bLifeMax</a>;
<a name="l00930"></a>00930             pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#9e00ffce9fab366b226d73f77609c2f4">bAgility</a>                                                                     = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#9e00ffce9fab366b226d73f77609c2f4">bAgility</a>;
<a name="l00931"></a>00931             pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#fd2d5a6ae419aeca68111c22f755974a">bLeadership</a>                                                            = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#fd2d5a6ae419aeca68111c22f755974a">bLeadership</a>;
<a name="l00932"></a>00932             pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#a6681185ba941c3a7bc8163310182478">bDexterity</a>                                                             = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#a6681185ba941c3a7bc8163310182478">bDexterity</a>;
<a name="l00933"></a>00933             pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#66c3be01391ae0f34be79031a4e0f436">bStrength</a>                                                              = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#66c3be01391ae0f34be79031a4e0f436">bStrength</a>;
<a name="l00934"></a>00934             pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#4e9c2ad5d84963b9a6fc6f092bed8638">bWisdom</a>                                                                      = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#4e9c2ad5d84963b9a6fc6f092bed8638">bWisdom</a>;
<a name="l00935"></a>00935             pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#0becb3b2a6e15a9c7d60749a341aef38">bExpLevel</a>                                                              = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#0becb3b2a6e15a9c7d60749a341aef38">bExpLevel</a>;
<a name="l00936"></a>00936             pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#7a9a17a9aff519efd7423c6b11cdb046">bMarksmanship</a>                                                    = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#7a9a17a9aff519efd7423c6b11cdb046">bMarksmanship</a>;
<a name="l00937"></a>00937             pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#4035959182260cd84762a7e786a4c57b">bMedical</a>                                                                     = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#4035959182260cd84762a7e786a4c57b">bMedical</a>;
<a name="l00938"></a>00938             pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#e527422adc5995d88b63f12b4dd9c38c">bMechanical</a>                                                            = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#e527422adc5995d88b63f12b4dd9c38c">bMechanical</a>;
<a name="l00939"></a>00939             pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#1f8366811489062f9af672734c3e87f8">bExplosive</a>                                                             = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#1f8366811489062f9af672734c3e87f8">bExplosive</a>;
<a name="l00940"></a>00940             pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#807d674cf2ed059d28d0efdbc102291a">bScientific</a>                                                            = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#807d674cf2ed059d28d0efdbc102291a">bScientific</a>;
<a name="l00941"></a>00941             pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#a241a93ffddc42954bb878f9bcf4392c">bLastRenderVisibleValue</a>                        = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#a241a93ffddc42954bb878f9bcf4392c">bLastRenderVisibleValue</a>;
<a name="l00942"></a>00942             pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#73246323764393ce2a5ece7fcb7b7cf8">bVisible</a>                                                                     = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#73246323764393ce2a5ece7fcb7b7cf8">bVisible</a>;
<a name="l00943"></a>00943 
<a name="l00944"></a>00944             <span class="keywordflow">if</span> ( ubTeam == <a class="code" href="Campaign_8cpp.html#47b2067ff75193e24776eda5297400ff">gbPlayerNum</a> )
<a name="l00945"></a>00945             {
<a name="l00946"></a>00946                   pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#73246323764393ce2a5ece7fcb7b7cf8">bVisible</a>                                                               = 1;
<a name="l00947"></a>00947             }
<a name="l00948"></a>00948 
<a name="l00949"></a>00949             <span class="comment">// Copy over any items....</span>
<a name="l00950"></a>00950             <span class="keywordflow">for</span> ( cnt = 0; cnt &lt; <a class="code" href="Soldier_01Control_8h.html#2a5937706f1724c8f06a0396bdc878553e9a668bdf9e2a72b855424ee1bdabcf">NUM_INV_SLOTS</a>; cnt++ )
<a name="l00951"></a>00951             {
<a name="l00952"></a>00952                   pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#13c875b952b6d634680165d127a9870b">inv</a>[ cnt ] = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#13c875b952b6d634680165d127a9870b">inv</a>[ cnt ];
<a name="l00953"></a>00953             }
<a name="l00954"></a>00954 
<a name="l00955"></a>00955             <span class="comment">// OK, loop through all active merc slots, change</span>
<a name="l00956"></a>00956             <span class="comment">// Change ANY attacker's target if they were once on this guy.....</span>
<a name="l00957"></a>00957             <span class="keywordflow">for</span> ( uiSlot = 0; uiSlot &lt; <a class="code" href="Overhead_8cpp.html#d627c552ede524c66140f3410174d3d4">guiNumMercSlots</a>; uiSlot++ )
<a name="l00958"></a>00958             {
<a name="l00959"></a>00959                   pGroupMember = <a class="code" href="Overhead_8cpp.html#b139938f6b836645dd67972944d21bf3">MercSlots</a>[ uiSlot ];
<a name="l00960"></a>00960 
<a name="l00961"></a>00961                   <span class="keywordflow">if</span> ( pGroupMember != NULL )
<a name="l00962"></a>00962                   {
<a name="l00963"></a>00963                         <span class="keywordflow">if</span> ( pGroupMember-&gt;<a class="code" href="structSOLDIERTYPE.html#f9fbe88de500cfce55e233298ada29e4">ubTargetID</a> == <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#18aef170576da81b10d00e7b6cd3627b">ubID</a> )
<a name="l00964"></a>00964                         {
<a name="l00965"></a>00965                               pGroupMember-&gt;<a class="code" href="structSOLDIERTYPE.html#f9fbe88de500cfce55e233298ada29e4">ubTargetID</a> = pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#18aef170576da81b10d00e7b6cd3627b">ubID</a>;
<a name="l00966"></a>00966                         }
<a name="l00967"></a>00967                   }
<a name="l00968"></a>00968             }
<a name="l00969"></a>00969             
<a name="l00970"></a>00970 
<a name="l00971"></a>00971             <span class="comment">// Set insertion gridNo</span>
<a name="l00972"></a>00972             pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#283a83957f575bd5bcbdce773ec07ae7">sInsertionGridNo</a>                                           = sOldGridNo;
<a name="l00973"></a>00973 
<a name="l00974"></a>00974             <span class="keywordflow">if</span> ( <a class="code" href="Soldier_01Profile_8cpp.html#e3f3df87e21a149013294e4abf66bf60">gfPotentialTeamChangeDuringDeath</a> )
<a name="l00975"></a>00975             {
<a name="l00976"></a>00976                   <a class="code" href="Soldier_01Ani_8cpp.html#9620717b03067fa2a2c58e119c103ab6">HandleCheckForDeathCommonCode</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> );
<a name="l00977"></a>00977             }
<a name="l00978"></a>00978 
<a name="l00979"></a>00979             <span class="keywordflow">if</span> ( <a class="code" href="Map_01Information_8cpp.html#0d739dcb74321d819ef2bfcb1eb5a669">gfWorldLoaded</a> &amp;&amp;  <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#b0096f321a0de4f0617283f7b3212aa0">bInSector</a> 
<a name="l00980"></a>00980             <span class="comment">//pSoldier-&gt;sSectorX == gWorldSectorX &amp;&amp; pSoldier-&gt;sSectorY == gWorldSectorY &amp;&amp; pSoldier-&gt;bSectorZ == gbWorldSectorZ</span>
<a name="l00981"></a>00981              )
<a name="l00982"></a>00982             {
<a name="l00983"></a>00983                   <a class="code" href="Soldier_01Add_8cpp.html#637195c52a19e0e6d426ef488c7eb840">AddSoldierToSectorNoCalculateDirectionUseAnimation</a>( ubID, <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#1f73b62a5ea0dd26fa1bec1d9f522b41">usAnimState</a>, <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#d1221226402ff4b54671e0142ec90cd6">usAniCode</a> );
<a name="l00984"></a>00984                   <a class="code" href="opplist_8cpp.html#84caab6b3c04128593b43316bfdfdf43">HandleSight</a>(pNewSoldier, SIGHT_LOOK | SIGHT_RADIO);
<a name="l00985"></a>00985             }
<a name="l00986"></a>00986 
<a name="l00987"></a>00987             <span class="comment">// fix up the event queue...</span>
<a name="l00988"></a>00988       <span class="comment">//    ChangeSoldierIDInQueuedEvents( ubOldID, uiOldUniqueId, pNewSoldier-&gt;ubID, pNewSoldier-&gt;uiUniqueSoldierIdValue );</span>
<a name="l00989"></a>00989 
<a name="l00990"></a>00990             <span class="keywordflow">if</span> ( pNewSoldier-&gt;ubProfile != NO_PROFILE )           
<a name="l00991"></a>00991             {
<a name="l00992"></a>00992                   <a class="code" href="Soldier_01Ani_8cpp.html#c294aa65f0375eb6343a2de2a25dafcc">if</a> ( ubTeam == <a class="code" href="Campaign_8cpp.html#47b2067ff75193e24776eda5297400ff">gbPlayerNum</a> )
<a name="l00993"></a>00993                   {
<a name="l00994"></a>00994                         <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ pNewSoldier-&gt;ubProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#ba6784590fd16294fae9305dc86e0391">ubMiscFlags</a> |= PROFILE_MISC_FLAG_RECRUITED;
<a name="l00995"></a>00995                   }
<a name="l00996"></a>00996                   <span class="keywordflow">else</span>
<a name="l00997"></a>00997                   {
<a name="l00998"></a>00998                         <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ pNewSoldier-&gt;ubProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#ba6784590fd16294fae9305dc86e0391">ubMiscFlags</a> &amp;= (~PROFILE_MISC_FLAG_RECRUITED);
<a name="l00999"></a>00999                   }
<a name="l01000"></a>01000             }
<a name="l01001"></a>01001 
<a name="l01002"></a>01002       }
<a name="l01003"></a>01003 
<a name="l01004"></a>01004       <span class="comment">// AT the low level check if this poor guy is in inv panel, else</span>
<a name="l01005"></a>01005       <span class="comment">// remove....</span>
<a name="l01006"></a>01006       <span class="keywordflow">if</span> ( <a class="code" href="Faces_8cpp.html#0f11b97eafe682514e8726fc188175d8">gsCurInterfacePanel</a> == <a class="code" href="Interface_8h.html#366cb4f305f8652d6d094e461a23d775c90c5ecb7d874ea2eb00e496d8983740">SM_PANEL</a> &amp;&amp; <a class="code" href="SaveLoadGame_8cpp.html#ee8e18fad6e587da68fe8268974b10b1">gpSMCurrentMerc</a> == <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> )
<a name="l01007"></a>01007       {
<a name="l01008"></a>01008             <span class="comment">// Switch....</span>
<a name="l01009"></a>01009             <a class="code" href="Interface_8cpp.html#edc512850cb730e5501105e3de43b213">SetCurrentInterfacePanel</a>( <a class="code" href="Interface_8h.html#366cb4f305f8652d6d094e461a23d775565a7cf4953add143c5fea45076abc43">TEAM_PANEL</a> );
<a name="l01010"></a>01010       }
<a name="l01011"></a>01011 
<a name="l01012"></a>01012       <span class="keywordflow">return</span>( pNewSoldier );
<a name="l01013"></a>01013 }
<a name="l01014"></a>01014 
<a name="l01015"></a>01015 
<a name="l01016"></a><a class="code" href="Soldier_01Profile_8h.html#6ed00ae629c4c55a4fe9a87cb638cda0">01016</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> <a class="code" href="Soldier_01Profile_8cpp.html#6ed00ae629c4c55a4fe9a87cb638cda0">RecruitRPC</a>( <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubCharNum )
<a name="l01017"></a>01017 {
<a name="l01018"></a>01018       <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a> *<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>, *pNewSoldier;
<a name="l01019"></a>01019 
<a name="l01020"></a>01020       <span class="comment">// Get soldier pointer</span>
<a name="l01021"></a>01021       <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> = <a class="code" href="Soldier_01Profile_8cpp.html#2a54c4a06df8ed61529646f23682ef9d">FindSoldierByProfileID</a>( ubCharNum, FALSE );
<a name="l01022"></a>01022 
<a name="l01023"></a>01023       <span class="keywordflow">if</span> (!<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>)
<a name="l01024"></a>01024       {
<a name="l01025"></a>01025             <span class="keywordflow">return</span>( FALSE );
<a name="l01026"></a>01026       }
<a name="l01027"></a>01027 
<a name="l01028"></a>01028       <span class="comment">// OK, set recruit flag..</span>
<a name="l01029"></a>01029       <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubCharNum ].<a class="code" href="structMERCPROFILESTRUCT.html#ba6784590fd16294fae9305dc86e0391">ubMiscFlags</a> |= PROFILE_MISC_FLAG_RECRUITED;
<a name="l01030"></a>01030 
<a name="l01031"></a>01031       <span class="comment">// Add this guy to our team!</span>
<a name="l01032"></a>01032       pNewSoldier = <a class="code" href="Soldier_01Profile_8cpp.html#8171c3443c71a69ac5063405876e3abe">ChangeSoldierTeam</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>, <a class="code" href="Campaign_8cpp.html#47b2067ff75193e24776eda5297400ff">gbPlayerNum</a> );
<a name="l01033"></a>01033 
<a name="l01034"></a>01034       <span class="comment">// handle set up any RPC's that will leave us in time</span>
<a name="l01035"></a>01035       <span class="keywordflow">if</span> ( ubCharNum == <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa16fdbd42950596fda948b4caabe34d053">SLAY</a> )
<a name="l01036"></a>01036       {
<a name="l01037"></a>01037             <span class="comment">// slay will leave in a week</span>
<a name="l01038"></a>01038             pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#6cfa32d870eef9b0b0747903ce1a562b">iEndofContractTime</a> = <a class="code" href="Game_01Clock_8cpp.html#4d255e800fba4d64144a7639d5f3421d">GetWorldTotalMin</a>() + ( 7 * 24 * 60 );
<a name="l01039"></a>01039 
<a name="l01040"></a>01040             <a class="code" href="Soldier_01Ani_8cpp.html#e45c413ed609ec330c7ebfb712f9c6b0">KickOutWheelchair</a>( pNewSoldier );
<a name="l01041"></a>01041       }
<a name="l01042"></a>01042       <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( ubCharNum == <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa146966aa302660799785f9815526d9d9a">DYNAMO</a> &amp;&amp; <a class="code" href="Quests_8cpp.html#b371f5479136d9c6e6debcb700a5c809">gubQuest</a>[ <a class="code" href="Quests_8h.html#2f2591166460d6d958c50f3317939e228c18fc216c96a9d1001cf2f2671c83ab">QUEST_FREE_DYNAMO</a> ] == QUESTINPROGRESS )
<a name="l01043"></a>01043       {
<a name="l01044"></a>01044             <a class="code" href="Quests_8cpp.html#f692eb37d514044c56e66c65c84805aa">EndQuest</a>( <a class="code" href="Quests_8h.html#2f2591166460d6d958c50f3317939e228c18fc216c96a9d1001cf2f2671c83ab">QUEST_FREE_DYNAMO</a>, <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#6784346500db10daed06c2db02b855c0">sSectorX</a>, <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#6dd68e70c3000beb79e4ac45d28a0cbf">sSectorY</a> );
<a name="l01045"></a>01045       }
<a name="l01046"></a>01046       <span class="comment">// handle town loyalty adjustment</span>
<a name="l01047"></a>01047       <a class="code" href="Strategic_01Town_01Loyalty_8cpp.html#5159f18f5e878c5a0050293243b54d64">HandleTownLoyaltyForNPCRecruitment</a>( pNewSoldier );
<a name="l01048"></a>01048 
<a name="l01049"></a>01049       <span class="comment">// Try putting them into the current squad</span>
<a name="l01050"></a>01050       <span class="keywordflow">if</span> ( <a class="code" href="Squads_8cpp.html#87237662e4c1ce49f4650a422a803611">AddCharacterToSquad</a>( pNewSoldier, (<a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>)<a class="code" href="Squads_8cpp.html#7b191255333292b85d3e366c8def7a21">CurrentSquad</a>( ) ) == FALSE )
<a name="l01051"></a>01051       {
<a name="l01052"></a>01052             <a class="code" href="Squads_8cpp.html#973400d8c6a4a6c9cf19a14a933131ce">AddCharacterToAnySquad</a>( pNewSoldier );
<a name="l01053"></a>01053       }
<a name="l01054"></a>01054 
<a name="l01055"></a>01055   <a class="code" href="Squads_8cpp.html#afbc97de26331a4d281f5de0a283dc33">ResetDeadSquadMemberList</a>( pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#4269b53195147b458cd1e6874429734b">bAssignment</a> );
<a name="l01056"></a>01056 
<a name="l01057"></a>01057       <a class="code" href="Interface_8cpp.html#8a607488839071ed48da8a73aeaad595">DirtyMercPanelInterface</a>( pNewSoldier, DIRTYLEVEL2 );
<a name="l01058"></a>01058 
<a name="l01059"></a>01059       <span class="keywordflow">if</span> ( pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#13c875b952b6d634680165d127a9870b">inv</a>[ <a class="code" href="Soldier_01Control_8h.html#2a5937706f1724c8f06a0396bdc87855408e678e638d95e18d5e9a2a64a96e2e">HANDPOS</a> ].usItem == NOTHING )
<a name="l01060"></a>01060       {
<a name="l01061"></a>01061             <span class="comment">// empty handed - swap in first available weapon</span>
<a name="l01062"></a>01062             <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>        bSlot;
<a name="l01063"></a>01063 
<a name="l01064"></a>01064             bSlot = <a class="code" href="Items_8cpp.html#f5293edc5d024f691f934926aa9034f9">FindObjClass</a>( pNewSoldier, IC_WEAPON );
<a name="l01065"></a>01065             <span class="keywordflow">if</span> ( bSlot != NO_SLOT )
<a name="l01066"></a>01066             {
<a name="l01067"></a>01067 <span class="comment">//                if ( Item[ pNewSoldier-&gt;inv[ bSlot ].usItem ].fFlags &amp; ITEM_TWO_HANDED )</span>
<a name="l01068"></a>01068                   <span class="keywordflow">if</span> ( <a class="code" href="Item_01Types_8h.html#f9dc4cc7a3a99ad5944940cfb7c82237">Item</a>[ pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#13c875b952b6d634680165d127a9870b">inv</a>[ bSlot ].<a class="code" href="structOBJECTTYPE.html#4fbe05335f161f08f354566b8e5a0a19">usItem</a> ].twohanded )
<a name="l01069"></a>01069                   {
<a name="l01070"></a>01070                         <span class="keywordflow">if</span> ( bSlot != <a class="code" href="Soldier_01Control_8h.html#2a5937706f1724c8f06a0396bdc87855009684dc553cebead620fa082b29cb86">SECONDHANDPOS</a> &amp;&amp; pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#13c875b952b6d634680165d127a9870b">inv</a>[ <a class="code" href="Soldier_01Control_8h.html#2a5937706f1724c8f06a0396bdc87855009684dc553cebead620fa082b29cb86">SECONDHANDPOS</a> ].usItem != NOTHING )
<a name="l01071"></a>01071                         {
<a name="l01072"></a>01072                               <span class="comment">// need to move second hand item out first</span>
<a name="l01073"></a>01073                               <a class="code" href="Items_8cpp.html#b0cdccd7f510d5464ab386cb5b69c28f">AutoPlaceObject</a>( pNewSoldier, &amp;(pNewSoldier-&gt;inv[ <a class="code" href="Soldier_01Control_8h.html#2a5937706f1724c8f06a0396bdc87855009684dc553cebead620fa082b29cb86">SECONDHANDPOS</a> ]), FALSE );                          
<a name="l01074"></a>01074                         }
<a name="l01075"></a>01075                   }
<a name="l01076"></a>01076                   <span class="comment">// swap item to hand</span>
<a name="l01077"></a>01077                   <a class="code" href="Items_8cpp.html#868d76c3162b1966f2d8672224a3e07b">SwapObjs</a>( &amp;(pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#13c875b952b6d634680165d127a9870b">inv</a>[ bSlot ]), &amp;(pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#13c875b952b6d634680165d127a9870b">inv</a>[ <a class="code" href="Soldier_01Control_8h.html#2a5937706f1724c8f06a0396bdc87855408e678e638d95e18d5e9a2a64a96e2e">HANDPOS</a> ]) );
<a name="l01078"></a>01078             }
<a name="l01079"></a>01079       }
<a name="l01080"></a>01080 
<a name="l01081"></a>01081       <span class="keywordflow">if</span> ( ubCharNum == <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa1067c1dfa5d306911957f0b3e36783c47">IRA</a> )
<a name="l01082"></a>01082       {
<a name="l01083"></a>01083             <span class="comment">// trigger 0th PCscript line</span>
<a name="l01084"></a>01084             <a class="code" href="NPC_8cpp.html#83d84c9096b10dafd853138a5492552d">TriggerNPCRecord</a>( <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa1067c1dfa5d306911957f0b3e36783c47">IRA</a>, 0 );
<a name="l01085"></a>01085       }
<a name="l01086"></a>01086 
<a name="l01087"></a>01087       <span class="comment">// Set whatkind of merc am i</span>
<a name="l01088"></a>01088       pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#ebe9c50f2c727b34d3495abdfb8d8da2">ubWhatKindOfMercAmI</a> = <a class="code" href="Soldier_01Control_8h.html#7c35be1de655e733eaac059ccd76f79650475bc74bb69ee95ddbdeb9a34eec50">MERC_TYPE__NPC</a>;
<a name="l01089"></a>01089 
<a name="l01090"></a>01090 
<a name="l01091"></a>01091       <span class="comment">//</span>
<a name="l01092"></a>01092       <span class="comment">//add a history log that tells the user that a npc has joined the team</span>
<a name="l01093"></a>01093       <span class="comment">//</span>
<a name="l01094"></a>01094       <span class="comment">// ( pass in pNewSoldier-&gt;sSectorX cause if its invalid, -1, n/a will appear as the sector in the history log )</span>
<a name="l01095"></a>01095       <a class="code" href="history_8cpp.html#1c2cf05b6c7bafb693481f84d1fd80ae">AddHistoryToPlayersLog</a>( <a class="code" href="history_8h.html#70ad55be767ca0a42c9150d24618e4caced320e22cd50abaa53d4ea5fa54f50a">HISTORY_RPC_JOINED_TEAM</a>, pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#5a5648a1bb3507cc41f6be199c51a3f8">ubProfile</a>, <a class="code" href="Game_01Clock_8cpp.html#4d255e800fba4d64144a7639d5f3421d">GetWorldTotalMin</a>(), pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#6784346500db10daed06c2db02b855c0">sSectorX</a>, pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#6dd68e70c3000beb79e4ac45d28a0cbf">sSectorY</a> );
<a name="l01096"></a>01096 
<a name="l01097"></a>01097 
<a name="l01098"></a>01098       <span class="comment">//remove the merc from the Personnel screens departed list ( if they have never been hired before, its ok to call it )</span>
<a name="l01099"></a>01099       <a class="code" href="personnel_8cpp.html#757952b28a1e9b637abc9ee1194c7432">RemoveNewlyHiredMercFromPersonnelDepartedList</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#5a5648a1bb3507cc41f6be199c51a3f8">ubProfile</a> );
<a name="l01100"></a>01100 
<a name="l01101"></a>01101       <span class="keywordflow">return</span>( TRUE );
<a name="l01102"></a>01102 }
<a name="l01103"></a>01103 
<a name="l01104"></a><a class="code" href="Soldier_01Profile_8h.html#0a11afef4ef7a9d01a1fc16e3b4280aa">01104</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> <a class="code" href="Soldier_01Profile_8cpp.html#0a11afef4ef7a9d01a1fc16e3b4280aa">RecruitEPC</a>( <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubCharNum )
<a name="l01105"></a>01105 {
<a name="l01106"></a>01106       <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a> *<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>, *pNewSoldier;
<a name="l01107"></a>01107 
<a name="l01108"></a>01108       <span class="comment">// Get soldier pointer</span>
<a name="l01109"></a>01109       <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> = <a class="code" href="Soldier_01Profile_8cpp.html#2a54c4a06df8ed61529646f23682ef9d">FindSoldierByProfileID</a>( ubCharNum, FALSE );
<a name="l01110"></a>01110 
<a name="l01111"></a>01111       <span class="keywordflow">if</span> (!<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>)
<a name="l01112"></a>01112       {
<a name="l01113"></a>01113             <span class="keywordflow">return</span>( FALSE );
<a name="l01114"></a>01114       }
<a name="l01115"></a>01115 
<a name="l01116"></a>01116       <span class="comment">// OK, set recruit flag..</span>
<a name="l01117"></a>01117       <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubCharNum ].<a class="code" href="structMERCPROFILESTRUCT.html#ba6784590fd16294fae9305dc86e0391">ubMiscFlags</a> |= PROFILE_MISC_FLAG_EPCACTIVE;
<a name="l01118"></a>01118 
<a name="l01119"></a>01119       <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubCharNum ].<a class="code" href="structMERCPROFILESTRUCT.html#ef69000d93333be8514a29b0ad500888">ubMiscFlags3</a> &amp;= ~PROFILE_MISC_FLAG3_PERMANENT_INSERTION_CODE;
<a name="l01120"></a>01120 
<a name="l01121"></a>01121       <span class="comment">// Add this guy to our team!</span>
<a name="l01122"></a>01122       pNewSoldier = <a class="code" href="Soldier_01Profile_8cpp.html#8171c3443c71a69ac5063405876e3abe">ChangeSoldierTeam</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>, <a class="code" href="Campaign_8cpp.html#47b2067ff75193e24776eda5297400ff">gbPlayerNum</a> );
<a name="l01123"></a>01123       pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#ebe9c50f2c727b34d3495abdfb8d8da2">ubWhatKindOfMercAmI</a> = <a class="code" href="Soldier_01Control_8h.html#7c35be1de655e733eaac059ccd76f796c7d0a280460a9199e94e9f48680f9d2e">MERC_TYPE__EPC</a>;
<a name="l01124"></a>01124 
<a name="l01125"></a>01125       <span class="comment">// Try putting them into the current squad</span>
<a name="l01126"></a>01126       <span class="keywordflow">if</span> ( <a class="code" href="Squads_8cpp.html#87237662e4c1ce49f4650a422a803611">AddCharacterToSquad</a>( pNewSoldier, (<a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>)<a class="code" href="Squads_8cpp.html#7b191255333292b85d3e366c8def7a21">CurrentSquad</a>( ) ) == FALSE )
<a name="l01127"></a>01127       {
<a name="l01128"></a>01128             <a class="code" href="Squads_8cpp.html#973400d8c6a4a6c9cf19a14a933131ce">AddCharacterToAnySquad</a>( pNewSoldier );
<a name="l01129"></a>01129       }
<a name="l01130"></a>01130 
<a name="l01131"></a>01131   <a class="code" href="Squads_8cpp.html#afbc97de26331a4d281f5de0a283dc33">ResetDeadSquadMemberList</a>( pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#4269b53195147b458cd1e6874429734b">bAssignment</a> );
<a name="l01132"></a>01132 
<a name="l01133"></a>01133       <a class="code" href="Interface_8cpp.html#8a607488839071ed48da8a73aeaad595">DirtyMercPanelInterface</a>( pNewSoldier, DIRTYLEVEL2 );
<a name="l01134"></a>01134       <span class="comment">// Make the interface panel dirty..</span>
<a name="l01135"></a>01135       <span class="comment">// This will dirty the panel next frame...</span>
<a name="l01136"></a>01136       <a class="code" href="Dialogue_01Control_8cpp.html#6b5abc77b137e1582dc06bb826f22a0d">gfRerenderInterfaceFromHelpText</a> = TRUE;
<a name="l01137"></a>01137 
<a name="l01138"></a>01138 
<a name="l01139"></a>01139       <span class="comment">// If we are a robot, look to update controller....</span>
<a name="l01140"></a>01140       <span class="keywordflow">if</span> ( pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#eb633099940bc20ff5a969bce84eab42">uiStatusFlags</a> &amp; SOLDIER_ROBOT )
<a name="l01141"></a>01141       {
<a name="l01142"></a>01142             <a class="code" href="Soldier_01Control_8cpp.html#63cb29b0b7581a7df92496f6746d7766">UpdateRobotControllerGivenRobot</a>( pNewSoldier );
<a name="l01143"></a>01143       }
<a name="l01144"></a>01144 
<a name="l01145"></a>01145       <span class="comment">// Set whatkind of merc am i</span>
<a name="l01146"></a>01146       pNewSoldier-&gt;<a class="code" href="structSOLDIERTYPE.html#ebe9c50f2c727b34d3495abdfb8d8da2">ubWhatKindOfMercAmI</a> = <a class="code" href="Soldier_01Control_8h.html#7c35be1de655e733eaac059ccd76f796c7d0a280460a9199e94e9f48680f9d2e">MERC_TYPE__EPC</a>;
<a name="l01147"></a>01147 
<a name="l01148"></a>01148   <a class="code" href="gamescreen_8cpp.html#cdf6a8f6a7ed95c12a9a5870d0df7002">UpdateTeamPanelAssignments</a>( );
<a name="l01149"></a>01149 
<a name="l01150"></a>01150       <span class="keywordflow">return</span>( TRUE );
<a name="l01151"></a>01151 }
<a name="l01152"></a>01152 
<a name="l01153"></a>01153 
<a name="l01154"></a><a class="code" href="Soldier_01Profile_8h.html#1f32a8e472c43704600c839c26c02dfe">01154</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> <a class="code" href="Soldier_01Profile_8cpp.html#1f32a8e472c43704600c839c26c02dfe">UnRecruitEPC</a>( <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubCharNum )
<a name="l01155"></a>01155 {
<a name="l01156"></a>01156       <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a> *<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>, *pNewSoldier;
<a name="l01157"></a>01157 
<a name="l01158"></a>01158       <span class="comment">// Get soldier pointer</span>
<a name="l01159"></a>01159       <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> = <a class="code" href="Soldier_01Profile_8cpp.html#2a54c4a06df8ed61529646f23682ef9d">FindSoldierByProfileID</a>( ubCharNum, FALSE );
<a name="l01160"></a>01160 
<a name="l01161"></a>01161       <span class="keywordflow">if</span> (!<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>)
<a name="l01162"></a>01162       {
<a name="l01163"></a>01163             <span class="keywordflow">return</span>( FALSE );
<a name="l01164"></a>01164       }
<a name="l01165"></a>01165 
<a name="l01166"></a>01166       <span class="keywordflow">if</span> (<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#ebe9c50f2c727b34d3495abdfb8d8da2">ubWhatKindOfMercAmI</a> != <a class="code" href="Soldier_01Control_8h.html#7c35be1de655e733eaac059ccd76f796c7d0a280460a9199e94e9f48680f9d2e">MERC_TYPE__EPC</a>)
<a name="l01167"></a>01167       {
<a name="l01168"></a>01168             <span class="keywordflow">return</span>( FALSE );
<a name="l01169"></a>01169       }
<a name="l01170"></a>01170 
<a name="l01171"></a>01171   <span class="keywordflow">if</span> ( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#4269b53195147b458cd1e6874429734b">bAssignment</a> &lt; <a class="code" href="Assignments_8h.html#16db4876b192da08f3ad0cb41afe516fd7123deb063a379062f08a16a7bfa242">ON_DUTY</a> )
<a name="l01172"></a>01172   {
<a name="l01173"></a>01173     <a class="code" href="Squads_8cpp.html#afbc97de26331a4d281f5de0a283dc33">ResetDeadSquadMemberList</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#4269b53195147b458cd1e6874429734b">bAssignment</a> );
<a name="l01174"></a>01174   }
<a name="l01175"></a>01175 
<a name="l01176"></a>01176       <span class="comment">// Rmeove from squad....</span>
<a name="l01177"></a>01177       <a class="code" href="Squads_8cpp.html#2586d9acf930218a33a0d83ac760c240">RemoveCharacterFromSquads</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> );
<a name="l01178"></a>01178 
<a name="l01179"></a>01179       <span class="comment">// O&lt; check if this is the only guy in the sector....</span>
<a name="l01180"></a>01180       <span class="keywordflow">if</span> ( <a class="code" href="Interface_01Utils_8cpp.html#07d83e717b98bc3cf6628f0bb9bc9205">gusSelectedSoldier</a> == <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#18aef170576da81b10d00e7b6cd3627b">ubID</a> )
<a name="l01181"></a>01181       {
<a name="l01182"></a>01182             <a class="code" href="Interface_01Utils_8cpp.html#07d83e717b98bc3cf6628f0bb9bc9205">gusSelectedSoldier</a> = NOBODY;
<a name="l01183"></a>01183       }
<a name="l01184"></a>01184 
<a name="l01185"></a>01185       <span class="comment">// OK, UN set recruit flag..</span>
<a name="l01186"></a>01186       <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubCharNum ].<a class="code" href="structMERCPROFILESTRUCT.html#ba6784590fd16294fae9305dc86e0391">ubMiscFlags</a> &amp;= (~PROFILE_MISC_FLAG_EPCACTIVE);
<a name="l01187"></a>01187 
<a name="l01188"></a>01188       <span class="comment">// update sector values to current</span>
<a name="l01189"></a>01189 
<a name="l01190"></a>01190       <span class="comment">// check to see if this person should disappear from the map after this</span>
<a name="l01191"></a>01191       <span class="keywordflow">if</span> ( (ubCharNum == <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa191b19890387395885dac2ce86f48b2c6">JOHN</a> || ubCharNum == <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa1fd60c476c5f004cd631e38dfb63233e9">MARY</a>) &amp;&amp; <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#6784346500db10daed06c2db02b855c0">sSectorX</a> == 13 &amp;&amp; <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#6dd68e70c3000beb79e4ac45d28a0cbf">sSectorY</a> == MAP_ROW_B &amp;&amp; <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#b70b761f0405cc179c1ffba84484df28">bSectorZ</a> == 0 )
<a name="l01192"></a>01192       {
<a name="l01193"></a>01193             <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubCharNum ].<a class="code" href="structMERCPROFILESTRUCT.html#b0d6f66ec41a0d9c87fbc03dd9fed965">sSectorX</a> = 0;
<a name="l01194"></a>01194             <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubCharNum ].<a class="code" href="structMERCPROFILESTRUCT.html#e3caff1f000b3ed3c382e8a1f0d5fdbc">sSectorY</a> = 0;
<a name="l01195"></a>01195             <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubCharNum ].<a class="code" href="structMERCPROFILESTRUCT.html#9dfd2271b790d94f55f142e71ab18065">bSectorZ</a> = 0;
<a name="l01196"></a>01196       }
<a name="l01197"></a>01197       <span class="keywordflow">else</span>
<a name="l01198"></a>01198       {
<a name="l01199"></a>01199             <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubCharNum ].<a class="code" href="structMERCPROFILESTRUCT.html#b0d6f66ec41a0d9c87fbc03dd9fed965">sSectorX</a> = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#6784346500db10daed06c2db02b855c0">sSectorX</a>;
<a name="l01200"></a>01200             <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubCharNum ].<a class="code" href="structMERCPROFILESTRUCT.html#e3caff1f000b3ed3c382e8a1f0d5fdbc">sSectorY</a> = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#6dd68e70c3000beb79e4ac45d28a0cbf">sSectorY</a>;
<a name="l01201"></a>01201             <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubCharNum ].<a class="code" href="structMERCPROFILESTRUCT.html#9dfd2271b790d94f55f142e71ab18065">bSectorZ</a> = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#b70b761f0405cc179c1ffba84484df28">bSectorZ</a>;
<a name="l01202"></a>01202       }
<a name="l01203"></a>01203 
<a name="l01204"></a>01204       <span class="comment">// how do we decide whether or not to set this?</span>
<a name="l01205"></a>01205       <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubCharNum ].<a class="code" href="structMERCPROFILESTRUCT.html#125ec7e3aa89a6f65e8cdb438a917c78">fUseProfileInsertionInfo</a> = TRUE;
<a name="l01206"></a>01206       <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubCharNum ].<a class="code" href="structMERCPROFILESTRUCT.html#ef69000d93333be8514a29b0ad500888">ubMiscFlags3</a> |= PROFILE_MISC_FLAG3_PERMANENT_INSERTION_CODE;
<a name="l01207"></a>01207 
<a name="l01208"></a>01208       <span class="comment">// Add this guy to CIV team!</span>
<a name="l01209"></a>01209       pNewSoldier = <a class="code" href="Soldier_01Profile_8cpp.html#8171c3443c71a69ac5063405876e3abe">ChangeSoldierTeam</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>, CIV_TEAM );
<a name="l01210"></a>01210 
<a name="l01211"></a>01211   <a class="code" href="gamescreen_8cpp.html#cdf6a8f6a7ed95c12a9a5870d0df7002">UpdateTeamPanelAssignments</a>( );
<a name="l01212"></a>01212 
<a name="l01213"></a>01213       <span class="keywordflow">return</span>( TRUE );
<a name="l01214"></a>01214 }
<a name="l01215"></a>01215 
<a name="l01216"></a>01216 
<a name="l01217"></a>01217 
<a name="l01218"></a><a class="code" href="Soldier_01Profile_8h.html#25cc33133d5278dbb214ddbb132322a7">01218</a> <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a> <a class="code" href="Soldier_01Profile_8cpp.html#25cc33133d5278dbb214ddbb132322a7">WhichBuddy</a>( <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubCharNum, <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubBuddy )
<a name="l01219"></a>01219 {
<a name="l01220"></a>01220       <a class="code" href="structMERCPROFILESTRUCT.html">MERCPROFILESTRUCT</a> *     pProfile;
<a name="l01221"></a>01221       <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>                                            bLoop;
<a name="l01222"></a>01222 
<a name="l01223"></a>01223       pProfile = &amp;( <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubCharNum ] );
<a name="l01224"></a>01224 
<a name="l01225"></a>01225       <span class="keywordflow">for</span> (bLoop = 0; bLoop &lt; 3; bLoop++)
<a name="l01226"></a>01226       {
<a name="l01227"></a>01227             <span class="keywordflow">if</span> ( pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#66ee4e3c121d8a5dabb3ae6b612da4f6">bBuddy</a>[bLoop] == ubBuddy )
<a name="l01228"></a>01228             {
<a name="l01229"></a>01229                   <span class="keywordflow">return</span>( bLoop );
<a name="l01230"></a>01230             }
<a name="l01231"></a>01231       }
<a name="l01232"></a>01232       <span class="keywordflow">return</span>( -1 );
<a name="l01233"></a>01233 }
<a name="l01234"></a>01234 
<a name="l01235"></a><a class="code" href="Soldier_01Profile_8h.html#9c6ee546d1b2c3ea3ae5be0365469593">01235</a> <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a> <a class="code" href="Soldier_01Profile_8cpp.html#9c6ee546d1b2c3ea3ae5be0365469593">WhichHated</a>( <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubCharNum, <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubHated )
<a name="l01236"></a>01236 {
<a name="l01237"></a>01237       <a class="code" href="structMERCPROFILESTRUCT.html">MERCPROFILESTRUCT</a> *     pProfile;
<a name="l01238"></a>01238       <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>                                            bLoop;
<a name="l01239"></a>01239 
<a name="l01240"></a>01240       pProfile = &amp;( <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubCharNum ] );
<a name="l01241"></a>01241 
<a name="l01242"></a>01242       <span class="keywordflow">for</span> (bLoop = 0; bLoop &lt; 3; bLoop++)
<a name="l01243"></a>01243       {
<a name="l01244"></a>01244             <span class="keywordflow">if</span> ( pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#c9b751102c88f037e9465002d9d27e0f">bHated</a>[bLoop] == ubHated )
<a name="l01245"></a>01245             {
<a name="l01246"></a>01246                   <span class="keywordflow">return</span>( bLoop );
<a name="l01247"></a>01247             }
<a name="l01248"></a>01248       }
<a name="l01249"></a>01249       <span class="keywordflow">return</span>( -1 );
<a name="l01250"></a>01250 }
<a name="l01251"></a>01251 
<a name="l01252"></a>01252 
<a name="l01253"></a><a class="code" href="Soldier_01Profile_8h.html#3e2d7d97870b11cb46289e6b96317551">01253</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> <a class="code" href="Soldier_01Profile_8cpp.html#3e2d7d97870b11cb46289e6b96317551">IsProfileATerrorist</a>( <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubProfile )
<a name="l01254"></a>01254 {
<a name="l01255"></a>01255       <span class="keywordflow">if</span> ( ubProfile == 83 || ubProfile == 111 || 
<a name="l01256"></a>01256                    ubProfile == 64 || ubProfile == 112 || 
<a name="l01257"></a>01257                    ubProfile == 82 || ubProfile == 110 )
<a name="l01258"></a>01258       {
<a name="l01259"></a>01259             <span class="keywordflow">return</span>( TRUE );
<a name="l01260"></a>01260       }
<a name="l01261"></a>01261       <span class="keywordflow">else</span>
<a name="l01262"></a>01262       {
<a name="l01263"></a>01263             <span class="keywordflow">return</span>( FALSE );
<a name="l01264"></a>01264       }
<a name="l01265"></a>01265 }
<a name="l01266"></a>01266 
<a name="l01267"></a><a class="code" href="Soldier_01Profile_8h.html#30efa2d4fa439f607fe9b56e44cd2114">01267</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> <a class="code" href="Soldier_01Profile_8cpp.html#30efa2d4fa439f607fe9b56e44cd2114">IsProfileAHeadMiner</a>( <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubProfile )
<a name="l01268"></a>01268 {
<a name="l01269"></a>01269       <span class="keywordflow">if</span> ( ubProfile == 106 || ubProfile == 148 || 
<a name="l01270"></a>01270                    ubProfile == 156 || ubProfile == 157 || 
<a name="l01271"></a>01271                    ubProfile == 158 )
<a name="l01272"></a>01272       {
<a name="l01273"></a>01273             <span class="keywordflow">return</span>( TRUE );
<a name="l01274"></a>01274       }
<a name="l01275"></a>01275       <span class="keywordflow">else</span>
<a name="l01276"></a>01276       {
<a name="l01277"></a>01277             <span class="keywordflow">return</span>( FALSE );
<a name="l01278"></a>01278       }
<a name="l01279"></a>01279 }
<a name="l01280"></a>01280 
<a name="l01281"></a>01281 
<a name="l01282"></a><a class="code" href="Soldier_01Profile_8h.html#619b73fde1dc46b7da5fbe26ac81d906">01282</a> <span class="keywordtype">void</span> <a class="code" href="Soldier_01Profile_8cpp.html#619b73fde1dc46b7da5fbe26ac81d906">UpdateSoldierPointerDataIntoProfile</a>( <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> fPlayerMercs )
<a name="l01283"></a>01283 {
<a name="l01284"></a>01284       <a class="code" href="Types_8h.html#e1e6edbbc26d6fbc71a90190d0266018">UINT32</a> uiCount;
<a name="l01285"></a>01285       <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a> *<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> = NULL;
<a name="l01286"></a>01286       <a class="code" href="structMERCPROFILESTRUCT.html">MERCPROFILESTRUCT</a> * pProfile;
<a name="l01287"></a>01287       <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>                       fDoCopy = FALSE;
<a name="l01288"></a>01288 
<a name="l01289"></a>01289       <span class="keywordflow">for</span>( uiCount=0; uiCount &lt; <a class="code" href="Overhead_8cpp.html#d627c552ede524c66140f3410174d3d4">guiNumMercSlots</a>; uiCount++)
<a name="l01290"></a>01290       {
<a name="l01291"></a>01291             <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> = <a class="code" href="Overhead_8cpp.html#b139938f6b836645dd67972944d21bf3">MercSlots</a>[ uiCount ];
<a name="l01292"></a>01292 
<a name="l01293"></a>01293             <span class="keywordflow">if</span> ( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> != NULL )
<a name="l01294"></a>01294             {
<a name="l01295"></a>01295                   <span class="keywordflow">if</span> ( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#5a5648a1bb3507cc41f6be199c51a3f8">ubProfile</a> != NO_PROFILE )
<a name="l01296"></a>01296                   {
<a name="l01297"></a>01297                         fDoCopy = FALSE;
<a name="l01298"></a>01298 
<a name="l01299"></a>01299                         <span class="comment">// If we are above player mercs</span>
<a name="l01300"></a>01300                         <a class="code" href="Soldier_01Ani_8cpp.html#c294aa65f0375eb6343a2de2a25dafcc">if</a> ( fPlayerMercs )
<a name="l01301"></a>01301                         {
<a name="l01302"></a>01302                               <span class="keywordflow">if</span> ( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#5a5648a1bb3507cc41f6be199c51a3f8">ubProfile</a> &lt; FIRST_RPC || <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#5a5648a1bb3507cc41f6be199c51a3f8">ubProfile</a> &gt;= <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa150c510db5aaca8d588a456f077a86a2d">GASTON</a> )
<a name="l01303"></a>01303                               {
<a name="l01304"></a>01304                                     fDoCopy = TRUE;
<a name="l01305"></a>01305                               }
<a name="l01306"></a>01306                         }
<a name="l01307"></a>01307                         <span class="keywordflow">else</span>
<a name="l01308"></a>01308                         {
<a name="l01309"></a>01309                               <span class="keywordflow">if</span> ( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#5a5648a1bb3507cc41f6be199c51a3f8">ubProfile</a> &gt;= FIRST_RPC &amp;&amp; <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#5a5648a1bb3507cc41f6be199c51a3f8">ubProfile</a> &lt; <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa150c510db5aaca8d588a456f077a86a2d">GASTON</a> )
<a name="l01310"></a>01310                               {
<a name="l01311"></a>01311                                     fDoCopy = TRUE;
<a name="l01312"></a>01312                               }
<a name="l01313"></a>01313                         }
<a name="l01314"></a>01314 
<a name="l01315"></a>01315                         <span class="keywordflow">if</span> ( fDoCopy )
<a name="l01316"></a>01316                         {
<a name="l01317"></a>01317                               <span class="comment">// get profile...</span>
<a name="l01318"></a>01318                               pProfile = &amp;( <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#5a5648a1bb3507cc41f6be199c51a3f8">ubProfile</a> ] );
<a name="l01319"></a>01319 
<a name="l01320"></a>01320                               <span class="comment">// Copy....</span>
<a name="l01321"></a>01321                               pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#09fbcd22d7fc230711c52e75231d8f79">bLife</a>                                                         = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#e308dea18533bf5ab2bcee5bbe27391c">bLife</a>;
<a name="l01322"></a>01322                               pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#fa85b8afa8461cbbdb7eb533eed28e31">bLifeMax</a>                                                      = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#600d382f89a391cdeb7bfe2580776866">bLifeMax</a>;
<a name="l01323"></a>01323                               pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#bd3daf02919f8e2b0883f7f087992ac2">bAgility</a>                                                      = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#9e00ffce9fab366b226d73f77609c2f4">bAgility</a>;
<a name="l01324"></a>01324                               pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#57bd8d3f6cd1b8018e27a5183cc66302">bLeadership</a>                                             = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#fd2d5a6ae419aeca68111c22f755974a">bLeadership</a>;
<a name="l01325"></a>01325                               pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#aaab9a3e77856f91c988c009236d411b">bDexterity</a>                                              = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#a6681185ba941c3a7bc8163310182478">bDexterity</a>;
<a name="l01326"></a>01326                               pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#9fa8346f31e989f4be1ba37d847eab59">bStrength</a>                                                     = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#66c3be01391ae0f34be79031a4e0f436">bStrength</a>;
<a name="l01327"></a>01327                               pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#8df4ce262d2419f83a35b988fd6bd3e4">bWisdom</a>                                                       = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#4e9c2ad5d84963b9a6fc6f092bed8638">bWisdom</a>;
<a name="l01328"></a>01328                               pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#38902687ff41c38a4110ab7599b23f51">bExpLevel</a>                                                     = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#0becb3b2a6e15a9c7d60749a341aef38">bExpLevel</a>;
<a name="l01329"></a>01329                               pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#3d5a20873d37fe66c0e7dc88b24f8ad7">bMarksmanship</a>                                     = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#7a9a17a9aff519efd7423c6b11cdb046">bMarksmanship</a>;
<a name="l01330"></a>01330                               pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#71a09e46c3ceebced381a4e6ed631f71">bMedical</a>                                                      = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#4035959182260cd84762a7e786a4c57b">bMedical</a>;
<a name="l01331"></a>01331                               pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#c1d3aecec4e7639c5225510c9c087500">bMechanical</a>                                             = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#e527422adc5995d88b63f12b4dd9c38c">bMechanical</a>;
<a name="l01332"></a>01332                               pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#55a776cd5567f3b3cf91f100413786fa">bExplosive</a>                                              = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#1f8366811489062f9af672734c3e87f8">bExplosive</a>;
<a name="l01333"></a>01333                               pProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#5554922cefcd5ee40d5a74512a4c85a5">bScientific</a>                                             = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#807d674cf2ed059d28d0efdbc102291a">bScientific</a>;
<a name="l01334"></a>01334                         }
<a name="l01335"></a>01335                   }
<a name="l01336"></a>01336             }
<a name="l01337"></a>01337       }
<a name="l01338"></a>01338 }
<a name="l01339"></a>01339 
<a name="l01340"></a>01340 
<a name="l01341"></a>01341 
<a name="l01342"></a><a class="code" href="Soldier_01Profile_8h.html#c1f411379c9a646b9f0be72dab750e01">01342</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> <a class="code" href="Soldier_01Profile_8cpp.html#c1f411379c9a646b9f0be72dab750e01">DoesMercHaveABuddyOnTheTeam</a>( <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubMercID )
<a name="l01343"></a>01343 {
<a name="l01344"></a>01344       <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubCnt;
<a name="l01345"></a>01345       <a class="code" href="Types_8h.html#7ebe70ceca856797319175e30bcf003d">INT8</a>  bBuddyID;
<a name="l01346"></a>01346 
<a name="l01347"></a>01347       <span class="comment">// loop through the list of people the merc is buddies with</span>
<a name="l01348"></a>01348       <span class="keywordflow">for</span>(ubCnt=0; ubCnt&lt; 3; ubCnt++)
<a name="l01349"></a>01349       {
<a name="l01350"></a>01350             <span class="comment">//see if the merc has a buddy on the team</span>
<a name="l01351"></a>01351             bBuddyID = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubMercID ].bBuddy[ubCnt];
<a name="l01352"></a>01352 
<a name="l01353"></a>01353             <span class="comment">//If its not a valid 'buddy'</span>
<a name="l01354"></a>01354             <span class="keywordflow">if</span>( bBuddyID &lt; 0 )
<a name="l01355"></a>01355                   <span class="keywordflow">continue</span>;
<a name="l01356"></a>01356 
<a name="l01357"></a>01357             <span class="keywordflow">if</span>( <a class="code" href="Soldier_01Add_8cpp.html#070fb721a97706291e65579a4b573fba">IsMercOnTeam</a>( bBuddyID ) )
<a name="l01358"></a>01358             {
<a name="l01359"></a>01359                   <span class="keywordflow">if</span>( !<a class="code" href="Merc_01Hiring_8cpp.html#15d582bc6aaa19145bb4acb98b4f1267">IsMercDead</a>( bBuddyID ) )
<a name="l01360"></a>01360                   {
<a name="l01361"></a>01361                         <span class="keywordflow">return</span>( TRUE );
<a name="l01362"></a>01362                   }
<a name="l01363"></a>01363             }
<a name="l01364"></a>01364       }
<a name="l01365"></a>01365 
<a name="l01366"></a>01366       <span class="keywordflow">return</span>( FALSE );
<a name="l01367"></a>01367 }
<a name="l01368"></a>01368 
<a name="l01369"></a><a class="code" href="Soldier_01Profile_8cpp.html#101c99395d4773373e36c99f321a23f6">01369</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> <a class="code" href="Soldier_01Profile_8cpp.html#101c99395d4773373e36c99f321a23f6">MercIsHot</a>( <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a> * <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> )
<a name="l01370"></a>01370 {
<a name="l01371"></a>01371       <span class="keywordflow">if</span> ( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#5a5648a1bb3507cc41f6be199c51a3f8">ubProfile</a> != NO_PROFILE &amp;&amp; <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#5a5648a1bb3507cc41f6be199c51a3f8">ubProfile</a> ].bPersonalityTrait == <a class="code" href="soldier_01profile_01type_8h.html#38fdbff4df855b330b943d47a9ade08c4473850b337022636bbd4fe32b376531">HEAT_INTOLERANT</a> )
<a name="l01372"></a>01372       {
<a name="l01373"></a>01373             <span class="keywordflow">if</span> ( <a class="code" href="environment_8cpp.html#6a08bd15b64e1d59cf50755bb1f95154">SectorTemperature</a>( <a class="code" href="Game_01Clock_8cpp.html#c52790b3f2caff24dbd9d8aa2f4b8194">GetWorldMinutesInDay</a>(), <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#6784346500db10daed06c2db02b855c0">sSectorX</a>, <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#6dd68e70c3000beb79e4ac45d28a0cbf">sSectorY</a>, <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#b70b761f0405cc179c1ffba84484df28">bSectorZ</a> ) &gt; 0 )
<a name="l01374"></a>01374             {
<a name="l01375"></a>01375                   <span class="keywordflow">return</span>( TRUE );
<a name="l01376"></a>01376             }
<a name="l01377"></a>01377       }
<a name="l01378"></a>01378       <span class="keywordflow">return</span>( FALSE );
<a name="l01379"></a>01379 }
<a name="l01380"></a>01380 
<a name="l01381"></a><a class="code" href="Soldier_01Profile_8h.html#133b9ce773faacc2ca6bd646c9645833">01381</a> <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a> * <a class="code" href="Soldier_01Profile_8cpp.html#133b9ce773faacc2ca6bd646c9645833">SwapLarrysProfiles</a>( <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a> * <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> )
<a name="l01382"></a>01382 {
<a name="l01383"></a>01383       <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubSrcProfile;
<a name="l01384"></a>01384       <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubDestProfile;
<a name="l01385"></a>01385       <a class="code" href="structMERCPROFILESTRUCT.html">MERCPROFILESTRUCT</a> * pNewProfile;
<a name="l01386"></a>01386 
<a name="l01387"></a>01387       ubSrcProfile = <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#5a5648a1bb3507cc41f6be199c51a3f8">ubProfile</a>;
<a name="l01388"></a>01388       <span class="keywordflow">if</span> ( ubSrcProfile == <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa1f6e58485b1522a23c83d231e991c53f6">LARRY_NORMAL</a>)
<a name="l01389"></a>01389       {
<a name="l01390"></a>01390             ubDestProfile = <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa19f4c48e4d0052ccc538f6d23076eefb5">LARRY_DRUNK</a>;
<a name="l01391"></a>01391       }
<a name="l01392"></a>01392       <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( ubSrcProfile == <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa19f4c48e4d0052ccc538f6d23076eefb5">LARRY_DRUNK</a> )
<a name="l01393"></a>01393       {
<a name="l01394"></a>01394             ubDestProfile = <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa1f6e58485b1522a23c83d231e991c53f6">LARRY_NORMAL</a>;
<a name="l01395"></a>01395       }
<a name="l01396"></a>01396       <span class="keywordflow">else</span>
<a name="l01397"></a>01397       {
<a name="l01398"></a>01398             <span class="comment">// I don't think so!</span>
<a name="l01399"></a>01399             <span class="keywordflow">return</span>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> );
<a name="l01400"></a>01400       }
<a name="l01401"></a>01401       
<a name="l01402"></a>01402       pNewProfile = &amp;<a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubDestProfile ];
<a name="l01403"></a>01403       pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#5870da43a6570a9906fa8e5439ac9991">ubMiscFlags2</a> = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubSrcProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#5870da43a6570a9906fa8e5439ac9991">ubMiscFlags2</a>;
<a name="l01404"></a>01404       pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#ba6784590fd16294fae9305dc86e0391">ubMiscFlags</a> = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubSrcProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#ba6784590fd16294fae9305dc86e0391">ubMiscFlags</a>;
<a name="l01405"></a>01405       pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#b0d6f66ec41a0d9c87fbc03dd9fed965">sSectorX</a> = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubSrcProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#b0d6f66ec41a0d9c87fbc03dd9fed965">sSectorX</a>;
<a name="l01406"></a>01406       pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#e3caff1f000b3ed3c382e8a1f0d5fdbc">sSectorY</a> = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubSrcProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#e3caff1f000b3ed3c382e8a1f0d5fdbc">sSectorY</a>;
<a name="l01407"></a>01407       pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#c36aaa23154f2678fde2c19e854dfede">uiDayBecomesAvailable</a> = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubSrcProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#c36aaa23154f2678fde2c19e854dfede">uiDayBecomesAvailable</a>;
<a name="l01408"></a>01408       pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#08cd6765b5a68f7300543d50aae78b1f">usKills</a> = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubSrcProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#08cd6765b5a68f7300543d50aae78b1f">usKills</a>;
<a name="l01409"></a>01409       pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#56f7b546fb4e4c4f934faa4ff3a07c00">usAssists</a> = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubSrcProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#56f7b546fb4e4c4f934faa4ff3a07c00">usAssists</a>;
<a name="l01410"></a>01410       pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#3f92c0dd04f9c46e3ed857581992c50d">usShotsFired</a> = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubSrcProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#3f92c0dd04f9c46e3ed857581992c50d">usShotsFired</a>;
<a name="l01411"></a>01411       pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#dec97c08f7812b6f0c1f0c31994865d0">usShotsHit</a> = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubSrcProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#dec97c08f7812b6f0c1f0c31994865d0">usShotsHit</a>;
<a name="l01412"></a>01412       pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#20989bc9c2a4a5bbdefa0cb88e5a824a">usBattlesFought</a> = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubSrcProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#20989bc9c2a4a5bbdefa0cb88e5a824a">usBattlesFought</a>;
<a name="l01413"></a>01413       pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#1c66a50cfa1217be32051fbdd93007d8">usTimesWounded</a> = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubSrcProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#1c66a50cfa1217be32051fbdd93007d8">usTimesWounded</a>;
<a name="l01414"></a>01414       pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#df2db30d233be54cc55f92433af5e9ad">usTotalDaysServed</a> = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubSrcProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#df2db30d233be54cc55f92433af5e9ad">usTotalDaysServed</a>;
<a name="l01415"></a>01415       pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#8757fe16dd07158c8563a9bd271ffdcb">bResigned</a> = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubSrcProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#8757fe16dd07158c8563a9bd271ffdcb">bResigned</a>;
<a name="l01416"></a>01416       pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#ffc8bd5e3cc7f40af448d065194c2d45">bActive</a> = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubSrcProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#ffc8bd5e3cc7f40af448d065194c2d45">bActive</a>;
<a name="l01417"></a>01417       pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#125ec7e3aa89a6f65e8cdb438a917c78">fUseProfileInsertionInfo</a> = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubSrcProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#125ec7e3aa89a6f65e8cdb438a917c78">fUseProfileInsertionInfo</a>;
<a name="l01418"></a>01418       pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#49b76d0b059c1acd5618a7af884a0edb">sGridNo</a> = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubSrcProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#49b76d0b059c1acd5618a7af884a0edb">sGridNo</a>;
<a name="l01419"></a>01419       pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#ab3d66c7191191a9214b19d4d2fc59d7">ubQuoteActionID</a> = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubSrcProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#ab3d66c7191191a9214b19d4d2fc59d7">ubQuoteActionID</a>;
<a name="l01420"></a>01420       pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#97b433923462e30201ed81e013c50c0f">ubLastQuoteSaid</a> = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubSrcProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#97b433923462e30201ed81e013c50c0f">ubLastQuoteSaid</a>;
<a name="l01421"></a>01421       pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#b85bb7cc3a8ea30bdf615c298cb920d5">ubStrategicInsertionCode</a> = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubSrcProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#b85bb7cc3a8ea30bdf615c298cb920d5">ubStrategicInsertionCode</a>;
<a name="l01422"></a>01422       pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#9ec016a24fb8317378ec2dce36253b0c">bMercStatus</a> = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubSrcProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#9ec016a24fb8317378ec2dce36253b0c">bMercStatus</a>;
<a name="l01423"></a>01423       pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#9dfd2271b790d94f55f142e71ab18065">bSectorZ</a> = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubSrcProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#9dfd2271b790d94f55f142e71ab18065">bSectorZ</a>;
<a name="l01424"></a>01424       pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#0670e2f5354f0fc367305395ee1dbc19">usStrategicInsertionData</a> = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubSrcProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#0670e2f5354f0fc367305395ee1dbc19">usStrategicInsertionData</a>;
<a name="l01425"></a>01425       pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#c2e29fd1e071dea67535eeeaa8e581dd">sTrueSalary</a> = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubSrcProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#c2e29fd1e071dea67535eeeaa8e581dd">sTrueSalary</a>;
<a name="l01426"></a>01426       pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#ef69000d93333be8514a29b0ad500888">ubMiscFlags3</a> = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubSrcProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#ef69000d93333be8514a29b0ad500888">ubMiscFlags3</a>;
<a name="l01427"></a>01427       pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#45b49d9009ce0bdb32f707b2d060028a">ubDaysOfMoraleHangover</a> = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubSrcProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#45b49d9009ce0bdb32f707b2d060028a">ubDaysOfMoraleHangover</a>;
<a name="l01428"></a>01428       pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#1a69b0fa4afc44dfc3d24c04a0c4a23e">ubNumTimesDrugUseInLifetime</a> = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubSrcProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#1a69b0fa4afc44dfc3d24c04a0c4a23e">ubNumTimesDrugUseInLifetime</a>;
<a name="l01429"></a>01429       pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#79d1556d8048e4b532524c18a46ef515">uiPrecedentQuoteSaid</a> = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubSrcProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#79d1556d8048e4b532524c18a46ef515">uiPrecedentQuoteSaid</a>;
<a name="l01430"></a>01430       pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#f1d3dfd685f061c3ed2c4c47cf3f7a12">sPreCombatGridNo</a> = <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubSrcProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#f1d3dfd685f061c3ed2c4c47cf3f7a12">sPreCombatGridNo</a>;
<a name="l01431"></a>01431 
<a name="l01432"></a>01432 <span class="comment">// CJC: this is causing problems so just skip the transfer of exp...</span>
<a name="l01433"></a>01433 <span class="comment">/*</span>
<a name="l01434"></a>01434 <span class="comment">      pNewProfile-&gt;sLifeGain = gMercProfiles[ ubSrcProfile ].sLifeGain;</span>
<a name="l01435"></a>01435 <span class="comment">      pNewProfile-&gt;sAgilityGain = gMercProfiles[ ubSrcProfile ].sAgilityGain;</span>
<a name="l01436"></a>01436 <span class="comment">      pNewProfile-&gt;sDexterityGain = gMercProfiles[ ubSrcProfile ].sDexterityGain;</span>
<a name="l01437"></a>01437 <span class="comment">      pNewProfile-&gt;sStrengthGain = gMercProfiles[ ubSrcProfile ].sStrengthGain;</span>
<a name="l01438"></a>01438 <span class="comment">      pNewProfile-&gt;sLeadershipGain = gMercProfiles[ ubSrcProfile ].sLeadershipGain;</span>
<a name="l01439"></a>01439 <span class="comment">      pNewProfile-&gt;sWisdomGain = gMercProfiles[ ubSrcProfile ].sWisdomGain;</span>
<a name="l01440"></a>01440 <span class="comment">      pNewProfile-&gt;sExpLevelGain = gMercProfiles[ ubSrcProfile ].sExpLevelGain;</span>
<a name="l01441"></a>01441 <span class="comment">      pNewProfile-&gt;sMarksmanshipGain = gMercProfiles[ ubSrcProfile ].sMarksmanshipGain;</span>
<a name="l01442"></a>01442 <span class="comment">      pNewProfile-&gt;sMedicalGain = gMercProfiles[ ubSrcProfile ].sMedicalGain;</span>
<a name="l01443"></a>01443 <span class="comment">      pNewProfile-&gt;sMechanicGain = gMercProfiles[ ubSrcProfile ].sMechanicGain;</span>
<a name="l01444"></a>01444 <span class="comment">      pNewProfile-&gt;sExplosivesGain = gMercProfiles[ ubSrcProfile ].sExplosivesGain;</span>
<a name="l01445"></a>01445 <span class="comment"></span>
<a name="l01446"></a>01446 <span class="comment">      pNewProfile-&gt;bLifeDelta = gMercProfiles[ ubSrcProfile ].bLifeDelta;</span>
<a name="l01447"></a>01447 <span class="comment">      pNewProfile-&gt;bAgilityDelta = gMercProfiles[ ubSrcProfile ].bAgilityDelta;</span>
<a name="l01448"></a>01448 <span class="comment">      pNewProfile-&gt;bDexterityDelta = gMercProfiles[ ubSrcProfile ].bDexterityDelta;</span>
<a name="l01449"></a>01449 <span class="comment">      pNewProfile-&gt;bStrengthDelta = gMercProfiles[ ubSrcProfile ].bStrengthDelta;</span>
<a name="l01450"></a>01450 <span class="comment">      pNewProfile-&gt;bLeadershipDelta = gMercProfiles[ ubSrcProfile ].bLeadershipDelta;</span>
<a name="l01451"></a>01451 <span class="comment">      pNewProfile-&gt;bWisdomDelta = gMercProfiles[ ubSrcProfile ].bWisdomDelta;</span>
<a name="l01452"></a>01452 <span class="comment">      pNewProfile-&gt;bExpLevelDelta = gMercProfiles[ ubSrcProfile ].bExpLevelDelta;</span>
<a name="l01453"></a>01453 <span class="comment">      pNewProfile-&gt;bMarksmanshipDelta = gMercProfiles[ ubSrcProfile ].bMarksmanshipDelta;</span>
<a name="l01454"></a>01454 <span class="comment">      pNewProfile-&gt;bMedicalDelta = gMercProfiles[ ubSrcProfile ].bMedicalDelta;</span>
<a name="l01455"></a>01455 <span class="comment">      pNewProfile-&gt;bMechanicDelta = gMercProfiles[ ubSrcProfile ].bMechanicDelta;</span>
<a name="l01456"></a>01456 <span class="comment">      pNewProfile-&gt;bExplosivesDelta = gMercProfiles[ ubSrcProfile ].bExplosivesDelta;</span>
<a name="l01457"></a>01457 <span class="comment">      */</span>
<a name="l01458"></a>01458 
<a name="l01459"></a>01459       memcpy( pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#9714f8777eadf02e0e415a0ced87d524">bInvStatus</a>, <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubSrcProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#9714f8777eadf02e0e415a0ced87d524">bInvStatus</a> , <span class="keyword">sizeof</span>( <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a>) * 19 );
<a name="l01460"></a>01460       memcpy( pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#9714f8777eadf02e0e415a0ced87d524">bInvStatus</a>, <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubSrcProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#9714f8777eadf02e0e415a0ced87d524">bInvStatus</a> , <span class="keyword">sizeof</span>( UINT8) * 19 );
<a name="l01461"></a>01461       memcpy( pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#cfa933838ced4f570567383a509555f5">inv</a> , <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubSrcProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#cfa933838ced4f570567383a509555f5">inv</a> , <span class="keyword">sizeof</span>( <a class="code" href="Types_8h.html#09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> ) * 19 );
<a name="l01462"></a>01462       memcpy( pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#1090483fbe0eb6b4626da526caf92206">bMercTownReputation</a> , <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ ubSrcProfile ].<a class="code" href="structMERCPROFILESTRUCT.html#1090483fbe0eb6b4626da526caf92206">bMercTownReputation</a> , <span class="keyword">sizeof</span>( UINT8 ) * 20 );
<a name="l01463"></a>01463 
<a name="l01464"></a>01464       <span class="comment">// remove face</span>
<a name="l01465"></a>01465       <a class="code" href="Faces_8cpp.html#723dc9fa070546164117a820002a13b5">DeleteSoldierFace</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> );
<a name="l01466"></a>01466 
<a name="l01467"></a>01467       <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#5a5648a1bb3507cc41f6be199c51a3f8">ubProfile</a> = ubDestProfile;
<a name="l01468"></a>01468 
<a name="l01469"></a>01469       <span class="comment">// create new face</span>
<a name="l01470"></a>01470       <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#d5f6fd345324ba5fdf49c5a0624f6620">iFaceIndex</a> = <a class="code" href="Faces_8cpp.html#f81d3e8c608f1e1c226d52d4929c3a7d">InitSoldierFace</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> ); 
<a name="l01471"></a>01471       
<a name="l01472"></a>01472       <span class="comment">// replace profile in group</span>
<a name="l01473"></a>01473       <a class="code" href="Player_01Command_8cpp.html#c36c92ee80b648d2d1430c24d61c4a0f">ReplaceSoldierProfileInPlayerGroup</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#7f3c88742fc830ce555bb016e9e68fcd">ubGroupID</a>, ubSrcProfile, ubDestProfile );
<a name="l01474"></a>01474 
<a name="l01475"></a>01475       <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#66c3be01391ae0f34be79031a4e0f436">bStrength</a> =               pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#9fa8346f31e989f4be1ba37d847eab59">bStrength</a> + pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#d0a75cc89147114fadf0eb045cab9357">bStrengthDelta</a>;
<a name="l01476"></a>01476       <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#a6681185ba941c3a7bc8163310182478">bDexterity</a> =        pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#aaab9a3e77856f91c988c009236d411b">bDexterity</a> + pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#f979bfe621181818690745436fad2a9f">bDexterityDelta</a>;
<a name="l01477"></a>01477       <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#9e00ffce9fab366b226d73f77609c2f4">bAgility</a> =                pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#bd3daf02919f8e2b0883f7f087992ac2">bAgility</a> + pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#ee5e25f81a134bd208568c248219cbe4">bAgilityDelta</a>;
<a name="l01478"></a>01478       <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#4e9c2ad5d84963b9a6fc6f092bed8638">bWisdom</a> =                       pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#8df4ce262d2419f83a35b988fd6bd3e4">bWisdom</a> + pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#de67a5420c1a336bce8bfe5eeb293c31">bWisdomDelta</a>;
<a name="l01479"></a>01479       <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#0becb3b2a6e15a9c7d60749a341aef38">bExpLevel</a> =               pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#38902687ff41c38a4110ab7599b23f51">bExpLevel</a> + pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#bd7de0af3b19cf196208d7087dffa99e">bExpLevelDelta</a>;
<a name="l01480"></a>01480       <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#fd2d5a6ae419aeca68111c22f755974a">bLeadership</a> =       pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#57bd8d3f6cd1b8018e27a5183cc66302">bLeadership</a> + pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#77881108187c94483e035f8c1c2ac812">bLeadershipDelta</a>;
<a name="l01481"></a>01481 
<a name="l01482"></a>01482       <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#7a9a17a9aff519efd7423c6b11cdb046">bMarksmanship</a> =     pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#3d5a20873d37fe66c0e7dc88b24f8ad7">bMarksmanship</a> + pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#636f3b745ed51de333bca79811d40d54">bMarksmanshipDelta</a>;
<a name="l01483"></a>01483       <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#e527422adc5995d88b63f12b4dd9c38c">bMechanical</a> =       pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#c1d3aecec4e7639c5225510c9c087500">bMechanical</a> + pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#ea71b3ea925b286c6675aaa5004e9409">bMechanicDelta</a>;
<a name="l01484"></a>01484       <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#4035959182260cd84762a7e786a4c57b">bMedical</a> =                pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#71a09e46c3ceebced381a4e6ed631f71">bMedical</a> + pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#1caa9e665aecf584f4f8dee8fbedb4ba">bMedicalDelta</a>;
<a name="l01485"></a>01485       <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#1f8366811489062f9af672734c3e87f8">bExplosive</a> =        pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#55a776cd5567f3b3cf91f100413786fa">bExplosive</a> + pNewProfile-&gt;<a class="code" href="structMERCPROFILESTRUCT.html#3755e351ce38ee3e5444eff7587f4e16">bExplosivesDelta</a>;
<a name="l01486"></a>01486 
<a name="l01487"></a>01487       <span class="keywordflow">if</span> ( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#5a5648a1bb3507cc41f6be199c51a3f8">ubProfile</a> == <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa19f4c48e4d0052ccc538f6d23076eefb5">LARRY_DRUNK</a> )
<a name="l01488"></a>01488       {
<a name="l01489"></a>01489             <a class="code" href="Quests_8cpp.html#d7278c1ec0f9cc2ac9af20f8a6b446db">SetFactTrue</a>( <a class="code" href="Quests_8h.html#aead3e57f613f07868a1b2afb6b943f1f026fb5a6775f9132c0fc9838fbf52f1">FACT_LARRY_CHANGED</a> );
<a name="l01490"></a>01490       }
<a name="l01491"></a>01491       <span class="keywordflow">else</span>
<a name="l01492"></a>01492       {
<a name="l01493"></a>01493             <a class="code" href="Quests_8cpp.html#367aad061aefa5a73a4ac3fda10511b3">SetFactFalse</a>( <a class="code" href="Quests_8h.html#aead3e57f613f07868a1b2afb6b943f1f026fb5a6775f9132c0fc9838fbf52f1">FACT_LARRY_CHANGED</a> );
<a name="l01494"></a>01494       }
<a name="l01495"></a>01495 
<a name="l01496"></a>01496       <a class="code" href="Interface_8cpp.html#8a607488839071ed48da8a73aeaad595">DirtyMercPanelInterface</a>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>, DIRTYLEVEL2 );
<a name="l01497"></a>01497 
<a name="l01498"></a>01498       <span class="keywordflow">return</span>( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a> );
<a name="l01499"></a>01499 }
<a name="l01500"></a>01500 
<a name="l01501"></a>01501 
<a name="l01502"></a><a class="code" href="Soldier_01Profile_8h.html#0e9ac2ad0fc063baed4b4f9d9296d39b">01502</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> <a class="code" href="Soldier_01Profile_8cpp.html#0e9ac2ad0fc063baed4b4f9d9296d39b">DoesNPCOwnBuilding</a>( <a class="code" href="structSOLDIERTYPE.html">SOLDIERTYPE</a> *<a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>, <a class="code" href="Types_8h.html#30f500129d8c688af07726d5d34ce52d">INT16</a> sGridNo )
<a name="l01503"></a>01503 {
<a name="l01504"></a>01504   <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubRoomInfo;
<a name="l01505"></a>01505 
<a name="l01506"></a>01506   <span class="comment">// Get room info</span>
<a name="l01507"></a>01507   ubRoomInfo = <a class="code" href="Render_01Fun_8cpp.html#b222bc5b1d3fce42afbf2c0f197eeb68">gubWorldRoomInfo</a>[ sGridNo ];
<a name="l01508"></a>01508 
<a name="l01509"></a>01509   <span class="keywordflow">if</span> ( ubRoomInfo == NO_ROOM )
<a name="l01510"></a>01510   {
<a name="l01511"></a>01511     <span class="keywordflow">return</span>( FALSE );
<a name="l01512"></a>01512   }
<a name="l01513"></a>01513 
<a name="l01514"></a>01514   <span class="comment">// Are we an NPC?</span>
<a name="l01515"></a>01515   <span class="keywordflow">if</span> ( <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#74a40a8aaf3efe840cdaf6be62556d82">bTeam</a> != CIV_TEAM )
<a name="l01516"></a>01516   {
<a name="l01517"></a>01517     <span class="keywordflow">return</span>( FALSE );
<a name="l01518"></a>01518   }
<a name="l01519"></a>01519 
<a name="l01520"></a>01520   <span class="comment">// OK, check both ranges</span>
<a name="l01521"></a>01521   <span class="keywordflow">if</span> ( ubRoomInfo &gt;= <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#5a5648a1bb3507cc41f6be199c51a3f8">ubProfile</a> ].ubRoomRangeStart[ 0 ] &amp;&amp;
<a name="l01522"></a>01522        ubRoomInfo &lt;= <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#5a5648a1bb3507cc41f6be199c51a3f8">ubProfile</a> ].ubRoomRangeEnd[ 0 ] )
<a name="l01523"></a>01523   {
<a name="l01524"></a>01524      <span class="keywordflow">return</span>( TRUE );
<a name="l01525"></a>01525   }
<a name="l01526"></a>01526 
<a name="l01527"></a>01527   <span class="keywordflow">if</span> ( ubRoomInfo &gt;= <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#5a5648a1bb3507cc41f6be199c51a3f8">ubProfile</a> ].ubRoomRangeStart[ 1 ] &amp;&amp;
<a name="l01528"></a>01528        ubRoomInfo &lt;= <a class="code" href="Soldier_01Profile_8cpp.html#1bcff2c50b375b1eb32800aa12000289">gMercProfiles</a>[ <a class="code" href="aniviewscreen_8cpp.html#629cf92081f22af2ea4014413ff37801">pSoldier</a>-&gt;<a class="code" href="structSOLDIERTYPE.html#5a5648a1bb3507cc41f6be199c51a3f8">ubProfile</a> ].ubRoomRangeEnd[ 1 ] )
<a name="l01529"></a>01529   {
<a name="l01530"></a>01530      <span class="keywordflow">return</span>( TRUE );
<a name="l01531"></a>01531   }
<a name="l01532"></a>01532 
<a name="l01533"></a>01533   <span class="keywordflow">return</span>( FALSE );
<a name="l01534"></a>01534 }
<a name="l01535"></a>01535 
<a name="l01536"></a><a class="code" href="Soldier_01Profile_8h.html#af54d2ee589abe3a601d69ae2a995cec">01536</a> <a class="code" href="Types_8h.html#112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> <a class="code" href="Soldier_01Profile_8cpp.html#af54d2ee589abe3a601d69ae2a995cec">IsProfileIdAnAimOrMERCMerc</a>( <a class="code" href="Types_8h.html#b27e9918b538ce9d8ca692479b375b6a">UINT8</a> ubProfileID )
<a name="l01537"></a>01537 {
<a name="l01538"></a>01538       
<a name="l01539"></a>01539       <span class="keywordflow">if</span>( ubProfileID &lt; <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa13dc4c95a5c12ad442818d581d30b73e8">BIFF</a> || 
<a name="l01540"></a>01540                   ( ubProfileID &gt;= <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa13dc4c95a5c12ad442818d581d30b73e8">BIFF</a> &amp;&amp; ubProfileID &lt;= <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa1fd824c957c9f0542a7197c1f1d2b7f5d">BUBBA</a> ) || 
<a name="l01541"></a>01541                   ubProfileID &gt;= <a class="code" href="Soldier_01Profile_8h.html#acaa92dcb344e96138c964deae3e2fa150c510db5aaca8d588a456f077a86a2d">GASTON</a> )
<a name="l01542"></a>01542       {
<a name="l01543"></a>01543             <span class="keywordflow">return</span>( TRUE );
<a name="l01544"></a>01544       }
<a name="l01545"></a>01545 
<a name="l01546"></a>01546       <span class="keywordflow">return</span>( FALSE );
<a name="l01547"></a>01547 }
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sat Sep 9 13:49:02 2006 for Build by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
